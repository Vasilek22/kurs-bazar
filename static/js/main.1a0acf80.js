/*! For license information please see main.1a0acf80.js.LICENSE.txt */
(()=>{"use strict";var e={730:(e,t,n)=>{var r=n(43),i=n(853);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,a={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(a[e]=t,e=0;e<t.length;e++)o.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(e,t,n,r,i,s,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function w(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!h.call(p,e)||!h.call(f,e)&&(d.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_=Symbol.for("react.element"),A=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),S=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),x=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),R=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var P=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var L=Symbol.iterator;function O(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=L&&e[L]||e["@@iterator"])?e:null}var M,j=Object.assign;function U(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var F=!1;function B(e,t){if(!e||F)return"";F=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),s=r.stack.split("\n"),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(1!==o||1!==a)do{if(o--,0>--a||i[o]!==s[a]){var l="\n"+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=o&&0<=a);break}}}finally{F=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?U(e):""}function V(e){switch(e.tag){case 5:return U(e.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 2:case 15:return e=B(e.type,!1);case 11:return e=B(e.type.render,!1);case 1:return e=B(e.type,!0);default:return""}}function z(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case E:return"Fragment";case A:return"Portal";case k:return"Profiler";case I:return"StrictMode";case N:return"Suspense";case x:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case S:return(e.displayName||"Context")+".Consumer";case C:return(e._context.displayName||"Context")+".Provider";case T:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case D:return null!==(t=e.displayName||null)?t:z(e.type)||"Memo";case R:t=e._payload,e=e._init;try{return z(e(t))}catch(n){}}return null}function H(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z(t);case 8:return t===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function q(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function Q(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function W(e){e._valueTracker||(e._valueTracker=function(e){var t=Q(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Q(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function G(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function J(e,t){var n=t.checked;return j({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function X(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Y(e,t){null!=(t=t.checked)&&w(e,"checked",t,!1)}function Z(e,t){Y(e,t);var n=q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function $(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&G(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+q(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return j({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(s(92));if(te(n)){if(1<n.length)throw Error(s(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:q(n)}}function se(e,t){var n=q(t.value),r=q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ae(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ae(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,he=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function de(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(fe).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var ve=j({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function we(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function _e(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ae=null,Ee=null,Ie=null;function ke(e){if(e=wi(e)){if("function"!==typeof Ae)throw Error(s(280));var t=e.stateNode;t&&(t=_i(t),Ae(e.stateNode,e.type,t))}}function Ce(e){Ee?Ie?Ie.push(e):Ie=[e]:Ee=e}function Se(){if(Ee){var e=Ee,t=Ie;if(Ie=Ee=null,ke(e),t)for(e=0;e<t.length;e++)ke(t[e])}}function Te(e,t){return e(t)}function Ne(){}var xe=!1;function De(e,t,n){if(xe)return e(t,n);xe=!0;try{return Te(e,t,n)}finally{xe=!1,(null!==Ee||null!==Ie)&&(Ne(),Se())}}function Re(e,t){var n=e.stateNode;if(null===n)return null;var r=_i(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var Pe=!1;if(u)try{var Le={};Object.defineProperty(Le,"passive",{get:function(){Pe=!0}}),window.addEventListener("test",Le,Le),window.removeEventListener("test",Le,Le)}catch(ue){Pe=!1}function Oe(e,t,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Me=!1,je=null,Ue=!1,Fe=null,Be={onError:function(e){Me=!0,je=e}};function Ve(e,t,n,r,i,s,o,a,l){Me=!1,je=null,Oe.apply(Be,arguments)}function ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function He(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function qe(e){if(ze(e)!==e)throw Error(s(188))}function Qe(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=ze(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return qe(i),e;if(o===r)return qe(i),t;o=o.sibling}throw Error(s(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,r=o;break}if(l===r){a=!0,r=i,n=o;break}l=l.sibling}if(!a){for(l=o.child;l;){if(l===n){a=!0,n=o,r=i;break}if(l===r){a=!0,r=o,n=i;break}l=l.sibling}if(!a)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e))?We(e):null}function We(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=We(e);if(null!==t)return t;e=e.sibling}return null}var Ke=i.unstable_scheduleCallback,Ge=i.unstable_cancelCallback,Je=i.unstable_shouldYield,Xe=i.unstable_requestPaint,Ye=i.unstable_now,Ze=i.unstable_getCurrentPriorityLevel,$e=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,st=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(at(e)/lt|0)|0},at=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function ht(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,o=268435455&n;if(0!==o){var a=o&~i;0!==a?r=ht(a):0!==(s&=o)&&(r=ht(s))}else 0!==(o=n&~i)?r=ht(o):0!==s&&(r=ht(s));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(s=t&-t)||16===i&&0!==(4194240&s)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var wt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var _t,At,Et,It,kt,Ct=!1,St=[],Tt=null,Nt=null,xt=null,Dt=new Map,Rt=new Map,Pt=[],Lt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ot(e,t){switch(e){case"focusin":case"focusout":Tt=null;break;case"dragenter":case"dragleave":Nt=null;break;case"mouseover":case"mouseout":xt=null;break;case"pointerover":case"pointerout":Dt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rt.delete(t.pointerId)}}function Mt(e,t,n,r,i,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},null!==t&&(null!==(t=wi(t))&&At(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function jt(e){var t=yi(e.target);if(null!==t){var n=ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=He(n)))return e.blockedOn=t,void kt(e.priority,(function(){Et(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ut(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Jt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=wi(n))&&At(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Ft(e,t,n){Ut(e)&&n.delete(t)}function Bt(){Ct=!1,null!==Tt&&Ut(Tt)&&(Tt=null),null!==Nt&&Ut(Nt)&&(Nt=null),null!==xt&&Ut(xt)&&(xt=null),Dt.forEach(Ft),Rt.forEach(Ft)}function Vt(e,t){e.blockedOn===t&&(e.blockedOn=null,Ct||(Ct=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Bt)))}function zt(e){function t(t){return Vt(t,e)}if(0<St.length){Vt(St[0],e);for(var n=1;n<St.length;n++){var r=St[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Tt&&Vt(Tt,e),null!==Nt&&Vt(Nt,e),null!==xt&&Vt(xt,e),Dt.forEach(t),Rt.forEach(t),n=0;n<Pt.length;n++)(r=Pt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Pt.length&&null===(n=Pt[0]).blockedOn;)jt(n),null===n.blockedOn&&Pt.shift()}var Ht=b.ReactCurrentBatchConfig,qt=!0;function Qt(e,t,n,r){var i=wt,s=Ht.transition;Ht.transition=null;try{wt=1,Kt(e,t,n,r)}finally{wt=i,Ht.transition=s}}function Wt(e,t,n,r){var i=wt,s=Ht.transition;Ht.transition=null;try{wt=4,Kt(e,t,n,r)}finally{wt=i,Ht.transition=s}}function Kt(e,t,n,r){if(qt){var i=Jt(e,t,n,r);if(null===i)qr(e,t,r,Gt,n),Ot(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Tt=Mt(Tt,e,t,n,r,i),!0;case"dragenter":return Nt=Mt(Nt,e,t,n,r,i),!0;case"mouseover":return xt=Mt(xt,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return Dt.set(s,Mt(Dt.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Rt.set(s,Mt(Rt.get(s)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Ot(e,r),4&t&&-1<Lt.indexOf(e)){for(;null!==i;){var s=wi(i);if(null!==s&&_t(s),null===(s=Jt(e,t,n,r))&&qr(e,t,r,Gt,n),s===i)break;i=s}null!==i&&r.stopPropagation()}else qr(e,t,r,null,n)}}var Gt=null;function Jt(e,t,n,r){if(Gt=null,null!==(e=yi(e=_e(r))))if(null===(t=ze(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=He(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Gt=e,null}function Xt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ze()){case $e:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Yt=null,Zt=null,$t=null;function en(){if($t)return $t;var e,t,n=Zt,r=n.length,i="value"in Yt?Yt.value:Yt.textContent,s=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[s-t];t++);return $t=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function sn(e){function t(t,n,r,i,s){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return j(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,an,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=sn(cn),hn=j({},cn,{view:0,detail:0}),dn=sn(hn),fn=j({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(on=e.screenX-ln.screenX,an=e.screenY-ln.screenY):an=on=0,ln=e),on)},movementY:function(e){return"movementY"in e?e.movementY:an}}),pn=sn(fn),mn=sn(j({},fn,{dataTransfer:0})),gn=sn(j({},hn,{relatedTarget:0})),vn=sn(j({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=j({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),wn=sn(yn),bn=sn(j({},cn,{data:0})),_n={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},An={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},En={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function In(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=En[e])&&!!t[e]}function kn(){return In}var Cn=j({},hn,{key:function(e){if(e.key){var t=_n[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?An[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Sn=sn(Cn),Tn=sn(j({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Nn=sn(j({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kn})),xn=sn(j({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Dn=j({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Rn=sn(Dn),Pn=[9,13,27,32],Ln=u&&"CompositionEvent"in window,On=null;u&&"documentMode"in document&&(On=document.documentMode);var Mn=u&&"TextEvent"in window&&!On,jn=u&&(!Ln||On&&8<On&&11>=On),Un=String.fromCharCode(32),Fn=!1;function Bn(e,t){switch(e){case"keyup":return-1!==Pn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var zn=!1;var Hn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Hn[e.type]:"textarea"===t}function Qn(e,t,n,r){Ce(r),0<(t=Wr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Wn=null,Kn=null;function Gn(e){Ur(e,0)}function Jn(e){if(K(bi(e)))return e}function Xn(e,t){if("change"===e)return t}var Yn=!1;if(u){var Zn;if(u){var $n="oninput"in document;if(!$n){var er=document.createElement("div");er.setAttribute("oninput","return;"),$n="function"===typeof er.oninput}Zn=$n}else Zn=!1;Yn=Zn&&(!document.documentMode||9<document.documentMode)}function tr(){Wn&&(Wn.detachEvent("onpropertychange",nr),Kn=Wn=null)}function nr(e){if("value"===e.propertyName&&Jn(Kn)){var t=[];Qn(t,Kn,e,_e(e)),De(Gn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Kn=n,(Wn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Jn(Kn)}function sr(e,t){if("click"===e)return Jn(t)}function or(e,t){if("input"===e||"change"===e)return Jn(t)}var ar="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(ar(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!h.call(t,i)||!ar(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function hr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?hr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function dr(){for(var e=window,t=G();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=G((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=dr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&hr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=void 0===r.end?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=ur(n,s);var o=ur(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=u&&"documentMode"in document&&11>=document.documentMode,gr=null,vr=null,yr=null,wr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;wr||null==gr||gr!==G(r)||("selectionStart"in(r=gr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&lr(yr,r)||(yr=r,0<(r=Wr(vr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function _r(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ar={animationend:_r("Animation","AnimationEnd"),animationiteration:_r("Animation","AnimationIteration"),animationstart:_r("Animation","AnimationStart"),transitionend:_r("Transition","TransitionEnd")},Er={},Ir={};function kr(e){if(Er[e])return Er[e];if(!Ar[e])return e;var t,n=Ar[e];for(t in n)if(n.hasOwnProperty(t)&&t in Ir)return Er[e]=n[t];return e}u&&(Ir=document.createElement("div").style,"AnimationEvent"in window||(delete Ar.animationend.animation,delete Ar.animationiteration.animation,delete Ar.animationstart.animation),"TransitionEvent"in window||delete Ar.transitionend.transition);var Cr=kr("animationend"),Sr=kr("animationiteration"),Tr=kr("animationstart"),Nr=kr("transitionend"),xr=new Map,Dr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rr(e,t){xr.set(e,t),l(t,[e])}for(var Pr=0;Pr<Dr.length;Pr++){var Lr=Dr[Pr];Rr(Lr.toLowerCase(),"on"+(Lr[0].toUpperCase()+Lr.slice(1)))}Rr(Cr,"onAnimationEnd"),Rr(Sr,"onAnimationIteration"),Rr(Tr,"onAnimationStart"),Rr("dblclick","onDoubleClick"),Rr("focusin","onFocus"),Rr("focusout","onBlur"),Rr(Nr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Or="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Or));function jr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,a,l,c){if(Ve.apply(this,arguments),Me){if(!Me)throw Error(s(198));var u=je;Me=!1,je=null,Ue||(Ue=!0,Fe=u)}}(r,t,void 0,e),e.currentTarget=null}function Ur(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;jr(i,a,c),s=l}else for(o=0;o<r.length;o++){if(l=(a=r[o]).instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;jr(i,a,c),s=l}}}if(Ue)throw e=Fe,Ue=!1,Fe=null,e}function Fr(e,t){var n=t[mi];void 0===n&&(n=t[mi]=new Set);var r=e+"__bubble";n.has(r)||(Hr(t,e,2,!1),n.add(r))}function Br(e,t,n){var r=0;t&&(r|=4),Hr(n,e,r,t)}var Vr="_reactListening"+Math.random().toString(36).slice(2);function zr(e){if(!e[Vr]){e[Vr]=!0,o.forEach((function(t){"selectionchange"!==t&&(Mr.has(t)||Br(t,!1,e),Br(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Vr]||(t[Vr]=!0,Br("selectionchange",!1,t))}}function Hr(e,t,n,r){switch(Xt(t)){case 1:var i=Qt;break;case 4:i=Wt;break;default:i=Kt}n=i.bind(null,t,n,e),i=void 0,!Pe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function qr(e,t,n,r,i){var s=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var a=r.stateNode.containerInfo;if(a===i||8===a.nodeType&&a.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var l=o.tag;if((3===l||4===l)&&((l=o.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;o=o.return}for(;null!==a;){if(null===(o=yi(a)))return;if(5===(l=o.tag)||6===l){r=s=o;continue e}a=a.parentNode}}r=r.return}De((function(){var r=s,i=_e(n),o=[];e:{var a=xr.get(e);if(void 0!==a){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=Sn;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Nn;break;case Cr:case Sr:case Tr:l=vn;break;case Nr:l=xn;break;case"scroll":l=dn;break;case"wheel":l=Rn;break;case"copy":case"cut":case"paste":l=wn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Tn}var u=0!==(4&t),h=!u&&"scroll"===e,d=u?null!==a?a+"Capture":null:a;u=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==d&&(null!=(m=Re(p,d))&&u.push(Qr(p,m,f)))),h)break;p=p.return}0<u.length&&(a=new l(a,c,null,n,i),o.push({event:a,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!yi(c)&&!c[pi])&&(l||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?yi(c):null)&&(c!==(h=ze(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=pn,m="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=Tn,m="onPointerLeave",d="onPointerEnter",p="pointer"),h=null==l?a:bi(l),f=null==c?a:bi(c),(a=new u(m,p+"leave",l,n,i)).target=h,a.relatedTarget=f,m=null,yi(i)===r&&((u=new u(d,p+"enter",c,n,i)).target=f,u.relatedTarget=h,m=u),h=m,l&&c)e:{for(d=c,p=0,f=u=l;f;f=Kr(f))p++;for(f=0,m=d;m;m=Kr(m))f++;for(;0<p-f;)u=Kr(u),p--;for(;0<f-p;)d=Kr(d),f--;for(;p--;){if(u===d||null!==d&&u===d.alternate)break e;u=Kr(u),d=Kr(d)}u=null}else u=null;null!==l&&Gr(o,a,l,u,!1),null!==c&&null!==h&&Gr(o,h,c,u,!0)}if("select"===(l=(a=r?bi(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var g=Xn;else if(qn(a))if(Yn)g=or;else{g=ir;var v=rr}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(g=sr);switch(g&&(g=g(e,r))?Qn(o,g,n,i):(v&&v(e,a,r),"focusout"===e&&(v=a._wrapperState)&&v.controlled&&"number"===a.type&&ee(a,"number",a.value)),v=r?bi(r):window,e){case"focusin":(qn(v)||"true"===v.contentEditable)&&(gr=v,vr=r,yr=null);break;case"focusout":yr=vr=gr=null;break;case"mousedown":wr=!0;break;case"contextmenu":case"mouseup":case"dragend":wr=!1,br(o,n,i);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":br(o,n,i)}var y;if(Ln)e:{switch(e){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else zn?Bn(e,n)&&(w="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(w="onCompositionStart");w&&(jn&&"ko"!==n.locale&&(zn||"onCompositionStart"!==w?"onCompositionEnd"===w&&zn&&(y=en()):(Zt="value"in(Yt=i)?Yt.value:Yt.textContent,zn=!0)),0<(v=Wr(r,w)).length&&(w=new bn(w,e,null,n,i),o.push({event:w,listeners:v}),y?w.data=y:null!==(y=Vn(n))&&(w.data=y))),(y=Mn?function(e,t){switch(e){case"compositionend":return Vn(t);case"keypress":return 32!==t.which?null:(Fn=!0,Un);case"textInput":return(e=t.data)===Un&&Fn?null:e;default:return null}}(e,n):function(e,t){if(zn)return"compositionend"===e||!Ln&&Bn(e,t)?(e=en(),$t=Zt=Yt=null,zn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return jn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Wr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=y))}Ur(o,t)}))}function Qr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Wr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,s=i.stateNode;5===i.tag&&null!==s&&(i=s,null!=(s=Re(e,n))&&r.unshift(Qr(e,s,i)),null!=(s=Re(e,t))&&r.push(Qr(e,s,i))),e=e.return}return r}function Kr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Gr(e,t,n,r,i){for(var s=t._reactName,o=[];null!==n&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(null!==l&&l===r)break;5===a.tag&&null!==c&&(a=c,i?null!=(l=Re(n,s))&&o.unshift(Qr(n,l,a)):i||null!=(l=Re(n,s))&&o.push(Qr(n,l,a))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Jr=/\r\n?/g,Xr=/\u0000|\uFFFD/g;function Yr(e){return("string"===typeof e?e:""+e).replace(Jr,"\n").replace(Xr,"")}function Zr(e,t,n){if(t=Yr(t),Yr(e)!==t&&n)throw Error(s(425))}function $r(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,si="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof si?function(e){return si.resolve(null).then(e).catch(ai)}:ri;function ai(e){setTimeout((function(){throw e}))}function li(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void zt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);zt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ui(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var hi=Math.random().toString(36).slice(2),di="__reactFiber$"+hi,fi="__reactProps$"+hi,pi="__reactContainer$"+hi,mi="__reactEvents$"+hi,gi="__reactListeners$"+hi,vi="__reactHandles$"+hi;function yi(e){var t=e[di];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[di]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ui(e);null!==e;){if(n=e[di])return n;e=ui(e)}return t}n=(e=n).parentNode}return null}function wi(e){return!(e=e[di]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function _i(e){return e[fi]||null}var Ai=[],Ei=-1;function Ii(e){return{current:e}}function ki(e){0>Ei||(e.current=Ai[Ei],Ai[Ei]=null,Ei--)}function Ci(e,t){Ei++,Ai[Ei]=e.current,e.current=t}var Si={},Ti=Ii(Si),Ni=Ii(!1),xi=Si;function Di(e,t){var n=e.type.contextTypes;if(!n)return Si;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,s={};for(i in n)s[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Ri(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Pi(){ki(Ni),ki(Ti)}function Li(e,t,n){if(Ti.current!==Si)throw Error(s(168));Ci(Ti,t),Ci(Ni,n)}function Oi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(s(108,H(e)||"Unknown",i));return j({},n,r)}function Mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Si,xi=Ti.current,Ci(Ti,e),Ci(Ni,Ni.current),!0}function ji(e,t,n){var r=e.stateNode;if(!r)throw Error(s(169));n?(e=Oi(e,t,xi),r.__reactInternalMemoizedMergedChildContext=e,ki(Ni),ki(Ti),Ci(Ti,e)):ki(Ni),Ci(Ni,n)}var Ui=null,Fi=!1,Bi=!1;function Vi(e){null===Ui?Ui=[e]:Ui.push(e)}function zi(){if(!Bi&&null!==Ui){Bi=!0;var e=0,t=wt;try{var n=Ui;for(wt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Ui=null,Fi=!1}catch(i){throw null!==Ui&&(Ui=Ui.slice(e+1)),Ke($e,zi),i}finally{wt=t,Bi=!1}}return null}var Hi=[],qi=0,Qi=null,Wi=0,Ki=[],Gi=0,Ji=null,Xi=1,Yi="";function Zi(e,t){Hi[qi++]=Wi,Hi[qi++]=Qi,Qi=e,Wi=t}function $i(e,t,n){Ki[Gi++]=Xi,Ki[Gi++]=Yi,Ki[Gi++]=Ji,Ji=e;var r=Xi;e=Yi;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var s=32-ot(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Xi=1<<32-ot(t)+i|n<<i|r,Yi=s+e}else Xi=1<<s|n<<i|r,Yi=e}function es(e){null!==e.return&&(Zi(e,1),$i(e,1,0))}function ts(e){for(;e===Qi;)Qi=Hi[--qi],Hi[qi]=null,Wi=Hi[--qi],Hi[qi]=null;for(;e===Ji;)Ji=Ki[--Gi],Ki[Gi]=null,Yi=Ki[--Gi],Ki[Gi]=null,Xi=Ki[--Gi],Ki[Gi]=null}var ns=null,rs=null,is=!1,ss=null;function os(e,t){var n=Rc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function as(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ns=e,rs=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ns=e,rs=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Ji?{id:Xi,overflow:Yi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Rc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ns=e,rs=null,!0);default:return!1}}function ls(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function cs(e){if(is){var t=rs;if(t){var n=t;if(!as(e,t)){if(ls(e))throw Error(s(418));t=ci(n.nextSibling);var r=ns;t&&as(e,t)?os(r,n):(e.flags=-4097&e.flags|2,is=!1,ns=e)}}else{if(ls(e))throw Error(s(418));e.flags=-4097&e.flags|2,is=!1,ns=e}}}function us(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ns=e}function hs(e){if(e!==ns)return!1;if(!is)return us(e),is=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=rs)){if(ls(e))throw ds(),Error(s(418));for(;t;)os(e,t),t=ci(t.nextSibling)}if(us(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){rs=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}rs=null}}else rs=ns?ci(e.stateNode.nextSibling):null;return!0}function ds(){for(var e=rs;e;)e=ci(e.nextSibling)}function fs(){rs=ns=null,is=!1}function ps(e){null===ss?ss=[e]:ss.push(e)}var ms=b.ReactCurrentBatchConfig;function gs(e,t){if(e&&e.defaultProps){for(var n in t=j({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var vs=Ii(null),ys=null,ws=null,bs=null;function _s(){bs=ws=ys=null}function As(e){var t=vs.current;ki(vs),e._currentValue=t}function Es(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Is(e,t){ys=e,bs=ws=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ba=!0),e.firstContext=null)}function ks(e){var t=e._currentValue;if(bs!==e)if(e={context:e,memoizedValue:t,next:null},null===ws){if(null===ys)throw Error(s(308));ws=e,ys.dependencies={lanes:0,firstContext:e}}else ws=ws.next=e;return t}var Cs=null;function Ss(e){null===Cs?Cs=[e]:Cs.push(e)}function Ts(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ss(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ns(e,r)}function Ns(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var xs=!1;function Ds(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Rs(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ps(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ls(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Nl)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ns(e,n)}return null===(i=r.interleaved)?(t.next=t,Ss(r)):(t.next=i.next,i.next=t),r.interleaved=t,Ns(e,n)}function Os(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Ms(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?i=s=o:s=s.next=o,n=n.next}while(null!==n);null===s?i=s=t:s=s.next=t}else i=s=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function js(e,t,n,r){var i=e.updateQueue;xs=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(null!==a){i.shared.pending=null;var l=a,c=l.next;l.next=null,null===o?s=c:o.next=c,o=l;var u=e.alternate;null!==u&&((a=(u=u.updateQueue).lastBaseUpdate)!==o&&(null===a?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(null!==s){var h=i.baseState;for(o=0,u=c=l=null,a=s;;){var d=a.lane,f=a.eventTime;if((r&d)===d){null!==u&&(u=u.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,m=a;switch(d=t,f=n,m.tag){case 1:if("function"===typeof(p=m.payload)){h=p.call(f,h,d);break e}h=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(d="function"===typeof(p=m.payload)?p.call(f,h,d):p)||void 0===d)break e;h=j({},h,d);break e;case 2:xs=!0}}null!==a.callback&&0!==a.lane&&(e.flags|=64,null===(d=i.effects)?i.effects=[a]:d.push(a))}else f={eventTime:f,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===u?(c=u=f,l=h):u=u.next=f,o|=d;if(null===(a=a.next)){if(null===(a=i.shared.pending))break;a=(d=a).next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}if(null===u&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===s&&(i.shared.lanes=0);jl|=o,e.lanes=o,e.memoizedState=h}}function Us(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(s(191,i));i.call(r)}}}var Fs=(new r.Component).refs;function Bs(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:j({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Vs={isMounted:function(e){return!!(e=e._reactInternals)&&ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),s=Ps(r,i);s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Ls(e,s,i))&&(rc(t,e,i,r),Os(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),s=Ps(r,i);s.tag=1,s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Ls(e,s,i))&&(rc(t,e,i,r),Os(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tc(),r=nc(e),i=Ps(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Ls(e,i,r))&&(rc(t,e,r,n),Os(t,e,r))}};function zs(e,t,n,r,i,s,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,o):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,s))}function Hs(e,t,n){var r=!1,i=Si,s=t.contextType;return"object"===typeof s&&null!==s?s=ks(s):(i=Ri(t)?xi:Ti.current,s=(r=null!==(r=t.contextTypes)&&void 0!==r)?Di(e,i):Si),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Vs,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function qs(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Vs.enqueueReplaceState(t,t.state,null)}function Qs(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Fs,Ds(e);var s=t.contextType;"object"===typeof s&&null!==s?i.context=ks(s):(s=Ri(t)?xi:Ti.current,i.context=Di(e,s)),i.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(Bs(e,t,s,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Vs.enqueueReplaceState(i,i.state,null),js(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Ws(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var r=n.stateNode}if(!r)throw Error(s(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===Fs&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function Ks(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Gs(e){return(0,e._init)(e._payload)}function Js(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Lc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Uc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var s=n.type;return s===E?h(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===R&&Gs(s)===t.type)?((r=i(t,n.props)).ref=Ws(e,t,n),r.return=e,r):((r=Oc(n.type,n.key,n.props,null,e.mode,r)).ref=Ws(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,s){return null===t||7!==t.tag?((t=Mc(n,e.mode,r,s)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Uc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case _:return(n=Oc(t.type,t.key,t.props,null,e.mode,n)).ref=Ws(e,null,t),n.return=e,n;case A:return(t=Fc(t,e.mode,n)).return=e,t;case R:return d(e,(0,t._init)(t._payload),n)}if(te(t)||O(t))return(t=Mc(t,e.mode,n,null)).return=e,t;Ks(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case _:return n.key===i?c(e,t,n,r):null;case A:return n.key===i?u(e,t,n,r):null;case R:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||O(n))return null!==i?null:h(e,t,n,r,null);Ks(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case _:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case A:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case R:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||O(r))return h(t,e=e.get(n)||null,r,i,null);Ks(t,r)}return null}function m(i,s,a,l){for(var c=null,u=null,h=s,m=s=0,g=null;null!==h&&m<a.length;m++){h.index>m?(g=h,h=null):g=h.sibling;var v=f(i,h,a[m],l);if(null===v){null===h&&(h=g);break}e&&h&&null===v.alternate&&t(i,h),s=o(v,s,m),null===u?c=v:u.sibling=v,u=v,h=g}if(m===a.length)return n(i,h),is&&Zi(i,m),c;if(null===h){for(;m<a.length;m++)null!==(h=d(i,a[m],l))&&(s=o(h,s,m),null===u?c=h:u.sibling=h,u=h);return is&&Zi(i,m),c}for(h=r(i,h);m<a.length;m++)null!==(g=p(h,i,m,a[m],l))&&(e&&null!==g.alternate&&h.delete(null===g.key?m:g.key),s=o(g,s,m),null===u?c=g:u.sibling=g,u=g);return e&&h.forEach((function(e){return t(i,e)})),is&&Zi(i,m),c}function g(i,a,l,c){var u=O(l);if("function"!==typeof u)throw Error(s(150));if(null==(l=u.call(l)))throw Error(s(151));for(var h=u=null,m=a,g=a=0,v=null,y=l.next();null!==m&&!y.done;g++,y=l.next()){m.index>g?(v=m,m=null):v=m.sibling;var w=f(i,m,y.value,c);if(null===w){null===m&&(m=v);break}e&&m&&null===w.alternate&&t(i,m),a=o(w,a,g),null===h?u=w:h.sibling=w,h=w,m=v}if(y.done)return n(i,m),is&&Zi(i,g),u;if(null===m){for(;!y.done;g++,y=l.next())null!==(y=d(i,y.value,c))&&(a=o(y,a,g),null===h?u=y:h.sibling=y,h=y);return is&&Zi(i,g),u}for(m=r(i,m);!y.done;g++,y=l.next())null!==(y=p(m,i,g,y.value,c))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),a=o(y,a,g),null===h?u=y:h.sibling=y,h=y);return e&&m.forEach((function(e){return t(i,e)})),is&&Zi(i,g),u}return function e(r,s,o,l){if("object"===typeof o&&null!==o&&o.type===E&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case _:e:{for(var c=o.key,u=s;null!==u;){if(u.key===c){if((c=o.type)===E){if(7===u.tag){n(r,u.sibling),(s=i(u,o.props.children)).return=r,r=s;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===R&&Gs(c)===u.type){n(r,u.sibling),(s=i(u,o.props)).ref=Ws(r,u,o),s.return=r,r=s;break e}n(r,u);break}t(r,u),u=u.sibling}o.type===E?((s=Mc(o.props.children,r.mode,l,o.key)).return=r,r=s):((l=Oc(o.type,o.key,o.props,null,r.mode,l)).ref=Ws(r,s,o),l.return=r,r=l)}return a(r);case A:e:{for(u=o.key;null!==s;){if(s.key===u){if(4===s.tag&&s.stateNode.containerInfo===o.containerInfo&&s.stateNode.implementation===o.implementation){n(r,s.sibling),(s=i(s,o.children||[])).return=r,r=s;break e}n(r,s);break}t(r,s),s=s.sibling}(s=Fc(o,r.mode,l)).return=r,r=s}return a(r);case R:return e(r,s,(u=o._init)(o._payload),l)}if(te(o))return m(r,s,o,l);if(O(o))return g(r,s,o,l);Ks(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==s&&6===s.tag?(n(r,s.sibling),(s=i(s,o)).return=r,r=s):(n(r,s),(s=Uc(o,r.mode,l)).return=r,r=s),a(r)):n(r,s)}}var Xs=Js(!0),Ys=Js(!1),Zs={},$s=Ii(Zs),eo=Ii(Zs),to=Ii(Zs);function no(e){if(e===Zs)throw Error(s(174));return e}function ro(e,t){switch(Ci(to,t),Ci(eo,e),Ci($s,Zs),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ki($s),Ci($s,t)}function io(){ki($s),ki(eo),ki(to)}function so(e){no(to.current);var t=no($s.current),n=le(t,e.type);t!==n&&(Ci(eo,e),Ci($s,n))}function oo(e){eo.current===e&&(ki($s),ki(eo))}var ao=Ii(0);function lo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var co=[];function uo(){for(var e=0;e<co.length;e++)co[e]._workInProgressVersionPrimary=null;co.length=0}var ho=b.ReactCurrentDispatcher,fo=b.ReactCurrentBatchConfig,po=0,mo=null,go=null,vo=null,yo=!1,wo=!1,bo=0,_o=0;function Ao(){throw Error(s(321))}function Eo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ar(e[n],t[n]))return!1;return!0}function Io(e,t,n,r,i,o){if(po=o,mo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ho.current=null===e||null===e.memoizedState?aa:la,e=n(r,i),wo){o=0;do{if(wo=!1,bo=0,25<=o)throw Error(s(301));o+=1,vo=go=null,t.updateQueue=null,ho.current=ca,e=n(r,i)}while(wo)}if(ho.current=oa,t=null!==go&&null!==go.next,po=0,vo=go=mo=null,yo=!1,t)throw Error(s(300));return e}function ko(){var e=0!==bo;return bo=0,e}function Co(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===vo?mo.memoizedState=vo=e:vo=vo.next=e,vo}function So(){if(null===go){var e=mo.alternate;e=null!==e?e.memoizedState:null}else e=go.next;var t=null===vo?mo.memoizedState:vo.next;if(null!==t)vo=t,go=e;else{if(null===e)throw Error(s(310));e={memoizedState:(go=e).memoizedState,baseState:go.baseState,baseQueue:go.baseQueue,queue:go.queue,next:null},null===vo?mo.memoizedState=vo=e:vo=vo.next=e}return vo}function To(e,t){return"function"===typeof t?t(e):t}function No(e){var t=So(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=go,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var l=a=null,c=null,u=o;do{var h=u.lane;if((po&h)===h)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=d,a=r):c=c.next=d,mo.lanes|=h,jl|=h}u=u.next}while(null!==u&&u!==o);null===c?a=r:c.next=l,ar(r,t.memoizedState)||(ba=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,mo.lanes|=o,jl|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function xo(e){var t=So(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{o=e(o,a.action),a=a.next}while(a!==i);ar(o,t.memoizedState)||(ba=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Do(){}function Ro(e,t){var n=mo,r=So(),i=t(),o=!ar(r.memoizedState,i);if(o&&(r.memoizedState=i,ba=!0),r=r.queue,qo(Oo.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==vo&&1&vo.memoizedState.tag){if(n.flags|=2048,Fo(9,Lo.bind(null,n,r,i,t),void 0,null),null===xl)throw Error(s(349));0!==(30&po)||Po(n,t,i)}return i}function Po(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=mo.updateQueue)?(t={lastEffect:null,stores:null},mo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Lo(e,t,n,r){t.value=n,t.getSnapshot=r,Mo(t)&&jo(e)}function Oo(e,t,n){return n((function(){Mo(t)&&jo(e)}))}function Mo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ar(e,n)}catch(r){return!0}}function jo(e){var t=Ns(e,1);null!==t&&rc(t,e,1,-1)}function Uo(e){var t=Co();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:To,lastRenderedState:e},t.queue=e,e=e.dispatch=na.bind(null,mo,e),[t.memoizedState,e]}function Fo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=mo.updateQueue)?(t={lastEffect:null,stores:null},mo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Bo(){return So().memoizedState}function Vo(e,t,n,r){var i=Co();mo.flags|=e,i.memoizedState=Fo(1|t,n,void 0,void 0===r?null:r)}function zo(e,t,n,r){var i=So();r=void 0===r?null:r;var s=void 0;if(null!==go){var o=go.memoizedState;if(s=o.destroy,null!==r&&Eo(r,o.deps))return void(i.memoizedState=Fo(t,n,s,r))}mo.flags|=e,i.memoizedState=Fo(1|t,n,s,r)}function Ho(e,t){return Vo(8390656,8,e,t)}function qo(e,t){return zo(2048,8,e,t)}function Qo(e,t){return zo(4,2,e,t)}function Wo(e,t){return zo(4,4,e,t)}function Ko(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Go(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,zo(4,4,Ko.bind(null,t,e),n)}function Jo(){}function Xo(e,t){var n=So();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Eo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Yo(e,t){var n=So();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Eo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Zo(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,ba=!0),e.memoizedState=n):(ar(n,t)||(n=mt(),mo.lanes|=n,jl|=n,e.baseState=!0),t)}function $o(e,t){var n=wt;wt=0!==n&&4>n?n:4,e(!0);var r=fo.transition;fo.transition={};try{e(!1),t()}finally{wt=n,fo.transition=r}}function ea(){return So().memoizedState}function ta(e,t,n){var r=nc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ra(e))ia(t,n);else if(null!==(n=Ts(e,t,n,r))){rc(n,e,r,tc()),sa(n,t,r)}}function na(e,t,n){var r=nc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ra(e))ia(t,i);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var o=t.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,ar(a,o)){var l=t.interleaved;return null===l?(i.next=i,Ss(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Ts(e,t,i,r))&&(rc(n,e,r,i=tc()),sa(n,t,r))}}function ra(e){var t=e.alternate;return e===mo||null!==t&&t===mo}function ia(e,t){wo=yo=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function sa(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var oa={readContext:ks,useCallback:Ao,useContext:Ao,useEffect:Ao,useImperativeHandle:Ao,useInsertionEffect:Ao,useLayoutEffect:Ao,useMemo:Ao,useReducer:Ao,useRef:Ao,useState:Ao,useDebugValue:Ao,useDeferredValue:Ao,useTransition:Ao,useMutableSource:Ao,useSyncExternalStore:Ao,useId:Ao,unstable_isNewReconciler:!1},aa={readContext:ks,useCallback:function(e,t){return Co().memoizedState=[e,void 0===t?null:t],e},useContext:ks,useEffect:Ho,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Vo(4194308,4,Ko.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Vo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Vo(4,2,e,t)},useMemo:function(e,t){var n=Co();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Co();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ta.bind(null,mo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Co().memoizedState=e},useState:Uo,useDebugValue:Jo,useDeferredValue:function(e){return Co().memoizedState=e},useTransition:function(){var e=Uo(!1),t=e[0];return e=$o.bind(null,e[1]),Co().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=mo,i=Co();if(is){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===xl)throw Error(s(349));0!==(30&po)||Po(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Ho(Oo.bind(null,r,o,e),[e]),r.flags|=2048,Fo(9,Lo.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Co(),t=xl.identifierPrefix;if(is){var n=Yi;t=":"+t+"R"+(n=(Xi&~(1<<32-ot(Xi)-1)).toString(32)+n),0<(n=bo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=_o++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},la={readContext:ks,useCallback:Xo,useContext:ks,useEffect:qo,useImperativeHandle:Go,useInsertionEffect:Qo,useLayoutEffect:Wo,useMemo:Yo,useReducer:No,useRef:Bo,useState:function(){return No(To)},useDebugValue:Jo,useDeferredValue:function(e){return Zo(So(),go.memoizedState,e)},useTransition:function(){return[No(To)[0],So().memoizedState]},useMutableSource:Do,useSyncExternalStore:Ro,useId:ea,unstable_isNewReconciler:!1},ca={readContext:ks,useCallback:Xo,useContext:ks,useEffect:qo,useImperativeHandle:Go,useInsertionEffect:Qo,useLayoutEffect:Wo,useMemo:Yo,useReducer:xo,useRef:Bo,useState:function(){return xo(To)},useDebugValue:Jo,useDeferredValue:function(e){var t=So();return null===go?t.memoizedState=e:Zo(t,go.memoizedState,e)},useTransition:function(){return[xo(To)[0],So().memoizedState]},useMutableSource:Do,useSyncExternalStore:Ro,useId:ea,unstable_isNewReconciler:!1};function ua(e,t){try{var n="",r=t;do{n+=V(r),r=r.return}while(r);var i=n}catch(s){i="\nError generating stack: "+s.message+"\n"+s.stack}return{value:e,source:t,stack:i,digest:null}}function ha(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function da(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var fa="function"===typeof WeakMap?WeakMap:Map;function pa(e,t,n){(n=Ps(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ql||(Ql=!0,Wl=r),da(0,t)},n}function ma(e,t,n){(n=Ps(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){da(0,t)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(n.callback=function(){da(0,t),"function"!==typeof r&&(null===Kl?Kl=new Set([this]):Kl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ga(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new fa;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Cc.bind(null,e,t,n),t.then(e,e))}function va(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ya(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Ps(-1,1)).tag=2,Ls(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var wa=b.ReactCurrentOwner,ba=!1;function _a(e,t,n,r){t.child=null===e?Ys(t,null,n,r):Xs(t,e.child,n,r)}function Aa(e,t,n,r,i){n=n.render;var s=t.ref;return Is(t,i),r=Io(e,t,n,r,s,i),n=ko(),null===e||ba?(is&&n&&es(t),t.flags|=1,_a(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Qa(e,t,i))}function Ea(e,t,n,r,i){if(null===e){var s=n.type;return"function"!==typeof s||Pc(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Oc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Ia(e,t,s,r,i))}if(s=e.child,0===(e.lanes&i)){var o=s.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(o,r)&&e.ref===t.ref)return Qa(e,t,i)}return t.flags|=1,(e=Lc(s,r)).ref=t.ref,e.return=t,t.child=e}function Ia(e,t,n,r,i){if(null!==e){var s=e.memoizedProps;if(lr(s,r)&&e.ref===t.ref){if(ba=!1,t.pendingProps=r=s,0===(e.lanes&i))return t.lanes=e.lanes,Qa(e,t,i);0!==(131072&e.flags)&&(ba=!0)}}return Sa(e,t,n,r,i)}function ka(e,t,n){var r=t.pendingProps,i=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ci(Ll,Pl),Pl|=n;else{if(0===(1073741824&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ci(Ll,Pl),Pl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==s?s.baseLanes:n,Ci(Ll,Pl),Pl|=r}else null!==s?(r=s.baseLanes|n,t.memoizedState=null):r=n,Ci(Ll,Pl),Pl|=r;return _a(e,t,i,n),t.child}function Ca(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Sa(e,t,n,r,i){var s=Ri(n)?xi:Ti.current;return s=Di(t,s),Is(t,i),n=Io(e,t,n,r,s,i),r=ko(),null===e||ba?(is&&r&&es(t),t.flags|=1,_a(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Qa(e,t,i))}function Ta(e,t,n,r,i){if(Ri(n)){var s=!0;Mi(t)}else s=!1;if(Is(t,i),null===t.stateNode)qa(e,t),Hs(t,n,r),Qs(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=ks(c):c=Di(t,c=Ri(n)?xi:Ti.current);var u=n.getDerivedStateFromProps,h="function"===typeof u||"function"===typeof o.getSnapshotBeforeUpdate;h||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==r||l!==c)&&qs(t,o,r,c),xs=!1;var d=t.memoizedState;o.state=d,js(t,r,o,i),l=t.memoizedState,a!==r||d!==l||Ni.current||xs?("function"===typeof u&&(Bs(t,n,u,r),l=t.memoizedState),(a=xs||zs(t,n,a,r,d,l,c))?(h||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Rs(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:gs(t.type,a),o.props=c,h=t.pendingProps,d=o.context,"object"===typeof(l=n.contextType)&&null!==l?l=ks(l):l=Di(t,l=Ri(n)?xi:Ti.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==h||d!==l)&&qs(t,o,r,l),xs=!1,d=t.memoizedState,o.state=d,js(t,r,o,i);var p=t.memoizedState;a!==h||d!==p||Ni.current||xs?("function"===typeof f&&(Bs(t,n,f,r),p=t.memoizedState),(c=xs||zs(t,n,c,r,d,p,l)||!1)?(u||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=l,r=c):("function"!==typeof o.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return Na(e,t,n,r,s,i)}function Na(e,t,n,r,i,s){Ca(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&ji(t,n,!1),Qa(e,t,s);r=t.stateNode,wa.current=t;var a=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Xs(t,e.child,null,s),t.child=Xs(t,null,a,s)):_a(e,t,a,s),t.memoizedState=r.state,i&&ji(t,n,!0),t.child}function xa(e){var t=e.stateNode;t.pendingContext?Li(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Li(0,t.context,!1),ro(e,t.containerInfo)}function Da(e,t,n,r,i){return fs(),ps(i),t.flags|=256,_a(e,t,n,r),t.child}var Ra,Pa,La,Oa,Ma={dehydrated:null,treeContext:null,retryLane:0};function ja(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ua(e,t,n){var r,i=t.pendingProps,o=ao.current,a=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(a=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ci(ao,1&o),null===e)return cs(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,a?(i=t.mode,a=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==a?(a.childLanes=0,a.pendingProps=l):a=jc(l,i,0,null),e=Mc(e,i,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=ja(n),t.memoizedState=Ma,e):Fa(t,l));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,a){if(n)return 256&t.flags?(t.flags&=-257,Ba(e,t,a,r=ha(Error(s(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=jc({mode:"visible",children:r.children},i,0,null),(o=Mc(o,i,a,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&Xs(t,e.child,null,a),t.child.memoizedState=ja(a),t.memoizedState=Ma,o);if(0===(1&t.mode))return Ba(e,t,a,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,Ba(e,t,a,r=ha(o=Error(s(419)),r,void 0))}if(l=0!==(a&e.childLanes),ba||l){if(null!==(r=xl)){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|a))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Ns(e,i),rc(r,e,i,-1))}return gc(),Ba(e,t,a,r=ha(Error(s(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Tc.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,rs=ci(i.nextSibling),ns=t,is=!0,ss=null,null!==e&&(Ki[Gi++]=Xi,Ki[Gi++]=Yi,Ki[Gi++]=Ji,Xi=e.id,Yi=e.overflow,Ji=t),t=Fa(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,o,n);if(a){a=i.fallback,l=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Lc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?a=Lc(r,a):(a=Mc(a,l,n,null)).flags|=2,a.return=t,i.return=t,i.sibling=a,t.child=i,i=a,a=t.child,l=null===(l=e.child.memoizedState)?ja(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=e.childLanes&~n,t.memoizedState=Ma,i}return e=(a=e.child).sibling,i=Lc(a,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Fa(e,t){return(t=jc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Ba(e,t,n,r){return null!==r&&ps(r),Xs(t,e.child,null,n),(e=Fa(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Va(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Es(e.return,t,n)}function za(e,t,n,r,i){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Ha(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(_a(e,t,r.children,n),0!==(2&(r=ao.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Va(e,n,t);else if(19===e.tag)Va(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ci(ao,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===lo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),za(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===lo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}za(t,!0,n,null,s);break;case"together":za(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qa(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Qa(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),jl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Lc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Lc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Wa(e,t){if(!is)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ka(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ga(e,t,n){var r=t.pendingProps;switch(ts(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ka(t),null;case 1:case 17:return Ri(t.type)&&Pi(),Ka(t),null;case 3:return r=t.stateNode,io(),ki(Ni),ki(Ti),uo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(hs(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ss&&(ac(ss),ss=null))),Pa(e,t),Ka(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)La(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(s(166));return Ka(t),null}if(e=no($s.current),hs(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[di]=t,r[fi]=o,e=0!==(1&t.mode),n){case"dialog":Fr("cancel",r),Fr("close",r);break;case"iframe":case"object":case"embed":Fr("load",r);break;case"video":case"audio":for(i=0;i<Or.length;i++)Fr(Or[i],r);break;case"source":Fr("error",r);break;case"img":case"image":case"link":Fr("error",r),Fr("load",r);break;case"details":Fr("toggle",r);break;case"input":X(r,o),Fr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Fr("invalid",r);break;case"textarea":ie(r,o),Fr("invalid",r)}for(var l in ye(n,o),i=null,o)if(o.hasOwnProperty(l)){var c=o[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Zr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Zr(r.textContent,c,e),i=["children",""+c]):a.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Fr("scroll",r)}switch(n){case"input":W(r),$(r,o,!0);break;case"textarea":W(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=$r)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ae(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[di]=t,e[fi]=r,Ra(e,t,!1,!1),t.stateNode=e;e:{switch(l=we(n,r),n){case"dialog":Fr("cancel",e),Fr("close",e),i=r;break;case"iframe":case"object":case"embed":Fr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Or.length;i++)Fr(Or[i],e);i=r;break;case"source":Fr("error",e),i=r;break;case"img":case"image":case"link":Fr("error",e),Fr("load",e),i=r;break;case"details":Fr("toggle",e),i=r;break;case"input":X(e,r),i=J(e,r),Fr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=j({},r,{value:void 0}),Fr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Fr("invalid",e)}for(o in ye(n,i),c=i)if(c.hasOwnProperty(o)){var u=c[o];"style"===o?ge(e,u):"dangerouslySetInnerHTML"===o?null!=(u=u?u.__html:void 0)&&he(e,u):"children"===o?"string"===typeof u?("textarea"!==n||""!==u)&&de(e,u):"number"===typeof u&&de(e,""+u):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(a.hasOwnProperty(o)?null!=u&&"onScroll"===o&&Fr("scroll",e):null!=u&&w(e,o,u,l))}switch(n){case"input":W(e),$(e,r,!1);break;case"textarea":W(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=$r)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ka(t),null;case 6:if(e&&null!=t.stateNode)Oa(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));if(n=no(to.current),no($s.current),hs(t)){if(r=t.stateNode,n=t.memoizedProps,r[di]=t,(o=r.nodeValue!==n)&&null!==(e=ns))switch(e.tag){case 3:Zr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Zr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[di]=t,t.stateNode=r}return Ka(t),null;case 13:if(ki(ao),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(is&&null!==rs&&0!==(1&t.mode)&&0===(128&t.flags))ds(),fs(),t.flags|=98560,o=!1;else if(o=hs(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(s(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(s(317));o[di]=t}else fs(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ka(t),o=!1}else null!==ss&&(ac(ss),ss=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ao.current)?0===Ol&&(Ol=3):gc())),null!==t.updateQueue&&(t.flags|=4),Ka(t),null);case 4:return io(),Pa(e,t),null===e&&zr(t.stateNode.containerInfo),Ka(t),null;case 10:return As(t.type._context),Ka(t),null;case 19:if(ki(ao),null===(o=t.memoizedState))return Ka(t),null;if(r=0!==(128&t.flags),null===(l=o.rendering))if(r)Wa(o,!1);else{if(0!==Ol||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=lo(e))){for(t.flags|=128,Wa(o,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(l=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,e=l.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ci(ao,1&ao.current|2),t.child}e=e.sibling}null!==o.tail&&Ye()>Hl&&(t.flags|=128,r=!0,Wa(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=lo(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Wa(o,!0),null===o.tail&&"hidden"===o.tailMode&&!l.alternate&&!is)return Ka(t),null}else 2*Ye()-o.renderingStartTime>Hl&&1073741824!==n&&(t.flags|=128,r=!0,Wa(o,!1),t.lanes=4194304);o.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=o.last)?n.sibling=l:t.child=l,o.last=l)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Ye(),t.sibling=null,n=ao.current,Ci(ao,r?1&n|2:1&n),t):(Ka(t),null);case 22:case 23:return dc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Pl)&&(Ka(t),6&t.subtreeFlags&&(t.flags|=8192)):Ka(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}function Ja(e,t){switch(ts(t),t.tag){case 1:return Ri(t.type)&&Pi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),ki(Ni),ki(Ti),uo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(ki(ao),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));fs()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return ki(ao),null;case 4:return io(),null;case 10:return As(t.type._context),null;case 22:case 23:return dc(),null;default:return null}}Ra=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Pa=function(){},La=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no($s.current);var s,o=null;switch(n){case"input":i=J(e,i),r=J(e,r),o=[];break;case"select":i=j({},i,{value:void 0}),r=j({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=$r)}for(u in ye(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var l=i[u];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(a.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(s in l)!l.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&l[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(o||(o=[]),o.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(o=o||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(a.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Fr("scroll",e),o||l===c||(o=[])):(o=o||[]).push(u,c))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}},Oa=function(e,t,n,r){n!==r&&(t.flags|=4)};var Xa=!1,Ya=!1,Za="function"===typeof WeakSet?WeakSet:Set,$a=null;function el(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){kc(e,t,r)}else n.current=null}function tl(e,t,n){try{n()}catch(r){kc(e,t,r)}}var nl=!1;function rl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,void 0!==s&&tl(t,n,s)}i=i.next}while(i!==r)}}function il(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function sl(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ol(e){var t=e.alternate;null!==t&&(e.alternate=null,ol(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[di],delete t[fi],delete t[mi],delete t[gi],delete t[vi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function al(e){return 5===e.tag||3===e.tag||4===e.tag}function ll(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||al(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=$r));else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}function ul(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ul(e,t,n),e=e.sibling;null!==e;)ul(e,t,n),e=e.sibling}var hl=null,dl=!1;function fl(e,t,n){for(n=n.child;null!==n;)pl(e,t,n),n=n.sibling}function pl(e,t,n){if(st&&"function"===typeof st.onCommitFiberUnmount)try{st.onCommitFiberUnmount(it,n)}catch(a){}switch(n.tag){case 5:Ya||el(n,t);case 6:var r=hl,i=dl;hl=null,fl(e,t,n),dl=i,null!==(hl=r)&&(dl?(e=hl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):hl.removeChild(n.stateNode));break;case 18:null!==hl&&(dl?(e=hl,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),zt(e)):li(hl,n.stateNode));break;case 4:r=hl,i=dl,hl=n.stateNode.containerInfo,dl=!0,fl(e,t,n),hl=r,dl=i;break;case 0:case 11:case 14:case 15:if(!Ya&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,void 0!==o&&(0!==(2&s)||0!==(4&s))&&tl(n,t,o),i=i.next}while(i!==r)}fl(e,t,n);break;case 1:if(!Ya&&(el(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){kc(n,t,a)}fl(e,t,n);break;case 21:fl(e,t,n);break;case 22:1&n.mode?(Ya=(r=Ya)||null!==n.memoizedState,fl(e,t,n),Ya=r):fl(e,t,n);break;default:fl(e,t,n)}}function ml(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Za),t.forEach((function(t){var r=Nc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function gl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,a=t,l=a;e:for(;null!==l;){switch(l.tag){case 5:hl=l.stateNode,dl=!1;break e;case 3:case 4:hl=l.stateNode.containerInfo,dl=!0;break e}l=l.return}if(null===hl)throw Error(s(160));pl(o,a,i),hl=null,dl=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(u){kc(i,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)vl(t,e),t=t.sibling}function vl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(gl(t,e),yl(e),4&r){try{rl(3,e,e.return),il(3,e)}catch(g){kc(e,e.return,g)}try{rl(5,e,e.return)}catch(g){kc(e,e.return,g)}}break;case 1:gl(t,e),yl(e),512&r&&null!==n&&el(n,n.return);break;case 5:if(gl(t,e),yl(e),512&r&&null!==n&&el(n,n.return),32&e.flags){var i=e.stateNode;try{de(i,"")}catch(g){kc(e,e.return,g)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,a=null!==n?n.memoizedProps:o,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===o.type&&null!=o.name&&Y(i,o),we(l,a);var u=we(l,o);for(a=0;a<c.length;a+=2){var h=c[a],d=c[a+1];"style"===h?ge(i,d):"dangerouslySetInnerHTML"===h?he(i,d):"children"===h?de(i,d):w(i,h,d,u)}switch(l){case"input":Z(i,o);break;case"textarea":se(i,o);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):f!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[fi]=o}catch(g){kc(e,e.return,g)}}break;case 6:if(gl(t,e),yl(e),4&r){if(null===e.stateNode)throw Error(s(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(g){kc(e,e.return,g)}}break;case 3:if(gl(t,e),yl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{zt(t.containerInfo)}catch(g){kc(e,e.return,g)}break;case 4:default:gl(t,e),yl(e);break;case 13:gl(t,e),yl(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(zl=Ye())),4&r&&ml(e);break;case 22:if(h=null!==n&&null!==n.memoizedState,1&e.mode?(Ya=(u=Ya)||h,gl(t,e),Ya=u):gl(t,e),yl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!h&&0!==(1&e.mode))for($a=e,h=e.child;null!==h;){for(d=$a=h;null!==$a;){switch(p=(f=$a).child,f.tag){case 0:case 11:case 14:case 15:rl(4,f,f.return);break;case 1:el(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){kc(r,n,g)}}break;case 5:el(f,f.return);break;case 22:if(null!==f.memoizedState){Al(d);continue}}null!==p?(p.return=f,$a=p):Al(d)}h=h.sibling}e:for(h=null,d=e;;){if(5===d.tag){if(null===h){h=d;try{i=d.stateNode,u?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(l=d.stateNode,a=void 0!==(c=d.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=me("display",a))}catch(g){kc(e,e.return,g)}}}else if(6===d.tag){if(null===h)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(g){kc(e,e.return,g)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:gl(t,e),yl(e),4&r&&ml(e);case 21:}}function yl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(al(n)){var r=n;break e}n=n.return}throw Error(s(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(de(i,""),r.flags&=-33),ul(e,ll(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;cl(e,ll(e),o);break;default:throw Error(s(161))}}catch(a){kc(e,e.return,a)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function wl(e,t,n){$a=e,bl(e,t,n)}function bl(e,t,n){for(var r=0!==(1&e.mode);null!==$a;){var i=$a,s=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Xa;if(!o){var a=i.alternate,l=null!==a&&null!==a.memoizedState||Ya;a=Xa;var c=Ya;if(Xa=o,(Ya=l)&&!c)for($a=i;null!==$a;)l=(o=$a).child,22===o.tag&&null!==o.memoizedState?El(i):null!==l?(l.return=o,$a=l):El(i);for(;null!==s;)$a=s,bl(s,t,n),s=s.sibling;$a=i,Xa=a,Ya=c}_l(e)}else 0!==(8772&i.subtreeFlags)&&null!==s?(s.return=i,$a=s):_l(e)}}function _l(e){for(;null!==$a;){var t=$a;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Ya||il(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Ya)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:gs(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Us(t,o,r);break;case 3:var a=t.updateQueue;if(null!==a){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Us(t,a,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var h=u.memoizedState;if(null!==h){var d=h.dehydrated;null!==d&&zt(d)}}}break;default:throw Error(s(163))}Ya||512&t.flags&&sl(t)}catch(f){kc(t,t.return,f)}}if(t===e){$a=null;break}if(null!==(n=t.sibling)){n.return=t.return,$a=n;break}$a=t.return}}function Al(e){for(;null!==$a;){var t=$a;if(t===e){$a=null;break}var n=t.sibling;if(null!==n){n.return=t.return,$a=n;break}$a=t.return}}function El(e){for(;null!==$a;){var t=$a;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{il(4,t)}catch(l){kc(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){kc(t,i,l)}}var s=t.return;try{sl(t)}catch(l){kc(t,s,l)}break;case 5:var o=t.return;try{sl(t)}catch(l){kc(t,o,l)}}}catch(l){kc(t,t.return,l)}if(t===e){$a=null;break}var a=t.sibling;if(null!==a){a.return=t.return,$a=a;break}$a=t.return}}var Il,kl=Math.ceil,Cl=b.ReactCurrentDispatcher,Sl=b.ReactCurrentOwner,Tl=b.ReactCurrentBatchConfig,Nl=0,xl=null,Dl=null,Rl=0,Pl=0,Ll=Ii(0),Ol=0,Ml=null,jl=0,Ul=0,Fl=0,Bl=null,Vl=null,zl=0,Hl=1/0,ql=null,Ql=!1,Wl=null,Kl=null,Gl=!1,Jl=null,Xl=0,Yl=0,Zl=null,$l=-1,ec=0;function tc(){return 0!==(6&Nl)?Ye():-1!==$l?$l:$l=Ye()}function nc(e){return 0===(1&e.mode)?1:0!==(2&Nl)&&0!==Rl?Rl&-Rl:null!==ms.transition?(0===ec&&(ec=mt()),ec):0!==(e=wt)?e:e=void 0===(e=window.event)?16:Xt(e.type)}function rc(e,t,n,r){if(50<Yl)throw Yl=0,Zl=null,Error(s(185));vt(e,n,r),0!==(2&Nl)&&e===xl||(e===xl&&(0===(2&Nl)&&(Ul|=n),4===Ol&&lc(e,Rl)),ic(e,r),1===n&&0===Nl&&0===(1&t.mode)&&(Hl=Ye()+500,Fi&&zi()))}function ic(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-ot(s),a=1<<o,l=i[o];-1===l?0!==(a&n)&&0===(a&r)||(i[o]=ft(a,t)):l<=t&&(e.expiredLanes|=a),s&=~a}}(e,t);var r=dt(e,e===xl?Rl:0);if(0===r)null!==n&&Ge(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ge(n),1===t)0===e.tag?function(e){Fi=!0,Vi(e)}(cc.bind(null,e)):Vi(cc.bind(null,e)),oi((function(){0===(6&Nl)&&zi()})),n=null;else{switch(bt(r)){case 1:n=$e;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=xc(n,sc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function sc(e,t){if($l=-1,ec=0,0!==(6&Nl))throw Error(s(327));var n=e.callbackNode;if(Ec()&&e.callbackNode!==n)return null;var r=dt(e,e===xl?Rl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=vc(e,r);else{t=r;var i=Nl;Nl|=2;var o=mc();for(xl===e&&Rl===t||(ql=null,Hl=Ye()+500,fc(e,t));;)try{wc();break}catch(l){pc(e,l)}_s(),Cl.current=o,Nl=i,null!==Dl?t=0:(xl=null,Rl=0,t=Ol)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=oc(e,i))),1===t)throw n=Ml,fc(e,0),lc(e,r),ic(e,Ye()),n;if(6===t)lc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!ar(s(),i))return!1}catch(a){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=vc(e,r))&&(0!==(o=pt(e))&&(r=o,t=oc(e,o))),1===t))throw n=Ml,fc(e,0),lc(e,r),ic(e,Ye()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(s(345));case 2:case 5:Ac(e,Vl,ql);break;case 3:if(lc(e,r),(130023424&r)===r&&10<(t=zl+500-Ye())){if(0!==dt(e,0))break;if(((i=e.suspendedLanes)&r)!==r){tc(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(Ac.bind(null,e,Vl,ql),t);break}Ac(e,Vl,ql);break;case 4:if(lc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-ot(r);o=1<<a,(a=t[a])>i&&(i=a),r&=~o}if(r=i,10<(r=(120>(r=Ye()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*kl(r/1960))-r)){e.timeoutHandle=ri(Ac.bind(null,e,Vl,ql),r);break}Ac(e,Vl,ql);break;default:throw Error(s(329))}}}return ic(e,Ye()),e.callbackNode===n?sc.bind(null,e):null}function oc(e,t){var n=Bl;return e.current.memoizedState.isDehydrated&&(fc(e,t).flags|=256),2!==(e=vc(e,t))&&(t=Vl,Vl=n,null!==t&&ac(t)),e}function ac(e){null===Vl?Vl=e:Vl.push.apply(Vl,e)}function lc(e,t){for(t&=~Fl,t&=~Ul,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function cc(e){if(0!==(6&Nl))throw Error(s(327));Ec();var t=dt(e,0);if(0===(1&t))return ic(e,Ye()),null;var n=vc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=oc(e,r))}if(1===n)throw n=Ml,fc(e,0),lc(e,t),ic(e,Ye()),n;if(6===n)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ac(e,Vl,ql),ic(e,Ye()),null}function uc(e,t){var n=Nl;Nl|=1;try{return e(t)}finally{0===(Nl=n)&&(Hl=Ye()+500,Fi&&zi())}}function hc(e){null!==Jl&&0===Jl.tag&&0===(6&Nl)&&Ec();var t=Nl;Nl|=1;var n=Tl.transition,r=wt;try{if(Tl.transition=null,wt=1,e)return e()}finally{wt=r,Tl.transition=n,0===(6&(Nl=t))&&zi()}}function dc(){Pl=Ll.current,ki(Ll)}function fc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Dl)for(n=Dl.return;null!==n;){var r=n;switch(ts(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Pi();break;case 3:io(),ki(Ni),ki(Ti),uo();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:ki(ao);break;case 10:As(r.type._context);break;case 22:case 23:dc()}n=n.return}if(xl=e,Dl=e=Lc(e.current,null),Rl=Pl=t,Ol=0,Ml=null,Fl=Ul=jl=0,Vl=Bl=null,null!==Cs){for(t=0;t<Cs.length;t++)if(null!==(r=(n=Cs[t]).interleaved)){n.interleaved=null;var i=r.next,s=n.pending;if(null!==s){var o=s.next;s.next=i,r.next=o}n.pending=r}Cs=null}return e}function pc(e,t){for(;;){var n=Dl;try{if(_s(),ho.current=oa,yo){for(var r=mo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}yo=!1}if(po=0,vo=go=mo=null,wo=!1,bo=0,Sl.current=null,null===n||null===n.return){Ol=1,Ml=t,Dl=null;break}e:{var o=e,a=n.return,l=n,c=t;if(t=Rl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,h=l,d=h.tag;if(0===(1&h.mode)&&(0===d||11===d||15===d)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=va(a);if(null!==p){p.flags&=-257,ya(p,a,l,0,t),1&p.mode&&ga(o,u,t),c=u;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(0===(1&t)){ga(o,u,t),gc();break e}c=Error(s(426))}else if(is&&1&l.mode){var v=va(a);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),ya(v,a,l,0,t),ps(ua(c,l));break e}}o=c=ua(c,l),4!==Ol&&(Ol=2),null===Bl?Bl=[o]:Bl.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Ms(o,pa(0,c,t));break e;case 1:l=c;var y=o.type,w=o.stateNode;if(0===(128&o.flags)&&("function"===typeof y.getDerivedStateFromError||null!==w&&"function"===typeof w.componentDidCatch&&(null===Kl||!Kl.has(w)))){o.flags|=65536,t&=-t,o.lanes|=t,Ms(o,ma(o,l,t));break e}}o=o.return}while(null!==o)}_c(n)}catch(b){t=b,Dl===n&&null!==n&&(Dl=n=n.return);continue}break}}function mc(){var e=Cl.current;return Cl.current=oa,null===e?oa:e}function gc(){0!==Ol&&3!==Ol&&2!==Ol||(Ol=4),null===xl||0===(268435455&jl)&&0===(268435455&Ul)||lc(xl,Rl)}function vc(e,t){var n=Nl;Nl|=2;var r=mc();for(xl===e&&Rl===t||(ql=null,fc(e,t));;)try{yc();break}catch(i){pc(e,i)}if(_s(),Nl=n,Cl.current=r,null!==Dl)throw Error(s(261));return xl=null,Rl=0,Ol}function yc(){for(;null!==Dl;)bc(Dl)}function wc(){for(;null!==Dl&&!Je();)bc(Dl)}function bc(e){var t=Il(e.alternate,e,Pl);e.memoizedProps=e.pendingProps,null===t?_c(e):Dl=t,Sl.current=null}function _c(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Ga(n,t,Pl)))return void(Dl=n)}else{if(null!==(n=Ja(n,t)))return n.flags&=32767,void(Dl=n);if(null===e)return Ol=6,void(Dl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Dl=t);Dl=t=e}while(null!==t);0===Ol&&(Ol=5)}function Ac(e,t,n){var r=wt,i=Tl.transition;try{Tl.transition=null,wt=1,function(e,t,n,r){do{Ec()}while(null!==Jl);if(0!==(6&Nl))throw Error(s(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}(e,o),e===xl&&(Dl=xl=null,Rl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Gl||(Gl=!0,xc(tt,(function(){return Ec(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Tl.transition,Tl.transition=null;var a=wt;wt=1;var l=Nl;Nl|=4,Sl.current=null,function(e,t){if(ei=qt,fr(e=dr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(_){n=null;break e}var a=0,l=-1,c=-1,u=0,h=0,d=e,f=null;t:for(;;){for(var p;d!==n||0!==i&&3!==d.nodeType||(l=a+i),d!==o||0!==r&&3!==d.nodeType||(c=a+r),3===d.nodeType&&(a+=d.nodeValue.length),null!==(p=d.firstChild);)f=d,d=p;for(;;){if(d===e)break t;if(f===n&&++u===i&&(l=a),f===o&&++h===r&&(c=a),null!==(p=d.nextSibling))break;f=(d=f).parentNode}d=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},qt=!1,$a=t;null!==$a;)if(e=(t=$a).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,$a=e;else for(;null!==$a;){t=$a;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,v=m.memoizedState,y=t.stateNode,w=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:gs(t.type,g),v);y.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(s(163))}}catch(_){kc(t,t.return,_)}if(null!==(e=t.sibling)){e.return=t.return,$a=e;break}$a=t.return}m=nl,nl=!1}(e,n),vl(n,e),pr(ti),qt=!!ei,ti=ei=null,e.current=n,wl(n,e,i),Xe(),Nl=l,wt=a,Tl.transition=o}else e.current=n;if(Gl&&(Gl=!1,Jl=e,Xl=i),o=e.pendingLanes,0===o&&(Kl=null),function(e){if(st&&"function"===typeof st.onCommitFiberRoot)try{st.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ic(e,Ye()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Ql)throw Ql=!1,e=Wl,Wl=null,e;0!==(1&Xl)&&0!==e.tag&&Ec(),o=e.pendingLanes,0!==(1&o)?e===Zl?Yl++:(Yl=0,Zl=e):Yl=0,zi()}(e,t,n,r)}finally{Tl.transition=i,wt=r}return null}function Ec(){if(null!==Jl){var e=bt(Xl),t=Tl.transition,n=wt;try{if(Tl.transition=null,wt=16>e?16:e,null===Jl)var r=!1;else{if(e=Jl,Jl=null,Xl=0,0!==(6&Nl))throw Error(s(331));var i=Nl;for(Nl|=4,$a=e.current;null!==$a;){var o=$a,a=o.child;if(0!==(16&$a.flags)){var l=o.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for($a=u;null!==$a;){var h=$a;switch(h.tag){case 0:case 11:case 15:rl(8,h,o)}var d=h.child;if(null!==d)d.return=h,$a=d;else for(;null!==$a;){var f=(h=$a).sibling,p=h.return;if(ol(h),h===u){$a=null;break}if(null!==f){f.return=p,$a=f;break}$a=p}}}var m=o.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}$a=o}}if(0!==(2064&o.subtreeFlags)&&null!==a)a.return=o,$a=a;else e:for(;null!==$a;){if(0!==(2048&(o=$a).flags))switch(o.tag){case 0:case 11:case 15:rl(9,o,o.return)}var y=o.sibling;if(null!==y){y.return=o.return,$a=y;break e}$a=o.return}}var w=e.current;for($a=w;null!==$a;){var b=(a=$a).child;if(0!==(2064&a.subtreeFlags)&&null!==b)b.return=a,$a=b;else e:for(a=w;null!==$a;){if(0!==(2048&(l=$a).flags))try{switch(l.tag){case 0:case 11:case 15:il(9,l)}}catch(A){kc(l,l.return,A)}if(l===a){$a=null;break e}var _=l.sibling;if(null!==_){_.return=l.return,$a=_;break e}$a=l.return}}if(Nl=i,zi(),st&&"function"===typeof st.onPostCommitFiberRoot)try{st.onPostCommitFiberRoot(it,e)}catch(A){}r=!0}return r}finally{wt=n,Tl.transition=t}}return!1}function Ic(e,t,n){e=Ls(e,t=pa(0,t=ua(n,t),1),1),t=tc(),null!==e&&(vt(e,1,t),ic(e,t))}function kc(e,t,n){if(3===e.tag)Ic(e,e,n);else for(;null!==t;){if(3===t.tag){Ic(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Kl||!Kl.has(r))){t=Ls(t,e=ma(t,e=ua(n,e),1),1),e=tc(),null!==t&&(vt(t,1,e),ic(t,e));break}}t=t.return}}function Cc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tc(),e.pingedLanes|=e.suspendedLanes&n,xl===e&&(Rl&n)===n&&(4===Ol||3===Ol&&(130023424&Rl)===Rl&&500>Ye()-zl?fc(e,0):Fl|=n),ic(e,t)}function Sc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=tc();null!==(e=Ns(e,t))&&(vt(e,t,n),ic(e,n))}function Tc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Sc(e,n)}function Nc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(s(314))}null!==r&&r.delete(t),Sc(e,n)}function xc(e,t){return Ke(e,t)}function Dc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rc(e,t,n,r){return new Dc(e,t,n,r)}function Pc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Lc(e,t){var n=e.alternate;return null===n?((n=Rc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Oc(e,t,n,r,i,o){var a=2;if(r=e,"function"===typeof e)Pc(e)&&(a=1);else if("string"===typeof e)a=5;else e:switch(e){case E:return Mc(n.children,i,o,t);case I:a=8,i|=8;break;case k:return(e=Rc(12,n,t,2|i)).elementType=k,e.lanes=o,e;case N:return(e=Rc(13,n,t,i)).elementType=N,e.lanes=o,e;case x:return(e=Rc(19,n,t,i)).elementType=x,e.lanes=o,e;case P:return jc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case C:a=10;break e;case S:a=9;break e;case T:a=11;break e;case D:a=14;break e;case R:a=16,r=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Rc(a,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Mc(e,t,n,r){return(e=Rc(7,e,r,t)).lanes=n,e}function jc(e,t,n,r){return(e=Rc(22,e,r,t)).elementType=P,e.lanes=n,e.stateNode={isHidden:!1},e}function Uc(e,t,n){return(e=Rc(6,e,null,t)).lanes=n,e}function Fc(e,t,n){return(t=Rc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Bc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Vc(e,t,n,r,i,s,o,a,l){return e=new Bc(e,t,n,a,l),1===t?(t=1,!0===s&&(t|=8)):t=0,s=Rc(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ds(s),e}function zc(e){if(!e)return Si;e:{if(ze(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ri(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var n=e.type;if(Ri(n))return Oi(e,n,t)}return t}function Hc(e,t,n,r,i,s,o,a,l){return(e=Vc(n,r,!0,e,0,s,0,a,l)).context=zc(null),n=e.current,(s=Ps(r=tc(),i=nc(n))).callback=void 0!==t&&null!==t?t:null,Ls(n,s,i),e.current.lanes=i,vt(e,i,r),ic(e,r),e}function qc(e,t,n,r){var i=t.current,s=tc(),o=nc(i);return n=zc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Ps(s,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Ls(i,t,o))&&(rc(e,i,o,s),Os(e,i,o)),o}function Qc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Wc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Kc(e,t){Wc(e,t),(e=e.alternate)&&Wc(e,t)}Il=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ni.current)ba=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return ba=!1,function(e,t,n){switch(t.tag){case 3:xa(t),fs();break;case 5:so(t);break;case 1:Ri(t.type)&&Mi(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ci(vs,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ci(ao,1&ao.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Ua(e,t,n):(Ci(ao,1&ao.current),null!==(e=Qa(e,t,n))?e.sibling:null);Ci(ao,1&ao.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Ha(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ci(ao,ao.current),r)break;return null;case 22:case 23:return t.lanes=0,ka(e,t,n)}return Qa(e,t,n)}(e,t,n);ba=0!==(131072&e.flags)}else ba=!1,is&&0!==(1048576&t.flags)&&$i(t,Wi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;qa(e,t),e=t.pendingProps;var i=Di(t,Ti.current);Is(t,n),i=Io(null,t,r,e,i,n);var o=ko();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ri(r)?(o=!0,Mi(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Ds(t),i.updater=Vs,t.stateNode=i,i._reactInternals=t,Qs(t,r,e,n),t=Na(null,t,r,!0,o,n)):(t.tag=0,is&&o&&es(t),_a(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(qa(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Pc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===T)return 11;if(e===D)return 14}return 2}(r),e=gs(r,e),i){case 0:t=Sa(null,t,r,e,n);break e;case 1:t=Ta(null,t,r,e,n);break e;case 11:t=Aa(null,t,r,e,n);break e;case 14:t=Ea(null,t,r,gs(r.type,e),n);break e}throw Error(s(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Sa(e,t,r,i=t.elementType===r?i:gs(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ta(e,t,r,i=t.elementType===r?i:gs(r,i),n);case 3:e:{if(xa(t),null===e)throw Error(s(387));r=t.pendingProps,i=(o=t.memoizedState).element,Rs(e,t),js(t,r,null,n);var a=t.memoizedState;if(r=a.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Da(e,t,r,n,i=ua(Error(s(423)),t));break e}if(r!==i){t=Da(e,t,r,n,i=ua(Error(s(424)),t));break e}for(rs=ci(t.stateNode.containerInfo.firstChild),ns=t,is=!0,ss=null,n=Ys(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fs(),r===i){t=Qa(e,t,n);break e}_a(e,t,r,n)}t=t.child}return t;case 5:return so(t),null===e&&cs(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,a=i.children,ni(r,i)?a=null:null!==o&&ni(r,o)&&(t.flags|=32),Ca(e,t),_a(e,t,a,n),t.child;case 6:return null===e&&cs(t),null;case 13:return Ua(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Xs(t,null,r,n):_a(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Aa(e,t,r,i=t.elementType===r?i:gs(r,i),n);case 7:return _a(e,t,t.pendingProps,n),t.child;case 8:case 12:return _a(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,a=i.value,Ci(vs,r._currentValue),r._currentValue=a,null!==o)if(ar(o.value,a)){if(o.children===i.children&&!Ni.current){t=Qa(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var l=o.dependencies;if(null!==l){a=o.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=Ps(-1,n&-n)).tag=2;var u=o.updateQueue;if(null!==u){var h=(u=u.shared).pending;null===h?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),Es(o.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===o.tag)a=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(a=o.return))throw Error(s(341));a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),Es(a,n,t),a=o.sibling}else a=o.child;if(null!==a)a.return=o;else for(a=o;null!==a;){if(a===t){a=null;break}if(null!==(o=a.sibling)){o.return=a.return,a=o;break}a=a.return}o=a}_a(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Is(t,n),r=r(i=ks(i)),t.flags|=1,_a(e,t,r,n),t.child;case 14:return i=gs(r=t.type,t.pendingProps),Ea(e,t,r,i=gs(r.type,i),n);case 15:return Ia(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:gs(r,i),qa(e,t),t.tag=1,Ri(r)?(e=!0,Mi(t)):e=!1,Is(t,n),Hs(t,r,i),Qs(t,r,i,n),Na(null,t,r,!0,e,n);case 19:return Ha(e,t,n);case 22:return ka(e,t,n)}throw Error(s(156,t.tag))};var Gc="function"===typeof reportError?reportError:function(e){console.error(e)};function Jc(e){this._internalRoot=e}function Xc(e){this._internalRoot=e}function Yc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Zc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function $c(){}function eu(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if("function"===typeof i){var a=i;i=function(){var e=Qc(o);a.call(e)}}qc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var s=r;r=function(){var e=Qc(o);s.call(e)}}var o=Hc(t,r,e,0,null,!1,0,"",$c);return e._reactRootContainer=o,e[pi]=o.current,zr(8===e.nodeType?e.parentNode:e),hc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var a=r;r=function(){var e=Qc(l);a.call(e)}}var l=Vc(e,0,!1,null,0,!1,0,"",$c);return e._reactRootContainer=l,e[pi]=l.current,zr(8===e.nodeType?e.parentNode:e),hc((function(){qc(t,l,n,r)})),l}(n,t,e,i,r);return Qc(o)}Xc.prototype.render=Jc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));qc(e,t,null,null)},Xc.prototype.unmount=Jc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;hc((function(){qc(null,e,null,null)})),t[pi]=null}},Xc.prototype.unstable_scheduleHydration=function(e){if(e){var t=It();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Pt.length&&0!==t&&t<Pt[n].priority;n++);Pt.splice(n,0,e),0===n&&jt(e)}},_t=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ht(t.pendingLanes);0!==n&&(yt(t,1|n),ic(t,Ye()),0===(6&Nl)&&(Hl=Ye()+500,zi()))}break;case 13:hc((function(){var t=Ns(e,1);if(null!==t){var n=tc();rc(t,e,1,n)}})),Kc(e,1)}},At=function(e){if(13===e.tag){var t=Ns(e,134217728);if(null!==t)rc(t,e,134217728,tc());Kc(e,134217728)}},Et=function(e){if(13===e.tag){var t=nc(e),n=Ns(e,t);if(null!==n)rc(n,e,t,tc());Kc(e,t)}},It=function(){return wt},kt=function(e,t){var n=wt;try{return wt=e,t()}finally{wt=n}},Ae=function(e,t,n){switch(t){case"input":if(Z(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=_i(r);if(!i)throw Error(s(90));K(r),Z(r,i)}}}break;case"textarea":se(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Te=uc,Ne=hc;var tu={usingClientEntryPoint:!1,Events:[wi,bi,_i,Ce,Se,uc]},nu={findFiberByHostInstance:yi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},ru={bundleType:nu.bundleType,version:nu.version,rendererPackageName:nu.rendererPackageName,rendererConfig:nu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Qe(e))?null:e.stateNode},findFiberByHostInstance:nu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var iu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!iu.isDisabled&&iu.supportsFiber)try{it=iu.inject(ru),st=iu}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Yc(t))throw Error(s(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:A,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Yc(e))throw Error(s(299));var n=!1,r="",i=Gc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Vc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,zr(8===e.nodeType?e.parentNode:e),new Jc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=null===(e=Qe(t))?null:e.stateNode},t.flushSync=function(e){return hc(e)},t.hydrate=function(e,t,n){if(!Zc(t))throw Error(s(200));return eu(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Yc(e))throw Error(s(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",a=Gc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(a=n.onRecoverableError)),t=Hc(t,null,e,1,null!=n?n:null,i,0,o,a),e[pi]=t.current,zr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Xc(t)},t.render=function(e,t,n){if(!Zc(t))throw Error(s(200));return eu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Zc(e))throw Error(s(40));return!!e._reactRootContainer&&(hc((function(){eu(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=uc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Zc(n))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return eu(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},391:(e,t,n)=>{var r=n(950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},950:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)},153:(e,t,n)=>{var r=n(43),i=Symbol.for("react.element"),s=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,s={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)o.call(t,r)&&!l.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===s[r]&&(s[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:u,props:s,_owner:a.current}}t.Fragment=s,t.jsx=c,t.jsxs=c},202:(e,t)=>{var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function y(){}function w(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var b=w.prototype=new y;b.constructor=w,m(b,v.prototype),b.isPureReactComponent=!0;var _=Array.isArray,A=Object.prototype.hasOwnProperty,E={current:null},I={key:!0,ref:!0,__self:!0,__source:!0};function k(e,t,r){var i,s={},o=null,a=null;if(null!=t)for(i in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(o=""+t.key),t)A.call(t,i)&&!I.hasOwnProperty(i)&&(s[i]=t[i]);var l=arguments.length-2;if(1===l)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===s[i]&&(s[i]=l[i]);return{$$typeof:n,type:e,key:o,ref:a,props:s,_owner:E.current}}function C(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var S=/\/+/g;function T(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function N(e,t,i,s,o){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l=!1;if(null===e)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return o=o(l=e),e=""===s?"."+T(l,0):s,_(o)?(i="",null!=e&&(i=e.replace(S,"$&/")+"/"),N(o,t,i,"",(function(e){return e}))):null!=o&&(C(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(S,"$&/")+"/")+e)),t.push(o)),1;if(l=0,s=""===s?".":s+":",_(e))for(var c=0;c<e.length;c++){var u=s+T(a=e[c],c);l+=N(a,t,i,u,o)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(a=e.next()).done;)l+=N(a=a.value,t,i,u=s+T(a,c++),o);else if("object"===a)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function x(e,t,n){if(null==e)return e;var r=[],i=0;return N(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function D(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var R={current:null},P={transition:null},L={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:P,ReactCurrentOwner:E};t.Children={map:x,forEach:function(e,t,n){x(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return x(e,(function(){t++})),t},toArray:function(e){return x(e,(function(e){return e}))||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=i,t.Profiler=o,t.PureComponent=w,t.StrictMode=s,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=L,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),s=e.key,o=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,a=E.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)A.call(t,c)&&!I.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}return{$$typeof:n,type:e.type,key:s,ref:o,props:i,_owner:a}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=k,t.createFactory=function(e){var t=k.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:D}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=P.transition;P.transition={};try{e()}finally{P.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return R.current.useCallback(e,t)},t.useContext=function(e){return R.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return R.current.useDeferredValue(e)},t.useEffect=function(e,t){return R.current.useEffect(e,t)},t.useId=function(){return R.current.useId()},t.useImperativeHandle=function(e,t,n){return R.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return R.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return R.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return R.current.useMemo(e,t)},t.useReducer=function(e,t,n){return R.current.useReducer(e,t,n)},t.useRef=function(e){return R.current.useRef(e)},t.useState=function(e){return R.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return R.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return R.current.useTransition()},t.version="18.2.0"},43:(e,t,n)=>{e.exports=n(202)},579:(e,t,n)=>{e.exports=n(153)},234:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<s(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var a=2*(r+1)-1,l=e[a],c=a+1,u=e[c];if(0>s(l,n))c<i&&0>s(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[a]=n,r=a);else{if(!(c<i&&0>s(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],u=[],h=1,d=null,f=3,p=!1,m=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,w="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function _(e){if(g=!1,b(e),!m)if(null!==r(c))m=!0,P(A);else{var t=r(u);null!==t&&L(_,t.startTime-e)}}function A(e,n){m=!1,g&&(g=!1,y(C),C=-1),p=!0;var s=f;try{for(b(n),d=r(c);null!==d&&(!(d.expirationTime>n)||e&&!N());){var o=d.callback;if("function"===typeof o){d.callback=null,f=d.priorityLevel;var a=o(d.expirationTime<=n);n=t.unstable_now(),"function"===typeof a?d.callback=a:d===r(c)&&i(c),b(n)}else i(c);d=r(c)}if(null!==d)var l=!0;else{var h=r(u);null!==h&&L(_,h.startTime-n),l=!1}return l}finally{d=null,f=s,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var E,I=!1,k=null,C=-1,S=5,T=-1;function N(){return!(t.unstable_now()-T<S)}function x(){if(null!==k){var e=t.unstable_now();T=e;var n=!0;try{n=k(!0,e)}finally{n?E():(I=!1,k=null)}}else I=!1}if("function"===typeof w)E=function(){w(x)};else if("undefined"!==typeof MessageChannel){var D=new MessageChannel,R=D.port2;D.port1.onmessage=x,E=function(){R.postMessage(null)}}else E=function(){v(x,0)};function P(e){k=e,I||(I=!0,E())}function L(e,n){C=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,P(A))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,s){var o=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?o+s:o:s=o,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:h++,callback:i,priorityLevel:e,startTime:s,expirationTime:a=s+a,sortIndex:-1},s>o?(e.sortIndex=s,n(u,e),null===r(c)&&e===r(u)&&(g?(y(C),C=-1):g=!0,L(_,s-o))):(e.sortIndex=a,n(c,e),m||p||(m=!0,P(A))),e},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},853:(e,t,n)=>{e.exports=n(234)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={exports:{}};return e[r](s,s.exports,n),s.exports}(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var s=Object.create(null);n.r(s);var o={};e=e||[null,t({}),t([]),t(t)];for(var a=2&i&&r;"object"==typeof a&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach((e=>o[e]=()=>r[e]));return o.default=()=>r,n.d(s,o),s}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/kurs-bazar/",(()=>{var e,t=n(43),r=n.t(t,2),i=n(391);function s(){return s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(e||(e={}));const o="popstate";function a(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function l(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function c(e,t){return{usr:e.state,key:e.key,idx:t}}function u(e,t,n,r){return void 0===n&&(n=null),s({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?d(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function h(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function d(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function f(t,n,r,i){void 0===i&&(i={});let{window:l=document.defaultView,v5Compat:d=!1}=i,f=l.history,p=e.Pop,m=null,g=v();function v(){return(f.state||{idx:null}).idx}function y(){p=e.Pop;let t=v(),n=null==t?null:t-g;g=t,m&&m({action:p,location:b.location,delta:n})}function w(e){let t="null"!==l.location.origin?l.location.origin:l.location.href,n="string"===typeof e?e:h(e);return n=n.replace(/ $/,"%20"),a(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==g&&(g=0,f.replaceState(s({},f.state,{idx:g}),""));let b={get action(){return p},get location(){return t(l,f)},listen(e){if(m)throw new Error("A history only accepts one active listener");return l.addEventListener(o,y),m=e,()=>{l.removeEventListener(o,y),m=null}},createHref:e=>n(l,e),createURL:w,encodeLocation(e){let t=w(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(t,n){p=e.Push;let i=u(b.location,t,n);r&&r(i,t),g=v()+1;let s=c(i,g),o=b.createHref(i);try{f.pushState(s,"",o)}catch(a){if(a instanceof DOMException&&"DataCloneError"===a.name)throw a;l.location.assign(o)}d&&m&&m({action:p,location:b.location,delta:1})},replace:function(t,n){p=e.Replace;let i=u(b.location,t,n);r&&r(i,t),g=v();let s=c(i,g),o=b.createHref(i);f.replaceState(s,"",o),d&&m&&m({action:p,location:b.location,delta:0})},go:e=>f.go(e)};return b}var p;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(p||(p={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function m(e,t,n){void 0===n&&(n="/");let r=N(("string"===typeof t?d(t):t).pathname||"/",n);if(null==r)return null;let i=g(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(i);let s=null;for(let o=0;null==s&&o<i.length;++o){let e=T(r);s=C(i[o],e)}return s}function g(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(e,i,s)=>{let o={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};o.relativePath.startsWith("/")&&(a(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(r.length));let l=L([r,o.relativePath]),c=n.concat(o);e.children&&e.children.length>0&&(a(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+l+'".'),g(e.children,t,c,l)),(null!=e.path||e.index)&&t.push({path:l,score:k(l,e.index),routesMeta:c})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of v(e.path))i(e,t,r);else i(e,t)})),t}function v(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(0===r.length)return i?[s,""]:[s];let o=v(r.join("/")),a=[];return a.push(...o.map((e=>""===e?s:[s,e].join("/")))),i&&a.push(...o),a.map((t=>e.startsWith("/")&&""===t?"/":t))}const y=/^:[\w-]+$/,w=3,b=2,_=1,A=10,E=-2,I=e=>"*"===e;function k(e,t){let n=e.split("/"),r=n.length;return n.some(I)&&(r+=E),t&&(r+=b),n.filter((e=>!I(e))).reduce(((e,t)=>e+(y.test(t)?w:""===t?_:A)),r)}function C(e,t){let{routesMeta:n}=e,r={},i="/",s=[];for(let o=0;o<n.length;++o){let e=n[o],a=o===n.length-1,l="/"===i?t:t.slice(i.length)||"/",c=S({path:e.relativePath,caseSensitive:e.caseSensitive,end:a},l);if(!c)return null;Object.assign(r,c.params);let u=e.route;s.push({params:r,pathname:L([i,c.pathname]),pathnameBase:O(L([i,c.pathnameBase])),route:u}),"/"!==c.pathnameBase&&(i=L([i,c.pathnameBase]))}return s}function S(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);l("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let s=new RegExp(i,t?void 0:"i");return[s,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce(((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=a[n]||"";o=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}const l=a[n];return e[r]=i&&!l?void 0:(l||"").replace(/%2F/g,"/"),e}),{}),pathname:s,pathnameBase:o,pattern:e}}function T(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(t){return l(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function N(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function x(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function D(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function R(e,t){let n=D(e);return t?n.map(((t,n)=>n===e.length-1?t.pathname:t.pathnameBase)):n.map((e=>e.pathnameBase))}function P(e,t,n,r){let i;void 0===r&&(r=!1),"string"===typeof e?i=d(e):(i=s({},e),a(!i.pathname||!i.pathname.includes("?"),x("?","pathname","search",i)),a(!i.pathname||!i.pathname.includes("#"),x("#","pathname","hash",i)),a(!i.search||!i.search.includes("#"),x("#","search","hash",i)));let o,l=""===e||""===i.pathname,c=l?"/":i.pathname;if(null==c)o=n;else{let e=t.length-1;if(!r&&c.startsWith("..")){let t=c.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}o=e>=0?t[e]:"/"}let u=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:i=""}="string"===typeof e?d(e):e,s=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:s,search:M(r),hash:j(i)}}(i,o),h=c&&"/"!==c&&c.endsWith("/"),f=(l||"."===c)&&n.endsWith("/");return u.pathname.endsWith("/")||!h&&!f||(u.pathname+="/"),u}const L=e=>e.join("/").replace(/\/\/+/g,"/"),O=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),M=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",j=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function U(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const F=["post","put","patch","delete"],B=(new Set(F),["get",...F]);new Set(B),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function V(){return V=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},V.apply(this,arguments)}const z=t.createContext(null);const H=t.createContext(null);const q=t.createContext(null);const Q=t.createContext(null);const W=t.createContext({outlet:null,matches:[],isDataRoute:!1});const K=t.createContext(null);function G(){return null!=t.useContext(Q)}function J(){return G()||a(!1),t.useContext(Q).location}function X(e){t.useContext(q).static||t.useLayoutEffect(e)}function Y(){let{isDataRoute:e}=t.useContext(W);return e?function(){let{router:e}=ae(se.UseNavigateStable),n=ce(oe.UseNavigateStable),r=t.useRef(!1);X((()=>{r.current=!0}));let i=t.useCallback((function(t,i){void 0===i&&(i={}),r.current&&("number"===typeof t?e.navigate(t):e.navigate(t,V({fromRouteId:n},i)))}),[e,n]);return i}():function(){G()||a(!1);let e=t.useContext(z),{basename:n,future:r,navigator:i}=t.useContext(q),{matches:s}=t.useContext(W),{pathname:o}=J(),l=JSON.stringify(R(s,r.v7_relativeSplatPath)),c=t.useRef(!1);return X((()=>{c.current=!0})),t.useCallback((function(t,r){if(void 0===r&&(r={}),!c.current)return;if("number"===typeof t)return void i.go(t);let s=P(t,JSON.parse(l),o,"path"===r.relative);null==e&&"/"!==n&&(s.pathname="/"===s.pathname?n:L([n,s.pathname])),(r.replace?i.replace:i.push)(s,r.state,r)}),[n,i,l,o,e])}()}function Z(e,n){let{relative:r}=void 0===n?{}:n,{future:i}=t.useContext(q),{matches:s}=t.useContext(W),{pathname:o}=J(),a=JSON.stringify(R(s,i.v7_relativeSplatPath));return t.useMemo((()=>P(e,JSON.parse(a),o,"path"===r)),[e,a,o,r])}function $(n,r,i,s){G()||a(!1);let{navigator:o}=t.useContext(q),{matches:l}=t.useContext(W),c=l[l.length-1],u=c?c.params:{},h=(c&&c.pathname,c?c.pathnameBase:"/");c&&c.route;let f,p=J();if(r){var g;let e="string"===typeof r?d(r):r;"/"===h||(null==(g=e.pathname)?void 0:g.startsWith(h))||a(!1),f=e}else f=p;let v=f.pathname||"/",y=v;if("/"!==h){let e=h.replace(/^\//,"").split("/");y="/"+v.replace(/^\//,"").split("/").slice(e.length).join("/")}let w=m(n,{pathname:y});let b=ie(w&&w.map((e=>Object.assign({},e,{params:Object.assign({},u,e.params),pathname:L([h,o.encodeLocation?o.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?h:L([h,o.encodeLocation?o.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),l,i,s);return r&&b?t.createElement(Q.Provider,{value:{location:V({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:e.Pop}},b):b}function ee(){let e=function(){var e;let n=t.useContext(K),r=le(oe.UseRouteError),i=ce(oe.UseRouteError);if(void 0!==n)return n;return null==(e=r.errors)?void 0:e[i]}(),n=U(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i};return t.createElement(t.Fragment,null,t.createElement("h2",null,"Unexpected Application Error!"),t.createElement("h3",{style:{fontStyle:"italic"}},n),r?t.createElement("pre",{style:s},r):null,null)}const te=t.createElement(ee,null);class ne extends t.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?t.createElement(W.Provider,{value:this.props.routeContext},t.createElement(K.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function re(e){let{routeContext:n,match:r,children:i}=e,s=t.useContext(z);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),t.createElement(W.Provider,{value:n},i)}function ie(e,n,r,i){var s;if(void 0===n&&(n=[]),void 0===r&&(r=null),void 0===i&&(i=null),null==e){var o;if(null==(o=r)||!o.errors)return null;e=r.matches}let l=e,c=null==(s=r)?void 0:s.errors;if(null!=c){let e=l.findIndex((e=>e.route.id&&(null==c?void 0:c[e.route.id])));e>=0||a(!1),l=l.slice(0,Math.min(l.length,e+1))}let u=!1,h=-1;if(r&&i&&i.v7_partialHydration)for(let t=0;t<l.length;t++){let e=l[t];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(h=t),e.route.id){let{loaderData:t,errors:n}=r,i=e.route.loader&&void 0===t[e.route.id]&&(!n||void 0===n[e.route.id]);if(e.route.lazy||i){u=!0,l=h>=0?l.slice(0,h+1):[l[0]];break}}}return l.reduceRight(((e,i,s)=>{let o,a=!1,d=null,f=null;var p;r&&(o=c&&i.route.id?c[i.route.id]:void 0,d=i.route.errorElement||te,u&&(h<0&&0===s?(p="route-fallback",!1||ue[p]||(ue[p]=!0),a=!0,f=null):h===s&&(a=!0,f=i.route.hydrateFallbackElement||null)));let m=n.concat(l.slice(0,s+1)),g=()=>{let n;return n=o?d:a?f:i.route.Component?t.createElement(i.route.Component,null):i.route.element?i.route.element:e,t.createElement(re,{match:i,routeContext:{outlet:e,matches:m,isDataRoute:null!=r},children:n})};return r&&(i.route.ErrorBoundary||i.route.errorElement||0===s)?t.createElement(ne,{location:r.location,revalidation:r.revalidation,component:d,error:o,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):g()}),null)}var se=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(se||{}),oe=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(oe||{});function ae(e){let n=t.useContext(z);return n||a(!1),n}function le(e){let n=t.useContext(H);return n||a(!1),n}function ce(e){let n=function(e){let n=t.useContext(W);return n||a(!1),n}(),r=n.matches[n.matches.length-1];return r.route.id||a(!1),r.route.id}const ue={};r.startTransition;function he(e){let{to:n,replace:r,state:i,relative:s}=e;G()||a(!1);let{future:o,static:l}=t.useContext(q),{matches:c}=t.useContext(W),{pathname:u}=J(),h=Y(),d=P(n,R(c,o.v7_relativeSplatPath),u,"path"===s),f=JSON.stringify(d);return t.useEffect((()=>h(JSON.parse(f),{replace:r,state:i,relative:s})),[h,f,s,r,i]),null}function de(e){a(!1)}function fe(n){let{basename:r="/",children:i=null,location:s,navigationType:o=e.Pop,navigator:l,static:c=!1,future:u}=n;G()&&a(!1);let h=r.replace(/^\/*/,"/"),f=t.useMemo((()=>({basename:h,navigator:l,static:c,future:V({v7_relativeSplatPath:!1},u)})),[h,u,l,c]);"string"===typeof s&&(s=d(s));let{pathname:p="/",search:m="",hash:g="",state:v=null,key:y="default"}=s,w=t.useMemo((()=>{let e=N(p,h);return null==e?null:{location:{pathname:e,search:m,hash:g,state:v,key:y},navigationType:o}}),[h,p,m,g,v,y,o]);return null==w?null:t.createElement(q.Provider,{value:f},t.createElement(Q.Provider,{children:i,value:w}))}function pe(e){let{children:t,location:n}=e;return $(me(t),n)}new Promise((()=>{}));t.Component;function me(e,n){void 0===n&&(n=[]);let r=[];return t.Children.forEach(e,((e,i)=>{if(!t.isValidElement(e))return;let s=[...n,i];if(e.type===t.Fragment)return void r.push.apply(r,me(e.props.children,s));e.type!==de&&a(!1),e.props.index&&e.props.children&&a(!1);let o={id:e.props.id||s.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(o.children=me(e.props.children,s)),r.push(o)})),r}const ge=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},ve={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],s=i+1<e.length,o=s?e[i+1]:0,a=i+2<e.length,l=a?e[i+2]:0,c=t>>2,u=(3&t)<<4|o>>4;let h=(15&o)<<2|l>>6,d=63&l;a||(d=64,s||(h=64)),r.push(n[c],n[u],n[h],n[d])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(ge(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const s=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],o=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],s=i<e.length?n[e.charAt(i)]:0;++i;const o=i<e.length?n[e.charAt(i)]:64;++i;const a=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==s||null==o||null==a)throw new ye;const l=t<<2|s>>4;if(r.push(l),64!==o){const e=s<<4&240|o>>2;if(r.push(e),64!==a){const e=o<<6&192|a;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class ye extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const we=function(e){return function(e){const t=ge(e);return ve.encodeByteArray(t,!0)}(e).replace(/\./g,"")},be=function(e){try{return ve.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};const _e=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,Ae=()=>{try{return _e()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"/kurs-bazar",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const t=e&&be(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},Ee=e=>{var t,n;return null===(n=null===(t=Ae())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},Ie=e=>{const t=Ee(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},ke=()=>{var e;return null===(e=Ae())||void 0===e?void 0:e.config},Ce=e=>{var t;return null===(t=Ae())||void 0===t?void 0:t["_".concat(e)]};class Se{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function Te(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[we(JSON.stringify({alg:"none",type:"JWT"})),we(JSON.stringify(s)),""].join(".")}function Ne(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function xe(){return!function(){var e;const t=null===(e=Ae())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function De(){try{return"object"===typeof indexedDB}catch(e){return!1}}class Re extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,Re.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Pe.prototype.create)}}class Pe{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(Le,((e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",s="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new Re(n,s,t)}}const Le=/\{\$([^}]+)}/g;function Oe(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],s=t[i];if(Me(n)&&Me(s)){if(!Oe(n,s))return!1}else if(n!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Me(e){return null!==e&&"object"===typeof e}function je(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function Ue(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t}function Fe(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class Be{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=Ve),void 0===r.error&&(r.error=Ve),void 0===r.complete&&(r.complete=Ve);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}})),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(n){"undefined"!==typeof console&&console.error&&console.error(n)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function Ve(){}function ze(e){return e&&e._delegate?e._delegate:e}class He{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const qe="[DEFAULT]";class Qe{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new Se;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(n){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:qe})}catch(t){}for(const[e,n]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:r});n.resolve(e)}catch(t){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qe;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qe;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qe;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,s]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&s.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===qe?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(s){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qe;return this.component?this.component.multipleInstances?e:qe:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class We{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Qe(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const Ke=[];var Ge;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Ge||(Ge={}));const Je={debug:Ge.DEBUG,verbose:Ge.VERBOSE,info:Ge.INFO,warn:Ge.WARN,error:Ge.ERROR,silent:Ge.SILENT},Xe=Ge.INFO,Ye={[Ge.DEBUG]:"log",[Ge.VERBOSE]:"log",[Ge.INFO]:"info",[Ge.WARN]:"warn",[Ge.ERROR]:"error"},Ze=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=Ye[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i=arguments.length,s=new Array(i>2?i-2:0),o=2;o<i;o++)s[o-2]=arguments[o];console[r]("[".concat(n,"]  ").concat(e.name,":"),...s)};class $e{constructor(e){this.name=e,this._logLevel=Xe,this._logHandler=Ze,this._userLogHandler=null,Ke.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ge))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?Je[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Ge.DEBUG,...t),this._logHandler(this,Ge.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Ge.VERBOSE,...t),this._logHandler(this,Ge.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Ge.INFO,...t),this._logHandler(this,Ge.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Ge.WARN,...t),this._logHandler(this,Ge.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Ge.ERROR,...t),this._logHandler(this,Ge.ERROR,...t)}}const et=(e,t)=>t.some((t=>e instanceof t));let tt,nt;const rt=new WeakMap,it=new WeakMap,st=new WeakMap,ot=new WeakMap,at=new WeakMap;let lt={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return it.get(e);if("objectStoreNames"===t)return e.objectStoreNames||st.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ht(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function ct(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(nt||(nt=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(dt(this),n),ht(rt.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return ht(e.apply(dt(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const s=e.call(dt(this),t,...r);return st.set(s,t.sort?t.sort():[t]),ht(s)}}function ut(e){return"function"===typeof e?ct(e):(e instanceof IDBTransaction&&function(e){if(it.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",s),e.removeEventListener("abort",s)},i=()=>{t(),r()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",s),e.addEventListener("abort",s)}));it.set(e,t)}(e),et(e,tt||(tt=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,lt):e)}function ht(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",s)},i=()=>{t(ht(e.result)),r()},s=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",s)}));return t.then((t=>{t instanceof IDBCursor&&rt.set(t,e)})).catch((()=>{})),at.set(t,e),t}(e);if(ot.has(e))return ot.get(e);const t=ut(e);return t!==e&&(ot.set(e,t),at.set(t,e)),t}const dt=e=>at.get(e);const ft=["get","getKey","getAll","getAllKeys","count"],pt=["put","add","delete","clear"],mt=new Map;function gt(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(mt.get(t))return mt.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=pt.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!ft.includes(n))return;const s=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let s=t.store;for(var o=arguments.length,a=new Array(o>1?o-1:0),l=1;l<o;l++)a[l-1]=arguments[l];return r&&(s=s.index(a.shift())),(await Promise.all([s[n](...a),i&&t.done]))[0]};return mt.set(t,s),s}lt=(e=>({...e,get:(t,n,r)=>gt(t,n)||e.get(t,n,r),has:(t,n)=>!!gt(t,n)||e.has(t,n)}))(lt);class vt{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((e=>e)).join(" ")}}const yt="@firebase/app",wt="0.10.0",bt=new $e("@firebase/app"),_t="@firebase/app-compat",At="@firebase/analytics-compat",Et="@firebase/analytics",It="@firebase/app-check-compat",kt="@firebase/app-check",Ct="@firebase/auth",St="@firebase/auth-compat",Tt="@firebase/database",Nt="@firebase/database-compat",xt="@firebase/functions",Dt="@firebase/functions-compat",Rt="@firebase/installations",Pt="@firebase/installations-compat",Lt="@firebase/messaging",Ot="@firebase/messaging-compat",Mt="@firebase/performance",jt="@firebase/performance-compat",Ut="@firebase/remote-config",Ft="@firebase/remote-config-compat",Bt="@firebase/storage",Vt="@firebase/storage-compat",zt="@firebase/firestore",Ht="@firebase/firestore-compat",qt="firebase",Qt="[DEFAULT]",Wt={[yt]:"fire-core",[_t]:"fire-core-compat",[Et]:"fire-analytics",[At]:"fire-analytics-compat",[kt]:"fire-app-check",[It]:"fire-app-check-compat",[Ct]:"fire-auth",[St]:"fire-auth-compat",[Tt]:"fire-rtdb",[Nt]:"fire-rtdb-compat",[xt]:"fire-fn",[Dt]:"fire-fn-compat",[Rt]:"fire-iid",[Pt]:"fire-iid-compat",[Lt]:"fire-fcm",[Ot]:"fire-fcm-compat",[Mt]:"fire-perf",[jt]:"fire-perf-compat",[Ut]:"fire-rc",[Ft]:"fire-rc-compat",[Bt]:"fire-gcs",[Vt]:"fire-gcs-compat",[zt]:"fire-fst",[Ht]:"fire-fst-compat","fire-js":"fire-js",[qt]:"fire-js-all"},Kt=new Map,Gt=new Map,Jt=new Map;function Xt(e,t){try{e.container.addComponent(t)}catch(n){bt.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function Yt(e){const t=e.name;if(Jt.has(t))return bt.debug("There were multiple attempts to register component ".concat(t,".")),!1;Jt.set(t,e);for(const n of Kt.values())Xt(n,e);for(const n of Gt.values())Xt(n,e);return!0}function Zt(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function $t(e){return void 0!==e.settings}const en=new Pe("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class tn{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new He("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw en.create("app-deleted",{appName:this._name})}}const nn="10.10.0";function rn(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:Qt,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw en.create("bad-app-name",{appName:String(i)});if(n||(n=ke()),!n)throw en.create("no-options");const s=Kt.get(i);if(s){if(Oe(n,s.options)&&Oe(r,s.config))return s;throw en.create("duplicate-app",{appName:i})}const o=new We(i);for(const l of Jt.values())o.addComponent(l);const a=new tn(n,r,o);return Kt.set(i,a),a}function sn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qt;const t=Kt.get(e);if(!t&&e===Qt&&ke())return rn();if(!t)throw en.create("no-app",{appName:e});return t}function on(e,t,n){var r;let i=null!==(r=Wt[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));const s=i.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const e=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return s&&e.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),s&&o&&e.push("and"),o&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void bt.warn(e.join(" "))}Yt(new He("".concat(i,"-version"),(()=>({library:i,version:t})),"VERSION"))}const an="firebase-heartbeat-database",ln=1,cn="firebase-heartbeat-store";let un=null;function hn(){return un||(un=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=indexedDB.open(e,t),a=ht(o);return r&&o.addEventListener("upgradeneeded",(e=>{r(ht(o.result),e.oldVersion,e.newVersion,ht(o.transaction),e)})),n&&o.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),a.then((e=>{s&&e.addEventListener("close",(()=>s())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),a}(an,ln,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(cn)}catch(n){console.warn(n)}}}).catch((e=>{throw en.create("idb-open",{originalErrorMessage:e.message})}))),un}async function dn(e,t){try{const n=(await hn()).transaction(cn,"readwrite"),r=n.objectStore(cn);await r.put(t,fn(e)),await n.done}catch(n){if(n instanceof Re)bt.warn(n.message);else{const e=en.create("idb-set",{originalErrorMessage:null===n||void 0===n?void 0:n.message});bt.warn(e.message)}}}function fn(e){return"".concat(e.name,"!").concat(e.options.appId)}class pn{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new gn(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){var e,t;const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=mn();if((null!=(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||(this._heartbeatsCache=await this._heartbeatsCachePromise,null!=(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))&&this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((e=>e.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=mn(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(e){if(e.dates.push(i.date),vn(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),vn(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=we(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function mn(){return(new Date).toISOString().substring(0,10)}class gn{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!De()&&new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}})).then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await hn()).transaction(cn),n=await t.objectStore(cn).get(fn(e));return await t.done,n}catch(t){if(t instanceof Re)bt.warn(t.message);else{const e=en.create("idb-get",{originalErrorMessage:null===t||void 0===t?void 0:t.message});bt.warn(e.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return dn(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return dn(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function vn(e){return we(JSON.stringify({version:2,heartbeats:e})).length}var yn;yn="",Yt(new He("platform-logger",(e=>new vt(e)),"PRIVATE")),Yt(new He("heartbeat",(e=>new pn(e)),"PRIVATE")),on(yt,wt,yn),on(yt,wt,"esm2017"),on("fire-js","");on("firebase","10.10.0","app");function wn(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;function bn(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const _n=bn,An=new Pe("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),En=new $e("@firebase/auth");function In(e){if(En.logLevel<=Ge.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];En.error("Auth (".concat(nn,"): ").concat(e),...n)}}function kn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Nn(e,...n)}function Cn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Nn(e,...n)}function Sn(e,t,n){const r=Object.assign(Object.assign({},_n()),{[t]:n});return new Pe("auth","Firebase",r).create(t,{appName:e.name})}function Tn(e){return Sn(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Nn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return An.create(e,...n)}function xn(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Nn(t,...r)}}function Dn(e){const t="INTERNAL ASSERTION FAILED: "+e;throw In(t),new Error(t)}function Rn(e,t){e||Dn(t)}function Pn(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Ln(){return"http:"===On()||"https:"===On()}function On(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}function Mn(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Ln()||function(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine}class jn{constructor(e,t){this.shortDelay=e,this.longDelay=t,Rn(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ne())||"object"===typeof navigator&&"ReactNative"===navigator.product}get(){return Mn()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Un(e,t){Rn(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class Fn{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void Dn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void Dn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void Dn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Bn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Vn=new jn(3e4,6e4);function zn(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function Hn(e,t,n,r){return qn(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},(async()=>{let i={},s={};r&&("GET"===t?s=r:i={body:JSON.stringify(r)});const o=je(Object.assign({key:e.config.apiKey},s)).slice(1),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/json",e.languageCode&&(a["X-Firebase-Locale"]=e.languageCode),Fn.fetch()(Wn(e,e.config.apiHost,n,o),Object.assign({method:t,headers:a,referrerPolicy:"no-referrer"},i))}))}async function qn(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},Bn),t);try{const t=new Gn(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const s=await i.json();if("needConfirmation"in s)throw Jn(e,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{const t=i.ok?s.errorMessage:s.error.message,[n,o]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw Jn(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw Jn(e,"email-already-in-use",s);if("USER_DISABLED"===n)throw Jn(e,"user-disabled",s);const a=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(o)throw Sn(e,a,o);kn(e,a)}}catch(i){if(i instanceof Re)throw i;kn(e,"network-request-failed",{message:String(i)})}}async function Qn(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const s=await Hn(e,t,n,r,i);return"mfaPendingCredential"in s&&kn(e,"multi-factor-auth-required",{_serverResponse:s}),s}function Wn(e,t,n,r){const i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?Un(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}function Kn(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Gn{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(Cn(this.auth,"network-request-failed"))),Vn.get())}))}clearNetworkTimeout(){clearTimeout(this.timer)}}function Jn(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Cn(e,t,r);return i.customData._tokenResponse=n,i}function Xn(e){return void 0!==e&&void 0!==e.enterprise}class Yn{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Kn(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}}async function Zn(e,t){return Hn(e,"GET","/v2/recaptchaConfig",zn(e,t))}async function $n(e,t){return Hn(e,"POST","/v1/accounts:lookup",t)}function er(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(t){}}function tr(e){return 1e3*Number(e)}function nr(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return In("JWT malformed, contained fewer than 3 sections"),null;try{const e=be(n);return e?JSON.parse(e):(In("Failed to decode base64 JWT payload"),null)}catch(i){return In("Caught error parsing JWT payload as JSON",null===i||void 0===i?void 0:i.toString()),null}}function rr(e){const t=nr(e);return xn(t,"internal-error"),xn("undefined"!==typeof t.exp,"internal-error"),xn("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function ir(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(n){throw n instanceof Re&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(n)&&e.auth.currentUser===e&&await e.auth.signOut(),n}}class sr{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){return void((null===e||void 0===e?void 0:e.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class or{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=er(this.lastLoginAt),this.creationTime=er(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function ar(e){var t;const n=e.auth,r=await e.getIdToken(),i=await ir(e,$n(n,{idToken:r}));xn(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const o=(null===(t=s.providerUserInfo)||void 0===t?void 0:t.length)?lr(s.providerUserInfo):[],a=(l=e.providerData,c=o,[...l.filter((e=>!c.some((t=>t.providerId===e.providerId)))),...c]);var l,c;const u=e.isAnonymous,h=!(e.email&&s.passwordHash)&&!(null===a||void 0===a?void 0:a.length),d=!!u&&h,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new or(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(e,f)}function lr(e){return e.map((e=>{var{providerId:t}=e,n=wn(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}class cr{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){xn(e.idToken,"internal-error"),xn("undefined"!==typeof e.idToken,"internal-error"),xn("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):rr(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){xn(0!==e.length,"internal-error");const t=rr(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(xn(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await qn(e,{},(async()=>{const n=je({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,s=Wn(e,r,"/v1/token","key=".concat(i)),o=await e._getAdditionalHeaders();return o["Content-Type"]="application/x-www-form-urlencoded",Fn.fetch()(s,{method:"POST",headers:o,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,s=new cr;return n&&(xn("string"===typeof n,"internal-error",{appName:e}),s.refreshToken=n),r&&(xn("string"===typeof r,"internal-error",{appName:e}),s.accessToken=r),i&&(xn("number"===typeof i,"internal-error",{appName:e}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new cr,this.toJSON())}_performRefresh(){return Dn("not implemented")}}function ur(e,t){xn("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class hr{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=wn(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new sr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new or(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await ir(this,this.stsTokenManager.getToken(this.auth,e));return xn(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=ze(e),r=await n.getIdToken(t),i=nr(r);xn(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"===typeof i.firebase?i.firebase:void 0,o=null===s||void 0===s?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:er(tr(i.auth_time)),issuedAtTime:er(tr(i.iat)),expirationTime:er(tr(i.exp)),signInProvider:o||null,signInSecondFactor:(null===s||void 0===s?void 0:s.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=ze(e);await ar(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(xn(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new hr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){xn(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await ar(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if($t(this.auth.app))return Promise.reject(Tn(this.auth));const e=await this.getIdToken();return await ir(this,async function(e,t){return Hn(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,s,o,a,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,h=null!==(r=t.email)&&void 0!==r?r:void 0,d=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(s=t.photoURL)&&void 0!==s?s:void 0,p=null!==(o=t.tenantId)&&void 0!==o?o:void 0,m=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,v=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:y,emailVerified:w,isAnonymous:b,providerData:_,stsTokenManager:A}=t;xn(y&&A,e,"internal-error");const E=cr.fromJSON(this.name,A);xn("string"===typeof y,e,"internal-error"),ur(u,e.name),ur(h,e.name),xn("boolean"===typeof w,e,"internal-error"),xn("boolean"===typeof b,e,"internal-error"),ur(d,e.name),ur(f,e.name),ur(p,e.name),ur(m,e.name),ur(g,e.name),ur(v,e.name);const I=new hr({uid:y,auth:e,email:h,emailVerified:w,displayName:u,isAnonymous:b,photoURL:f,phoneNumber:d,tenantId:p,stsTokenManager:E,createdAt:g,lastLoginAt:v});return _&&Array.isArray(_)&&(I.providerData=_.map((e=>Object.assign({},e)))),m&&(I._redirectEventId=m),I}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new cr;r.updateFromServerResponse(t);const i=new hr({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await ar(i),i}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];xn(void 0!==r.localId,"internal-error");const i=void 0!==r.providerUserInfo?lr(r.providerUserInfo):[],s=!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length),o=new cr;o.updateFromIdToken(n);const a=new hr({uid:r.localId,auth:e,stsTokenManager:o,isAnonymous:s}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new or(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length)};return Object.assign(a,l),a}}const dr=new Map;function fr(e){Rn(e instanceof Function,"Expected a class definition");let t=dr.get(e);return t?(Rn(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,dr.set(e,t),t)}class pr{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}pr.type="NONE";const mr=pr;function gr(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class vr{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=gr(this.userKey,r.apiKey,i),this.fullPersistenceKey=gr("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?hr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new vr(fr(mr),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let i=r[0]||fr(mr);const s=gr(n,e.config.apiKey,e.name);let o=null;for(const c of t)try{const t=await c._get(s);if(t){const n=hr._fromJSON(e,t);c!==i&&(o=n),i=c;break}}catch(l){}const a=r.filter((e=>e._shouldAllowMigration));return i._shouldAllowMigration&&a.length?(i=a[0],o&&await i._set(s,o.toJSON()),await Promise.all(t.map((async e=>{if(e!==i)try{await e._remove(s)}catch(l){}}))),new vr(i,e,n)):new vr(i,e,n)}}function yr(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Ar(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(wr(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Ir(t))return"Blackberry";if(kr(t))return"Webos";if(br(t))return"Safari";if((t.includes("chrome/")||_r(t))&&!t.includes("edge/"))return"Chrome";if(Er(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function wr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ne();return/firefox\//i.test(e)}function br(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ne()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function _r(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ne();return/crios\//i.test(e)}function Ar(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ne();return/iemobile/i.test(e)}function Er(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ne();return/android/i.test(e)}function Ir(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ne();return/blackberry/i.test(e)}function kr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ne();return/webos/i.test(e)}function Cr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ne();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Sr(){return function(){const e=Ne();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function Tr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ne();return Cr(e)||Er(e)||kr(e)||Ir(e)||/windows phone/i.test(e)||Ar(e)}function Nr(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=yr(Ne());break;case"Worker":t="".concat(yr(Ne()),"-").concat(e);break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(nn,"/").concat(r)}class xr{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,r)=>{try{n(e(t))}catch(i){r(i)}}));n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const e of t)try{e()}catch(r){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===n||void 0===n?void 0:n.message})}}}class Dr{constructor(e){var t,n,r,i;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=s.minPasswordLength)&&void 0!==t?t:6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),void 0!==s.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),void 0!==s.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),void 0!==s.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),void 0!==s.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,s,o;const a={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,a),this.validatePasswordCharacterOptions(e,a),a.isValid&&(a.isValid=null===(t=a.meetsMinPasswordLength)||void 0===t||t),a.isValid&&(a.isValid=null===(n=a.meetsMaxPasswordLength)||void 0===n||n),a.isValid&&(a.isValid=null===(r=a.containsLowercaseLetter)||void 0===r||r),a.isValid&&(a.isValid=null===(i=a.containsUppercaseLetter)||void 0===i||i),a.isValid&&(a.isValid=null===(s=a.containsNumericCharacter)||void 0===s||s),a.isValid&&(a.isValid=null===(o=a.containsNonAlphanumericCharacter)||void 0===o||o),a}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class Rr{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Lr(this),this.idTokenSubscription=new Lr(this),this.beforeStateQueue=new xr(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=An,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=fr(t)),this._initializationPromise=this.queue((async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await vr.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(i){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await $n(this,{idToken:e}),n=await hr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if($t(this.app)){const e=this.app.settings.authIdToken;return e?new Promise((t=>{setTimeout((()=>this.initializeCurrentUserFromIdToken(e).then(t,t)))})):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,s=null===r||void 0===r?void 0:r._redirectEventId,o=await this.tryRedirectSignIn(e);n&&n!==s||!(null===o||void 0===o?void 0:o.user)||(r=o.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(s){r=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(s)))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return xn(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(n){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await ar(e)}catch(t){if((null===t||void 0===t?void 0:t.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if($t(this.app))return Promise.reject(Tn(this));const t=e?ze(e):null;return t&&xn(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&xn(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return $t(this.app)?Promise.reject(Tn(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return $t(this.app)?Promise.reject(Tn(this)):this.queue((async()=>{await this.assertedPersistence.setPersistence(fr(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return Hn(e,"GET","/v2/passwordPolicy",zn(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new Dr(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Pe("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise(((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged((()=>{n(),e()}),t)}}))}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return Hn(e,"POST","/v2/accounts:revokeToken",zn(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&fr(e)||this._popupRedirectResolver;xn(t,this,"argument-error"),this.redirectPersistenceManager=await vr.create(this,[fr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t);let s=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(xn(o,this,"internal-error"),o.then((()=>{s||i(this.currentUser)})),"function"===typeof t){const i=e.addObserver(t,n,r);return()=>{s=!0,i()}}{const n=e.addObserver(t);return()=>{s=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return xn(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Nr(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(En.logLevel<=Ge.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];En.warn("Auth (".concat(nn,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function Pr(e){return ze(e)}class Lr{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new Be(e,t);return n.subscribe.bind(n)}((e=>this.observer=e))}get next(){return xn(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Or={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Mr(e){return Or.loadJS(e)}function jr(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class Ur{constructor(e){this.type="recaptcha-enterprise",this.auth=Pr(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;Xn(i)?i.enterprise.ready((()=>{i.enterprise.execute(t,{action:e}).then((e=>{n(e)})).catch((()=>{n("NO_RECAPTCHA")}))})):r(Error("No reCAPTCHA enterprise script loaded."))}return new Promise(((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise((async(t,n)=>{Zn(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((r=>{if(void 0!==r.recaptchaKey){const n=new Yn(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((e=>{n(e)}))}))})(this.auth).then((i=>{if(!t&&Xn(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=Or.recaptchaEnterpriseScript;0!==t.length&&(t+=i),Mr(t).then((()=>{n(i,e,r)})).catch((e=>{r(e)}))}})).catch((e=>{r(e)}))}))}}async function Fr(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=new Ur(e);let s;try{s=await i.verify(n)}catch(a){s=await i.verify(n,!0)}const o=Object.assign({},t);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function Br(e,t,n,r){var i;if(null===(i=e._getRecaptchaConfig())||void 0===i?void 0:i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await Fr(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch((async i=>{if(i.code==="auth/".concat("missing-recaptcha-token")){console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow."));const i=await Fr(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)}))}function Vr(e,t,n){const r=Pr(e);xn(r._canInitEmulator,r,"emulator-config-failed"),xn(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),s=zr(t),{host:o,port:a}=function(e){const t=zr(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:Hr(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:Hr(t)}}}(t),l=null===a?"":":".concat(a);r.config.emulator={url:"".concat(s,"//").concat(o).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function zr(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Hr(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class qr{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Dn("not implemented")}_getIdTokenResponse(e){return Dn("not implemented")}_linkToIdToken(e,t){return Dn("not implemented")}_getReauthenticationResolver(e){return Dn("not implemented")}}async function Qr(e,t){return Hn(e,"POST","/v1/accounts:signUp",t)}async function Wr(e,t){return Qn(e,"POST","/v1/accounts:signInWithPassword",zn(e,t))}async function Kr(e,t){return Hn(e,"POST","/v1/accounts:sendOobCode",zn(e,t))}async function Gr(e,t){return Kr(e,t)}class Jr extends qr{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new Jr(e,t,"password")}static _fromEmailAndCode(e,t){return new Jr(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return Br(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Wr);case"emailLink":return async function(e,t){return Qn(e,"POST","/v1/accounts:signInWithEmailLink",zn(e,t))}(e,{email:this._email,oobCode:this._password});default:kn(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return Br(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Qr);case"emailLink":return async function(e,t){return Qn(e,"POST","/v1/accounts:signInWithEmailLink",zn(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:kn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Xr(e,t){return Qn(e,"POST","/v1/accounts:signInWithIdp",zn(e,t))}class Yr extends qr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Yr(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):kn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=wn(t,["providerId","signInMethod"]);if(!n||!r)return null;const s=new Yr(n,r);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(e){return Xr(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Xr(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Xr(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=je(t)}return e}}const Zr={USER_NOT_FOUND:"user-not-found"};class $r extends qr{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new $r({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new $r({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return Qn(e,"POST","/v1/accounts:signInWithPhoneNumber",zn(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await Qn(e,"POST","/v1/accounts:signInWithPhoneNumber",zn(e,t));if(n.temporaryProof)throw Jn(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return Qn(e,"POST","/v1/accounts:signInWithPhoneNumber",zn(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),Zr)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new $r({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class ei{constructor(e){var t,n,r,i,s,o;const a=Ue(Fe(e)),l=null!==(t=a.apiKey)&&void 0!==t?t:null,c=null!==(n=a.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=a.mode)&&void 0!==r?r:null);xn(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(i=a.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(s=a.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(o=a.tenantId)&&void 0!==o?o:null}static parseLink(e){const t=function(e){const t=Ue(Fe(e)).link,n=t?Ue(Fe(t)).deep_link_id:null,r=Ue(Fe(e)).deep_link_id;return(r?Ue(Fe(r)).link:null)||r||n||t||e}(e);try{return new ei(t)}catch(n){return null}}}class ti{constructor(){this.providerId=ti.PROVIDER_ID}static credential(e,t){return Jr._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=ei.parseLink(t);return xn(n,"argument-error"),Jr._fromEmailAndCode(e,n.code,n.tenantId)}}ti.PROVIDER_ID="password",ti.EMAIL_PASSWORD_SIGN_IN_METHOD="password",ti.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class ni{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class ri extends ni{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ii extends ri{constructor(){super("facebook.com")}static credential(e){return Yr._fromParams({providerId:ii.PROVIDER_ID,signInMethod:ii.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ii.credentialFromTaggedObject(e)}static credentialFromError(e){return ii.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return ii.credential(t.oauthAccessToken)}catch(n){return null}}}ii.FACEBOOK_SIGN_IN_METHOD="facebook.com",ii.PROVIDER_ID="facebook.com";class si extends ri{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Yr._fromParams({providerId:si.PROVIDER_ID,signInMethod:si.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return si.credentialFromTaggedObject(e)}static credentialFromError(e){return si.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return si.credential(n,r)}catch(i){return null}}}si.GOOGLE_SIGN_IN_METHOD="google.com",si.PROVIDER_ID="google.com";class oi extends ri{constructor(){super("github.com")}static credential(e){return Yr._fromParams({providerId:oi.PROVIDER_ID,signInMethod:oi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return oi.credentialFromTaggedObject(e)}static credentialFromError(e){return oi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return oi.credential(t.oauthAccessToken)}catch(n){return null}}}oi.GITHUB_SIGN_IN_METHOD="github.com",oi.PROVIDER_ID="github.com";class ai extends ri{constructor(){super("twitter.com")}static credential(e,t){return Yr._fromParams({providerId:ai.PROVIDER_ID,signInMethod:ai.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ai.credentialFromTaggedObject(e)}static credentialFromError(e){return ai.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return ai.credential(n,r)}catch(i){return null}}}async function li(e,t){return Qn(e,"POST","/v1/accounts:signUp",zn(e,t))}ai.TWITTER_SIGN_IN_METHOD="twitter.com",ai.PROVIDER_ID="twitter.com";class ci{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await hr._fromIdTokenResponse(e,n,r),s=ui(n);return new ci({user:i,providerId:s,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=ui(n);return new ci({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function ui(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class hi extends Re{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,hi.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new hi(e,t,n,r)}}function di(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw hi._fromErrorAndOperation(e,n,t,r);throw n}))}async function fi(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await ir(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return ci._forOperation(e,"link",r)}async function pi(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e;if($t(r.app))return Promise.reject(Tn(r));const i="reauthenticate";try{const s=await ir(e,di(r,i,t,e),n);xn(s.idToken,r,"internal-error");const o=nr(s.idToken);xn(o,r,"internal-error");const{sub:a}=o;return xn(e.uid===a,r,"user-mismatch"),ci._forOperation(e,i,s)}catch(s){throw(null===s||void 0===s?void 0:s.code)==="auth/".concat("user-not-found")&&kn(r,"user-mismatch"),s}}async function mi(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if($t(e.app))return Promise.reject(Tn(e));const r="signIn",i=await di(e,r,t),s=await ci._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(s.user),s}async function gi(e,t){return mi(Pr(e),t)}function vi(e,t,n){var r;xn((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),xn("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(xn(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(xn(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}async function yi(e){const t=Pr(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}new WeakMap;const wi="__sak";class bi{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(wi,"1"),this.storage.removeItem(wi),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class _i extends bi{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=Ne();return br(e)||Cr(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),this.fallbackToPolling=Tr(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const r=this.storage.getItem(n);if(e.newValue!==r)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);Sr()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}_i.type="LOCAL";const Ai=_i;class Ei extends bi{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Ei.type="SESSION";const Ii=Ei;class ki{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new ki(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,s=this.handlersMap[r];if(!(null===s||void 0===s?void 0:s.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const o=Array.from(s).map((async e=>e(t.origin,i))),a=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}})))}(o);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function Ci(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}ki.receivers=[];class Si{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,s;return new Promise(((o,a)=>{const l=Ci("",20);r.port1.start();const c=setTimeout((()=>{a(new Error("unsupported_event"))}),n);s={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),i=setTimeout((()=>{a(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),o(t.data.response);break;default:clearTimeout(c),clearTimeout(i),a(new Error("invalid_response"))}}},this.handlers.add(s),r.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])})).finally((()=>{s&&this.removeMessageHandler(s)}))}}function Ti(){return window}function Ni(){return"undefined"!==typeof Ti().WorkerGlobalScope&&"function"===typeof Ti().importScripts}const xi="firebaseLocalStorageDb",Di="firebaseLocalStorage",Ri="fbase_key";class Pi{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function Li(e,t){return e.transaction([Di],t?"readwrite":"readonly").objectStore(Di)}function Oi(){const e=indexedDB.open(xi,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(Di,{keyPath:Ri})}catch(r){n(r)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(Di)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(xi);return new Pi(e).toPromise()}(),t(await Oi()))}))}))}async function Mi(e,t,n){const r=Li(e,!0).put({[Ri]:t,value:n});return new Pi(r).toPromise()}function ji(e,t){const n=Li(e,!0).delete(t);return new Pi(n).toPromise()}class Ui{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await Oi()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(n){if(t++>3)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Ni()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ki._getInstance(Ni()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new Si(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Oi();return await Mi(e,wi,"1"),await ji(e,wi),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>Mi(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=Li(e,!1).get(t),r=await new Pi(n).toPromise();return void 0===r?null:r.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>ji(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=Li(e,!1).getAll();return new Pi(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Ui.type="LOCAL";const Fi=Ui;jr("rcb"),new jn(3e4,6e4);const Bi="recaptcha";async function Vi(e,t,n){var r;const i=await n.verify();try{let s;if(xn("string"===typeof i,e,"argument-error"),xn(n.type===Bi,e,"argument-error"),s="string"===typeof t?{phoneNumber:t}:t,"session"in s){const t=s.session;if("phoneNumber"in s){xn("enroll"===t.type,e,"internal-error");const n=await function(e,t){return Hn(e,"POST","/v2/accounts/mfaEnrollment:start",zn(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:i}});return n.phoneSessionInfo.sessionInfo}{xn("signin"===t.type,e,"internal-error");const n=(null===(r=s.multiFactorHint)||void 0===r?void 0:r.uid)||s.multiFactorUid;xn(n,e,"missing-multi-factor-info");const o=await function(e,t){return Hn(e,"POST","/v2/accounts/mfaSignIn:start",zn(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}});return o.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return Hn(e,"POST","/v1/accounts:sendVerificationCode",zn(e,t))}(e,{phoneNumber:s.phoneNumber,recaptchaToken:i});return t}}finally{n._reset()}}class zi{constructor(e){this.providerId=zi.PROVIDER_ID,this.auth=Pr(e)}verifyPhoneNumber(e,t){return Vi(this.auth,e,ze(t))}static credential(e,t){return $r._fromVerification(e,t)}static credentialFromResult(e){const t=e;return zi.credentialFromTaggedObject(t)}static credentialFromError(e){return zi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?$r._fromTokenResponse(n,r):null}}function Hi(e,t){return t?fr(t):(xn(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}zi.PROVIDER_ID="phone",zi.PHONE_SIGN_IN_METHOD="phone";class qi extends qr{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Xr(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Xr(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Xr(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Qi(e){return mi(e.auth,new qi(e),e.bypassAuthState)}function Wi(e){const{auth:t,user:n}=e;return xn(n,t,"internal-error"),pi(n,new qi(e),e.bypassAuthState)}async function Ki(e){const{auth:t,user:n}=e;return xn(n,t,"internal-error"),fi(n,new qi(e),e.bypassAuthState)}class Gi{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:s,type:o}=e;if(s)return void this.reject(s);const a={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(a))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Qi;case"linkViaPopup":case"linkViaRedirect":return Ki;case"reauthViaPopup":case"reauthViaRedirect":return Wi;default:kn(this.auth,"internal-error")}}resolve(e){Rn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Rn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Ji=new jn(2e3,1e4);class Xi extends Gi{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,Xi.currentPopupAction&&Xi.currentPopupAction.cancel(),Xi.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return xn(e,this.auth,"internal-error"),e}async onExecution(){Rn(1===this.filter.length,"Popup operations only handle one event");const e=Ci();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(Cn(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(Cn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Xi.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(Cn(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(e,Ji.get())};e()}}Xi.currentPopupAction=null;const Yi="pendingRedirect",Zi=new Map;class $i extends Gi{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=Zi.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=ns(t),r=ts(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(t)}catch(t){e=()=>Promise.reject(t)}Zi.set(this.auth._key(),e)}return this.bypassAuthState||Zi.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function es(e,t){Zi.set(e._key(),t)}function ts(e){return fr(e._redirectPersistence)}function ns(e){return gr(Yi,e.config.apiKey,e.name)}async function rs(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if($t(e.app))return Promise.reject(Tn(e));const r=Pr(e),i=Hi(r,t),s=new $i(r,i,n),o=await s.execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,t)),o}class is{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return os(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!os(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Cn(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ss(e))}saveEventToCache(e){this.cachedEventUids.add(ss(e)),this.lastProcessedEventTime=Date.now()}}function ss(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function os(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}const as=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ls=/^https?/;async function cs(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return Hn(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const r of t)try{if(us(r))return}catch(n){}kn(e,"unauthorized-domain")}function us(e){const t=Pn(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!ls.test(n))return!1;if(as.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const hs=new jn(3e4,6e4);function ds(){const e=Ti().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function fs(e){return new Promise(((t,n)=>{var r,i,s;function o(){ds(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{ds(),n(Cn(e,"network-request-failed"))},timeout:hs.get()})}if(null===(i=null===(r=Ti().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(s=Ti().gapi)||void 0===s?void 0:s.load)){const t=jr("iframefcb");return Ti()[t]=()=>{gapi.load?o():n(Cn(e,"network-request-failed"))},Mr("".concat(Or.gapiScript,"?onload=").concat(t)).catch((e=>n(e)))}o()}})).catch((e=>{throw ps=null,e}))}let ps=null;const ms=new jn(5e3,15e3),gs="__/auth/iframe",vs="emulator/auth/iframe",ys={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ws=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function bs(e){const t=e.config;xn(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Un(t,vs):"https://".concat(e.config.authDomain,"/").concat(gs),r={apiKey:t.apiKey,appName:e.name,v:nn},i=ws.get(e.config.apiHost);i&&(r.eid=i);const s=e._getFrameworks();return s.length&&(r.fw=s.join(",")),"".concat(n,"?").concat(je(r).slice(1))}async function _s(e){const t=await function(e){return ps=ps||fs(e),ps}(e),n=Ti().gapi;return xn(n,e,"internal-error"),t.open({where:document.body,url:bs(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ys,dontclear:!0},(t=>new Promise((async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=Cn(e,"network-request-failed"),s=Ti().setTimeout((()=>{r(i)}),ms.get());function o(){Ti().clearTimeout(s),n(t)}t.ping(o).then(o,(()=>{r(i)}))}))))}const As={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Es{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function Is(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},As),{width:r.toString(),height:i.toString(),top:s,left:o}),c=Ne().toLowerCase();n&&(a=_r(c)?"_blank":n),wr(c)&&(t=t||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce(((e,t)=>{let[n,r]=t;return"".concat(e).concat(n,"=").concat(r,",")}),"");if(function(){var e;return Cr(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ne())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==a)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",a),new Es(null);const h=window.open(t||"",a,u);xn(h,e,"popup-blocked");try{h.focus()}catch(d){}return new Es(h)}const ks="__/auth/handler",Cs="emulator/auth/handler",Ss=encodeURIComponent("fac");async function Ts(e,t,n,r,i,s){xn(e.config.authDomain,e,"auth-domain-config-required"),xn(e.config.apiKey,e,"invalid-api-key");const o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:nn,eventId:i};if(t instanceof ni){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(s||{}))o[e]=t}if(t instanceof ri){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(o.scopes=e.join(","))}e.tenantId&&(o.tid=e.tenantId);const a=o;for(const u of Object.keys(a))void 0===a[u]&&delete a[u];const l=await e._getAppCheckToken(),c=l?"#".concat(Ss,"=").concat(encodeURIComponent(l)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(ks);return Un(t,Cs)}(e),"?").concat(je(a).slice(1)).concat(c)}const Ns="webStorageSupport";const xs=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ii,this._completeRedirectFn=rs,this._overrideRedirectResult=es}async _openPopup(e,t,n,r){var i;Rn(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return Is(e,await Ts(e,t,n,Pn(),r),Ci())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){Ti().location.href=e}(await Ts(e,t,n,Pn(),r)),new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(Rn(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await _s(e),n=new is(e);return t.register("authEvent",(t=>{xn(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Ns,{type:Ns},(n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[Ns];void 0!==i&&t(!!i),kn(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=cs(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Tr()||br()||Cr()}};var Ds="@firebase/auth",Rs="1.7.0";class Ps{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){xn(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Ls=Ce("authIdTokenMaxAge")||300;let Os=null;var Ms;!function(e){Or=e}({loadJS:e=>new Promise(((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=Cn("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)})),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),Ms="Browser",Yt(new He("auth",((e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;xn(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:Ms,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Nr(Ms)},c=new Rr(r,i,s,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(fr);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),Yt(new He("auth-internal",(e=>(e=>new Ps(e))(Pr(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),on(Ds,Rs,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(Ms)),on(Ds,Rs,"esm2017");var js,Us="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Fs={},Bs=Bs||{},Vs=Us||self;function zs(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Hs(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var qs="closure_uid_"+(1e9*Math.random()>>>0),Qs=0;function Ws(e,t,n){return e.call.apply(e.bind,arguments)}function Ks(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Gs(e,t,n){return(Gs=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Ws:Ks).apply(null,arguments)}function Js(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Xs(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}function Ys(){this.s=this.s,this.o=this.o}Ys.prototype.s=!1,Ys.prototype.sa=function(){var e;!this.s&&(this.s=!0,this.N(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,qs)&&e[qs]||(e[qs]=++Qs))},Ys.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Zs=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function $s(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function eo(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(zs(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function to(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}to.prototype.h=function(){this.defaultPrevented=!0};var no=function(){if(!Vs.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};Vs.addEventListener("test",e,t),Vs.removeEventListener("test",e,t)}catch(n){}return e}();function ro(e){return/^[\s\xa0]*$/.test(e)}function io(){var e=Vs.navigator;return e&&(e=e.userAgent)?e:""}function so(e){return-1!=io().indexOf(e)}function oo(e){return oo[" "](e),e}oo[" "]=function(){};var ao,lo,co=so("Opera"),uo=so("Trident")||so("MSIE"),ho=so("Edge"),fo=ho||uo,po=so("Gecko")&&!(-1!=io().toLowerCase().indexOf("webkit")&&!so("Edge"))&&!(so("Trident")||so("MSIE"))&&!so("Edge"),mo=-1!=io().toLowerCase().indexOf("webkit")&&!so("Edge");function go(){var e=Vs.document;return e?e.documentMode:void 0}e:{var vo="",yo=function(){var e=io();return po?/rv:([^\);]+)(\)|;)/.exec(e):ho?/Edge\/([\d\.]+)/.exec(e):uo?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):mo?/WebKit\/(\S+)/.exec(e):co?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(yo&&(vo=yo?yo[1]:""),uo){var wo=go();if(null!=wo&&wo>parseFloat(vo)){ao=String(wo);break e}}ao=vo}if(Vs.document&&uo){var bo=go();lo=bo||(parseInt(ao,10)||void 0)}else lo=void 0;var _o=lo;function Ao(e,t){if(to.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(po){e:{try{oo(t.nodeName);var i=!0;break e}catch(s){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Eo[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Ao.$.h.call(this)}}Xs(Ao,to);var Eo={2:"touch",3:"pen",4:"mouse"};Ao.prototype.h=function(){Ao.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Io="closure_listenable_"+(1e6*Math.random()|0),ko=0;function Co(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++ko,this.fa=this.ia=!1}function So(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function To(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function No(e){const t={};for(const n in e)t[n]=e[n];return t}const xo="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Do(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<xo.length;t++)n=xo[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Ro(e){this.src=e,this.g={},this.h=0}function Po(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],s=Zs(i,t);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(So(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Lo(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.fa&&s.listener==t&&s.capture==!!n&&s.la==r)return i}return-1}Ro.prototype.add=function(e,t,n,r,i){var s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);var o=Lo(e,t,r,i);return-1<o?(t=e[o],n||(t.ia=!1)):((t=new Co(t,this.src,s,!!r,i)).ia=n,e.push(t)),t};var Oo="closure_lm_"+(1e6*Math.random()|0),Mo={};function jo(e,t,n,r,i){if(r&&r.once)return Fo(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)jo(e,t[s],n,r,i);return null}return n=Wo(n),e&&e[Io]?e.O(t,n,Hs(r)?!!r.capture:!!r,i):Uo(e,t,n,!1,r,i)}function Uo(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var o=Hs(i)?!!i.capture:!!i,a=qo(e);if(a||(e[Oo]=a=new Ro(e)),(n=a.add(t,n,r,o,s)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=Ho;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)no||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(zo(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Fo(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)Fo(e,t[s],n,r,i);return null}return n=Wo(n),e&&e[Io]?e.P(t,n,Hs(r)?!!r.capture:!!r,i):Uo(e,t,n,!0,r,i)}function Bo(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)Bo(e,t[s],n,r,i);else r=Hs(r)?!!r.capture:!!r,n=Wo(n),e&&e[Io]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Lo(s=e.g[t],n,r,i))&&(So(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete e.g[t],e.h--)))):e&&(e=qo(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Lo(t,n,r,i)),(n=-1<e?t[e]:null)&&Vo(n))}function Vo(e){if("number"!==typeof e&&e&&!e.fa){var t=e.src;if(t&&t[Io])Po(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(zo(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=qo(t))?(Po(n,e),0==n.h&&(n.src=null,t[Oo]=null)):So(e)}}}function zo(e){return e in Mo?Mo[e]:Mo[e]="on"+e}function Ho(e,t){if(e.fa)e=!0;else{t=new Ao(t,this);var n=e.listener,r=e.la||e.src;e.ia&&Vo(e),e=n.call(r,t)}return e}function qo(e){return(e=e[Oo])instanceof Ro?e:null}var Qo="__closure_events_fn_"+(1e9*Math.random()>>>0);function Wo(e){return"function"===typeof e?e:(e[Qo]||(e[Qo]=function(t){return e.handleEvent(t)}),e[Qo])}function Ko(){Ys.call(this),this.i=new Ro(this),this.S=this,this.J=null}function Go(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,"string"===typeof t)t=new to(t,e);else if(t instanceof to)t.target=t.target||e;else{var i=t;Do(t=new to(r,e),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=t.g=n[s];i=Jo(o,r,!0,t)&&i}if(i=Jo(o=t.g=e,r,!0,t)&&i,i=Jo(o,r,!1,t)&&i,n)for(s=0;s<n.length;s++)i=Jo(o=t.g=n[s],r,!1,t)&&i}function Jo(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var o=t[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&Po(e.i,o),i=!1!==a.call(l,r)&&i}}return i&&!r.defaultPrevented}Xs(Ko,Ys),Ko.prototype[Io]=!0,Ko.prototype.removeEventListener=function(e,t,n,r){Bo(this,e,t,n,r)},Ko.prototype.N=function(){if(Ko.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)So(n[r]);delete t.g[e],t.h--}}this.J=null},Ko.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Ko.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Xo=Vs.JSON.stringify;function Yo(){var e=ia;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Zo=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new $o),(e=>e.reset()));class $o{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function ea(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function ta(e){Vs.setTimeout((()=>{throw e}),0)}let na,ra=!1,ia=new class{constructor(){this.h=this.g=null}add(e,t){const n=Zo.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},sa=()=>{const e=Vs.Promise.resolve(void 0);na=()=>{e.then(oa)}};var oa=()=>{for(var e;e=Yo();){try{e.h.call(e.g)}catch(n){ta(n)}var t=Zo;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}ra=!1};function aa(e,t){Ko.call(this),this.h=e||1,this.g=t||Vs,this.j=Gs(this.qb,this),this.l=Date.now()}function la(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function ca(e,t,n){if("function"===typeof e)n&&(e=Gs(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Gs(e.handleEvent,e)}return 2147483647<Number(t)?-1:Vs.setTimeout(e,t||0)}function ua(e){e.g=ca((()=>{e.g=null,e.i&&(e.i=!1,ua(e))}),e.j);const t=e.h;e.h=null,e.m.apply(null,t)}Xs(aa,Ko),(js=aa.prototype).ga=!1,js.T=null,js.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Go(this,"tick"),this.ga&&(la(this),this.start()))}},js.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},js.N=function(){aa.$.N.call(this),la(this),delete this.g};class ha extends Ys{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:ua(this)}N(){super.N(),this.g&&(Vs.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function da(e){Ys.call(this),this.h=e,this.g={}}Xs(da,Ys);var fa=[];function pa(e,t,n,r){Array.isArray(n)||(n&&(fa[0]=n.toString()),n=fa);for(var i=0;i<n.length;i++){var s=jo(t,n[i],r||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function ma(e){To(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Vo(e)}),e),e.g={}}function ga(){this.g=!0}function va(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return Xo(n)}catch(a){return t}}(e,n)+(r?" "+r:"")}))}da.prototype.N=function(){da.$.N.call(this),ma(this)},da.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},ga.prototype.Ea=function(){this.g=!1},ga.prototype.info=function(){};var ya={},wa=null;function ba(){return wa=wa||new Ko}function _a(e){to.call(this,ya.Ta,e)}function Aa(e){const t=ba();Go(t,new _a(t))}function Ea(e,t){to.call(this,ya.STAT_EVENT,e),this.stat=t}function Ia(e){const t=ba();Go(t,new Ea(t,e))}function ka(e,t){to.call(this,ya.Ua,e),this.size=t}function Ca(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return Vs.setTimeout((function(){e()}),t)}ya.Ta="serverreachability",Xs(_a,to),ya.STAT_EVENT="statevent",Xs(Ea,to),ya.Ua="timingevent",Xs(ka,to);var Sa={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Ta={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Na(){}function xa(e){return e.h||(e.h=e.i())}function Da(){}Na.prototype.h=null;var Ra,Pa={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function La(){to.call(this,"d")}function Oa(){to.call(this,"c")}function Ma(){}function ja(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new da(this),this.P=Fa,e=fo?125:void 0,this.V=new aa(e),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Ua}function Ua(){this.i=null,this.g="",this.h=!1}Xs(La,to),Xs(Oa,to),Xs(Ma,Na),Ma.prototype.g=function(){return new XMLHttpRequest},Ma.prototype.i=function(){return{}},Ra=new Ma;var Fa=45e3,Ba={},Va={};function za(e,t,n){e.L=1,e.A=al(nl(t)),e.u=n,e.S=!0,Ha(e,null)}function Ha(e,t){e.G=Date.now(),Ka(e),e.B=nl(e.A);var n=e.B,r=e.W;Array.isArray(r)||(r=[String(r)]),bl(n.i,"t",r),e.o=0,n=e.l.J,e.h=new Ua,e.g=_c(e.l,n?t:null,!e.u),0<e.O&&(e.M=new ha(Gs(e.Pa,e,e.g),e.O)),pa(e.U,e.g,"readystatechange",e.nb),t=e.I?No(e.I):{},e.u?(e.v||(e.v="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.B,e.v,e.u,t)):(e.v="GET",e.g.ha(e.B,e.v,null,t)),Aa(),function(e,t,n,r,i,s){e.info((function(){if(e.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var h=u.split("_");o=2<=h.length&&"type"==h[1]?o+(u+"=")+c+"&":o+(u+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.v,e.B,e.m,e.W,e.u)}function qa(e){return!!e.g&&("GET"==e.v&&2!=e.L&&e.l.Ha)}function Qa(e,t,n){let r,i=!0;for(;!e.J&&e.o<n.length;){if(r=Wa(e,n),r==Va){4==t&&(e.s=4,Ia(14),i=!1),va(e.j,e.m,null,"[Incomplete Response]");break}if(r==Ba){e.s=4,Ia(15),va(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}va(e.j,e.m,r,null),Za(e,r)}qa(e)&&0!=e.o&&(e.h.g=e.h.g.slice(e.o),e.o=0),4!=t||0!=n.length||e.h.h||(e.s=1,Ia(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ba&&(e.ba=!0,(t=e.l).g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),fc(t),t.M=!0,Ia(11))):(va(e.j,e.m,n,"[Invalid Chunked Response]"),Ya(e),Xa(e))}function Wa(e,t){var n=e.o,r=t.indexOf("\n",n);return-1==r?Va:(n=Number(t.substring(n,r)),isNaN(n)?Ba:(r+=1)+n>t.length?Va:(t=t.slice(r,r+n),e.o=r+n,t))}function Ka(e){e.Y=Date.now()+e.P,Ga(e,e.P)}function Ga(e,t){if(null!=e.C)throw Error("WatchDog timer not null");e.C=Ca(Gs(e.lb,e),t)}function Ja(e){e.C&&(Vs.clearTimeout(e.C),e.C=null)}function Xa(e){0==e.l.H||e.J||gc(e.l,e)}function Ya(e){Ja(e);var t=e.M;t&&"function"==typeof t.sa&&t.sa(),e.M=null,la(e.V),ma(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function Za(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||Sl(n.i,e)))if(!e.K&&Sl(n.i,e)&&3==n.H){try{var r=n.Ja.g.parse(t)}catch(c){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;mc(n),sc(n)}dc(n),Ia(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=Ca(Gs(n.ib,n),6e3));if(1>=Cl(n.i)&&n.oa){try{n.oa()}catch(c){}n.oa=void 0}}else yc(n,11)}else if((e.K||n.g==e)&&mc(n),!ro(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){let c=i[t];if(n.V=c[0],c=c[1],2==n.H)if("c"==c[0]){n.K=c[1],n.pa=c[2];const t=c[3];null!=t&&(n.ra=t,n.l.info("VER="+n.ra));const i=c[4];null!=i&&(n.Ga=i,n.l.info("SVER="+n.Ga));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=e.g;if(h){const e=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=r.i;s.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(Tl(s,s.h),s.h=null))}if(r.F){const e=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.Da=e,ol(r.I,r.F,e))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms"));var o=e;if((r=n).wa=bc(r,r.J?r.pa:null,r.Y),o.K){Nl(r.i,o);var a=o,l=r.L;l&&a.setTimeout(l),a.C&&(Ja(a),Ka(a)),r.g=o}else hc(r);0<n.j.length&&ac(n)}else"stop"!=c[0]&&"close"!=c[0]||yc(n,7);else 3==n.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?yc(n,7):ic(n):"noop"!=c[0]&&n.h&&n.h.Aa(c),n.A=0)}Aa()}catch(c){}}function $a(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(zs(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.ta&&"function"==typeof e.ta)return e.ta();if(!e.Z||"function"!=typeof e.Z){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(zs(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(zs(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}(js=ja.prototype).setTimeout=function(e){this.P=e},js.nb=function(e){e=e.target;const t=this.M;t&&3==Zl(e)?t.l():this.Pa(e)},js.Pa=function(e){try{if(e==this.g)e:{const u=Zl(this.g);var t=this.g.Ia();this.g.da();if(!(3>u)&&(3!=u||fo||this.g&&(this.h.h||this.g.ja()||$l(this.g)))){this.J||4!=u||7==t||Aa(),Ja(this);var n=this.g.da();this.ca=n;t:if(qa(this)){var r=$l(this.g);e="";var i=r.length,s=4==Zl(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Ya(this),Xa(this);var o="";break t}this.h.i=new Vs.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:s&&t==i-1});r.length=0,this.h.g+=e,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=200==n,function(e,t,n,r,i,s,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+s+" "+o}))}(this.j,this.v,this.B,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ro(a)){var c=a;break t}}c=null}if(!(n=c)){this.i=!1,this.s=3,Ia(12),Ya(this),Xa(this);break e}va(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Za(this,n)}this.S?(Qa(this,u,o),fo&&this.i&&3==u&&(pa(this.U,this.V,"tick",this.mb),this.V.start())):(va(this.j,this.m,o,null),Za(this,o)),4==u&&Ya(this),this.i&&!this.J&&(4==u?gc(this.l,this):(this.i=!1,Ka(this)))}else(function(e){const t={};e=(e.g&&2<=Zl(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(ro(e[r]))continue;var n=ea(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const s=t[i]||[];t[i]=s,s.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<o.indexOf("Unknown SID")?(this.s=3,Ia(12)):(this.s=0,Ia(13)),Ya(this),Xa(this)}}}catch(u){}},js.mb=function(){if(this.g){var e=Zl(this.g),t=this.g.ja();this.o<t.length&&(Ja(this),Qa(this,e,t),this.i&&4!=e&&Ka(this))}},js.cancel=function(){this.J=!0,Ya(this)},js.lb=function(){this.C=null;const e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.B),2!=this.L&&(Aa(),Ia(17)),Ya(this),this.s=2,Xa(this)):Ga(this,this.Y-e)};var el=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function tl(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof tl){this.h=e.h,rl(this,e.j),this.s=e.s,this.g=e.g,il(this,e.m),this.l=e.l;var t=e.i,n=new gl;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),sl(this,n),this.o=e.o}else e&&(t=String(e).match(el))?(this.h=!1,rl(this,t[1]||"",!0),this.s=ll(t[2]||""),this.g=ll(t[3]||"",!0),il(this,t[4]),this.l=ll(t[5]||"",!0),sl(this,t[6]||"",!0),this.o=ll(t[7]||"")):(this.h=!1,this.i=new gl(null,this.h))}function nl(e){return new tl(e)}function rl(e,t,n){e.j=n?ll(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function il(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function sl(e,t,n){t instanceof gl?(e.i=t,function(e,t){t&&!e.j&&(vl(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(yl(this,t),bl(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=cl(t,pl)),e.i=new gl(t,e.h))}function ol(e,t,n){e.i.set(t,n)}function al(e){return ol(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function ll(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function cl(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,ul),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function ul(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}tl.prototype.toString=function(){var e=[],t=this.j;t&&e.push(cl(t,hl,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(cl(t,hl,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(cl(n,"/"==n.charAt(0)?fl:dl,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",cl(n,ml)),e.join("")};var hl=/[#\/\?@]/g,dl=/[#\?:]/g,fl=/[#\?]/g,pl=/[#\?@]/g,ml=/#/g;function gl(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function vl(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function yl(e,t){vl(e),t=_l(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function wl(e,t){return vl(e),t=_l(e,t),e.g.has(t)}function bl(e,t,n){yl(e,t),0<n.length&&(e.i=null,e.g.set(_l(e,t),$s(n)),e.h+=n.length)}function _l(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(js=gl.prototype).add=function(e,t){vl(this),this.i=null,e=_l(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},js.forEach=function(e,t){vl(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},js.ta=function(){vl(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},js.Z=function(e){vl(this);let t=[];if("string"===typeof e)wl(this,e)&&(t=t.concat(this.g.get(_l(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},js.set=function(e,t){return vl(this),this.i=null,wl(this,e=_l(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},js.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},js.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),e.push(i)}}return this.i=e.join("&")};var Al=class{constructor(e,t){this.g=e,this.map=t}};function El(e){this.l=e||Il,Vs.PerformanceNavigationTiming?e=0<(e=Vs.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(Vs.g&&Vs.g.Ka&&Vs.g.Ka()&&Vs.g.Ka().dc),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Il=10;function kl(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Cl(e){return e.h?1:e.g?e.g.size:0}function Sl(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Tl(e,t){e.g?e.g.add(t):e.h=t}function Nl(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function xl(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return $s(e.i)}El.prototype.cancel=function(){if(this.i=xl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var Dl,Rl=class{stringify(e){return Vs.JSON.stringify(e,void 0)}parse(e){return Vs.JSON.parse(e,void 0)}};function Pl(){this.g=new Rl}function Ll(e,t,n){const r=n||"";try{$a(e,(function(e,n){let i=e;Hs(e)&&(i=Xo(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function Ol(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(s){}}function Ml(e){this.l=e.ec||null,this.j=e.ob||!1}function jl(e,t){Ko.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=Ul,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Xs(Ml,Na),Ml.prototype.g=function(){return new jl(this.l,this.j)},Ml.prototype.i=(Dl={},function(){return Dl}),Xs(jl,Ko);var Ul=0;function Fl(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function Bl(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Vl(e)}function Vl(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(js=jl.prototype).open=function(e,t){if(this.readyState!=Ul)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Vl(this)},js.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||Vs).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},js.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Bl(this)),this.readyState=Ul},js.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Vl(this)),this.g&&(this.readyState=3,Vl(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if("undefined"!==typeof Vs.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Fl(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},js.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Bl(this):Vl(this),3==this.readyState&&Fl(this)}},js.Za=function(e){this.g&&(this.response=this.responseText=e,Bl(this))},js.Ya=function(e){this.g&&(this.response=e,Bl(this))},js.ka=function(){this.g&&Bl(this)},js.setRequestHeader=function(e,t){this.v.append(e,t)},js.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},js.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(jl.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var zl=Vs.JSON.parse;function Hl(e){Ko.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=ql,this.L=this.M=!1}Xs(Hl,Ko);var ql="",Ql=/^https?$/i,Wl=["POST","PUT"];function Kl(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Gl(e),Xl(e)}function Gl(e){e.F||(e.F=!0,Go(e,"complete"),Go(e,"error"))}function Jl(e){if(e.h&&"undefined"!=typeof Bs&&(!e.C[1]||4!=Zl(e)||2!=e.da()))if(e.v&&4==Zl(e))ca(e.La,0,e);else if(Go(e,"readystatechange"),4==Zl(e)){e.h=!1;try{const a=e.da();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===a){var i=String(e.I).match(el)[1]||null;!i&&Vs.self&&Vs.self.location&&(i=Vs.self.location.protocol.slice(0,-1)),r=!Ql.test(i?i.toLowerCase():"")}n=r}if(n)Go(e,"complete"),Go(e,"success");else{e.m=6;try{var s=2<Zl(e)?e.g.statusText:""}catch(o){s=""}e.j=s+" ["+e.da()+"]",Gl(e)}}finally{Xl(e)}}}function Xl(e,t){if(e.g){Yl(e);const r=e.g,i=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||Go(e,"ready");try{r.onreadystatechange=i}catch(n){}}}function Yl(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(Vs.clearTimeout(e.A),e.A=null)}function Zl(e){return e.g?e.g.readyState:0}function $l(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case ql:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(ou){return null}}function ec(e){let t="";return To(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function tc(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=ec(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):ol(e,t,n))}function nc(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function rc(e){this.Ga=0,this.j=[],this.l=new ga,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=nc("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=nc("baseRetryDelayMs",5e3,e),this.hb=nc("retryDelaySeedMs",1e4,e),this.eb=nc("forwardChannelMaxRetries",2,e),this.xa=nc("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new El(e&&e.concurrentRequestLimit),this.Ja=new Pl,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function ic(e){if(oc(e),3==e.H){var t=e.W++,n=nl(e.I);if(ol(n,"SID",e.K),ol(n,"RID",t),ol(n,"TYPE","terminate"),cc(e,n),(t=new ja(e,e.l,t)).L=2,t.A=al(nl(n)),n=!1,Vs.navigator&&Vs.navigator.sendBeacon)try{n=Vs.navigator.sendBeacon(t.A.toString(),"")}catch(r){}!n&&Vs.Image&&((new Image).src=t.A,n=!0),n||(t.g=_c(t.l,null),t.g.ha(t.A)),t.G=Date.now(),Ka(t)}wc(e)}function sc(e){e.g&&(fc(e),e.g.cancel(),e.g=null)}function oc(e){sc(e),e.u&&(Vs.clearTimeout(e.u),e.u=null),mc(e),e.i.cancel(),e.m&&("number"===typeof e.m&&Vs.clearTimeout(e.m),e.m=null)}function ac(e){if(!kl(e.i)&&!e.m){e.m=!0;var t=e.Na;na||sa(),ra||(na(),ra=!0),ia.add(t,e),e.C=0}}function lc(e,t){var n;n=t?t.m:e.W++;const r=nl(e.I);ol(r,"SID",e.K),ol(r,"RID",n),ol(r,"AID",e.V),cc(e,r),e.o&&e.s&&tc(r,e.o,e.s),n=new ja(e,e.l,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=uc(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),Tl(e.i,n),za(n,r,t)}function cc(e,t){e.na&&To(e.na,(function(e,n){ol(t,n,e)})),e.h&&$a({},(function(e,n){ol(t,n,e)}))}function uc(e,t,n){n=Math.min(e.j.length,n);var r=e.h?Gs(e.h.Va,e.h,e):null;e:{var i=e.j;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let o=!0;for(let a=0;a<n;a++){let n=i[a].g;const l=i[a].map;if(n-=t,0>n)t=Math.max(0,i[a].g-100),o=!1;else try{Ll(l,e,"req"+n+"_")}catch(s){r&&r(l)}}if(o){r=e.join("&");break e}}}return e=e.j.splice(0,n),t.F=e,r}function hc(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;na||sa(),ra||(na(),ra=!0),ia.add(t,e),e.A=0}}function dc(e){return!(e.g||e.u||3<=e.A)&&(e.ba++,e.u=Ca(Gs(e.Ma,e),vc(e,e.A)),e.A++,!0)}function fc(e){null!=e.B&&(Vs.clearTimeout(e.B),e.B=null)}function pc(e){e.g=new ja(e,e.l,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=nl(e.wa);ol(t,"RID","rpc"),ol(t,"SID",e.K),ol(t,"AID",e.V),ol(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&ol(t,"TO",e.qa),ol(t,"TYPE","xmlhttp"),cc(e,t),e.o&&e.s&&tc(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.A=al(nl(t)),n.u=null,n.S=!0,Ha(n,e)}function mc(e){null!=e.v&&(Vs.clearTimeout(e.v),e.v=null)}function gc(e,t){var n=null;if(e.g==t){mc(e),fc(e),e.g=null;var r=2}else{if(!Sl(e.i,t))return;n=t.F,Nl(e.i,t),r=1}if(0!=e.H)if(t.i)if(1==r){n=t.u?t.u.length:0,t=Date.now()-t.G;var i=e.C;Go(r=ba(),new ka(r,n)),ac(e)}else hc(e);else if(3==(i=t.s)||0==i&&0<t.ca||!(1==r&&function(e,t){return!(Cl(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.j=t.F.concat(e.j),!0):!(1==e.H||2==e.H||e.C>=(e.cb?0:e.eb))&&(e.m=Ca(Gs(e.Na,e,t),vc(e,e.C)),e.C++,!0))}(e,t)||2==r&&dc(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:yc(e,5);break;case 4:yc(e,10);break;case 3:yc(e,6);break;default:yc(e,2)}}function vc(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function yc(e,t){if(e.l.info("Error code "+t),2==t){var n=null;e.h&&(n=null);var r=Gs(e.pb,e);n||(n=new tl("//www.google.com/images/cleardot.gif"),Vs.location&&"http"==Vs.location.protocol||rl(n,"https"),al(n)),function(e,t){const n=new ga;if(Vs.Image){const r=new Image;r.onload=Js(Ol,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Js(Ol,n,r,"TestLoadImage: error",!1,t),r.onabort=Js(Ol,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Js(Ol,n,r,"TestLoadImage: timeout",!1,t),Vs.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Ia(2);e.H=0,e.h&&e.h.za(t),wc(e),oc(e)}function wc(e){if(e.H=0,e.ma=[],e.h){const t=xl(e.i);0==t.length&&0==e.j.length||(eo(e.ma,t),eo(e.ma,e.j),e.i.i.length=0,$s(e.j),e.j.length=0),e.h.ya()}}function bc(e,t,n){var r=n instanceof tl?nl(n):new tl(n);if(""!=r.g)t&&(r.g=t+"."+r.g),il(r,r.m);else{var i=Vs.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var s=new tl(null);r&&rl(s,r),t&&(s.g=t),i&&il(s,i),n&&(s.l=n),r=s}return n=e.F,t=e.Da,n&&t&&ol(r,n,t),ol(r,"VER",e.ra),cc(e,r),r}function _c(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ha&&!e.va?new Hl(new Ml({ob:n})):new Hl(e.va)).Oa(e.J),t}function Ac(){}function Ec(){if(uo&&!(10<=Number(_o)))throw Error("Environmental error: no available transport.")}function Ic(e,t){Ko.call(this),this.g=new rc(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!ro(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!ro(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Sc(this)}function kc(e){La.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Cc(){Oa.call(this),this.status=1}function Sc(e){this.g=e}function Tc(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Nc(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var s=e.g[3],o=t+(s^n&(i^s))+r[0]+3614090360&4294967295;o=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=n+(o<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=t+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=t+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=t+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(t=n+((o=t+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(t^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+s&4294967295}function xc(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var s=0|e[i];r&&s==t||(n[i]=s,r=!1)}this.g=n}(js=Hl.prototype).Oa=function(e){this.M=e},js.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Ra.g(),this.C=this.u?xa(this.u):xa(Ra),this.g.onreadystatechange=Gs(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(s){return void Kl(this,s)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),i=Vs.FormData&&e instanceof Vs.FormData,!(0<=Zs(Wl,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,a]of n)this.g.setRequestHeader(o,a);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Yl(this),0<this.B&&((this.L=function(e){return uo&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Gs(this.ua,this)):this.A=ca(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){Kl(this,s)}},js.ua=function(){"undefined"!=typeof Bs&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Go(this,"timeout"),this.abort(8))},js.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Go(this,"complete"),Go(this,"abort"),Xl(this))},js.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Xl(this,!0)),Hl.$.N.call(this)},js.La=function(){this.s||(this.G||this.v||this.l?Jl(this):this.kb())},js.kb=function(){Jl(this)},js.isActive=function(){return!!this.g},js.da=function(){try{return 2<Zl(this)?this.g.status:-1}catch(Dl){return-1}},js.ja=function(){try{return this.g?this.g.responseText:""}catch(Dl){return""}},js.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),zl(t)}},js.Ia=function(){return this.m},js.Sa=function(){return"string"===typeof this.j?this.j:String(this.j)},(js=rc.prototype).ra=8,js.H=1,js.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const i=new ja(this,this.l,e);let s=this.s;if(this.U&&(s?(s=No(s),Do(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var t=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.j.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=uc(this,i,t),ol(n=nl(this.I),"RID",e),ol(n,"CVER",22),this.F&&ol(n,"X-HTTP-Session-Id",this.F),cc(this,n),s&&(this.O?t="headers="+encodeURIComponent(String(ec(s)))+"&"+t:this.o&&tc(n,this.o,s)),Tl(this.i,i),this.bb&&ol(n,"TYPE","init"),this.P?(ol(n,"$req",t),ol(n,"SID","null"),i.aa=!0,za(i,n,null)):za(i,n,t),this.H=2}}else 3==this.H&&(e?lc(this,e):0==this.j.length||kl(this.i)||lc(this))},js.Ma=function(){if(this.u=null,pc(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=Ca(Gs(this.jb,this),e)}},js.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Ia(10),sc(this),pc(this))},js.ib=function(){null!=this.v&&(this.v=null,sc(this),dc(this),Ia(19))},js.pb=function(e){e?(this.l.info("Successfully pinged google.com"),Ia(2)):(this.l.info("Failed to ping google.com"),Ia(1))},js.isActive=function(){return!!this.h&&this.h.isActive(this)},(js=Ac.prototype).Ba=function(){},js.Aa=function(){},js.za=function(){},js.ya=function(){},js.isActive=function(){return!0},js.Va=function(){},Ec.prototype.g=function(e,t){return new Ic(e,t)},Xs(Ic,Ko),Ic.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;Ia(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=bc(e,null,e.Y),ac(e)},Ic.prototype.close=function(){ic(this.g)},Ic.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=Xo(e),e=n);t.j.push(new Al(t.fb++,e)),3==t.H&&ac(t)},Ic.prototype.N=function(){this.g.h=null,delete this.j,ic(this.g),delete this.g,Ic.$.N.call(this)},Xs(kc,La),Xs(Cc,Oa),Xs(Sc,Ac),Sc.prototype.Ba=function(){Go(this.g,"a")},Sc.prototype.Aa=function(e){Go(this.g,new kc(e))},Sc.prototype.za=function(e){Go(this.g,new Cc)},Sc.prototype.ya=function(){Go(this.g,"b")},Xs(Tc,(function(){this.blockSize=-1})),Tc.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Tc.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,s=0;s<t;){if(0==i)for(;s<=n;)Nc(this,e,s),s+=this.blockSize;if("string"===typeof e){for(;s<t;)if(r[i++]=e.charCodeAt(s++),i==this.blockSize){Nc(this,r),i=0;break}}else for(;s<t;)if(r[i++]=e[s++],i==this.blockSize){Nc(this,r),i=0;break}}this.h=i,this.i+=t},Tc.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var Dc={};function Rc(e){return-128<=e&&128>e?function(e,t){var n=Dc;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new xc([0|e],0>e?-1:0)})):new xc([0|e],0>e?-1:0)}function Pc(e){if(isNaN(e)||!isFinite(e))return Oc;if(0>e)return Bc(Pc(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=Lc;return new xc(t,0)}var Lc=4294967296,Oc=Rc(0),Mc=Rc(1),jc=Rc(16777216);function Uc(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function Fc(e){return-1==e.h}function Bc(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new xc(n,~e.h).add(Mc)}function Vc(e,t){return e.add(Bc(t))}function zc(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function Hc(e,t){this.g=e,this.h=t}function qc(e,t){if(Uc(t))throw Error("division by zero");if(Uc(e))return new Hc(Oc,Oc);if(Fc(e))return t=qc(Bc(e),t),new Hc(Bc(t.g),Bc(t.h));if(Fc(t))return t=qc(e,Bc(t)),new Hc(Bc(t.g),t.h);if(30<e.g.length){if(Fc(e)||Fc(t))throw Error("slowDivide_ only works with positive integers.");for(var n=Mc,r=t;0>=r.X(e);)n=Qc(n),r=Qc(r);var i=Wc(n,1),s=Wc(r,1);for(r=Wc(r,2),n=Wc(n,2);!Uc(r);){var o=s.add(r);0>=o.X(e)&&(i=i.add(n),s=o),r=Wc(r,1),n=Wc(n,1)}return t=Vc(e,i.R(t)),new Hc(i,t)}for(i=Oc;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),o=(s=Pc(n)).R(t);Fc(o)||0<o.X(e);)o=(s=Pc(n-=r)).R(t);Uc(s)&&(s=Mc),i=i.add(s),e=Vc(e,o)}return new Hc(i,e)}function Qc(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new xc(n,e.h)}function Wc(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],s=0;s<r;s++)i[s]=0<t?e.D(s+n)>>>t|e.D(s+n+1)<<32-t:e.D(s+n);return new xc(i,e.h)}(js=xc.prototype).ea=function(){if(Fc(this))return-Bc(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:Lc+r)*t,t*=Lc}return e},js.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(Uc(this))return"0";if(Fc(this))return"-"+Bc(this).toString(e);for(var t=Pc(Math.pow(e,6)),n=this,r="";;){var i=qc(n,t).g,s=((0<(n=Vc(n,i.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(Uc(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},js.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},js.X=function(e){return Fc(e=Vc(this,e))?-1:Uc(e)?0:1},js.abs=function(){return Fc(this)?Bc(this):this},js.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var s=r+(65535&this.D(i))+(65535&e.D(i)),o=(s>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new xc(n,-2147483648&n[n.length-1]?-1:0)},js.R=function(e){if(Uc(this)||Uc(e))return Oc;if(Fc(this))return Fc(e)?Bc(this).R(Bc(e)):Bc(Bc(this).R(e));if(Fc(e))return Bc(this.R(Bc(e)));if(0>this.X(jc)&&0>e.X(jc))return Pc(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var s=this.D(r)>>>16,o=65535&this.D(r),a=e.D(i)>>>16,l=65535&e.D(i);n[2*r+2*i]+=o*l,zc(n,2*r+2*i),n[2*r+2*i+1]+=s*l,zc(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,zc(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,zc(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new xc(n,0)},js.gb=function(e){return qc(this,e).h},js.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new xc(n,this.h&e.h)},js.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new xc(n,this.h|e.h)},js.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new xc(n,this.h^e.h)},Ec.prototype.createWebChannel=Ec.prototype.g,Ic.prototype.send=Ic.prototype.u,Ic.prototype.open=Ic.prototype.m,Ic.prototype.close=Ic.prototype.close,Sa.NO_ERROR=0,Sa.TIMEOUT=8,Sa.HTTP_ERROR=6,Ta.COMPLETE="complete",Da.EventType=Pa,Pa.OPEN="a",Pa.CLOSE="b",Pa.ERROR="c",Pa.MESSAGE="d",Ko.prototype.listen=Ko.prototype.O,Hl.prototype.listenOnce=Hl.prototype.P,Hl.prototype.getLastError=Hl.prototype.Sa,Hl.prototype.getLastErrorCode=Hl.prototype.Ia,Hl.prototype.getStatus=Hl.prototype.da,Hl.prototype.getResponseJson=Hl.prototype.Wa,Hl.prototype.getResponseText=Hl.prototype.ja,Hl.prototype.send=Hl.prototype.ha,Hl.prototype.setWithCredentials=Hl.prototype.Oa,Tc.prototype.digest=Tc.prototype.l,Tc.prototype.reset=Tc.prototype.reset,Tc.prototype.update=Tc.prototype.j,xc.prototype.add=xc.prototype.add,xc.prototype.multiply=xc.prototype.R,xc.prototype.modulo=xc.prototype.gb,xc.prototype.compare=xc.prototype.X,xc.prototype.toNumber=xc.prototype.ea,xc.prototype.toString=xc.prototype.toString,xc.prototype.getBits=xc.prototype.D,xc.fromNumber=Pc,xc.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return Bc(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=Pc(Math.pow(n,8)),i=Oc,s=0;s<t.length;s+=8){var o=Math.min(8,t.length-s),a=parseInt(t.substring(s,s+o),n);8>o?(o=Pc(Math.pow(n,o)),i=i.R(o).add(Pc(a))):i=(i=i.R(r)).add(Pc(a))}return i};var Kc=Fs.createWebChannelTransport=function(){return new Ec},Gc=Fs.getStatEventTarget=function(){return ba()},Jc=Fs.ErrorCode=Sa,Xc=Fs.EventType=Ta,Yc=Fs.Event=ya,Zc=Fs.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},$c=(Fs.FetchXmlHttpFactory=Ml,Fs.WebChannel=Da),eu=Fs.XhrIo=Hl,tu=Fs.Md5=Tc,nu=Fs.Integer=xc;const ru="@firebase/firestore";class iu{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}iu.UNAUTHENTICATED=new iu(null),iu.GOOGLE_CREDENTIALS=new iu("google-credentials-uid"),iu.FIRST_PARTY=new iu("first-party-uid"),iu.MOCK_USER=new iu("mock-user");let su="10.10.0";const ou=new $e("@firebase/firestore");function au(){return ou.logLevel}function lu(e){if(ou.logLevel<=Ge.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(hu);ou.debug("Firestore (".concat(su,"): ").concat(e),...i)}}function cu(e){if(ou.logLevel<=Ge.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(hu);ou.error("Firestore (".concat(su,"): ").concat(e),...i)}}function uu(e){if(ou.logLevel<=Ge.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(hu);ou.warn("Firestore (".concat(su,"): ").concat(e),...i)}}function hu(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function du(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state";const t="FIRESTORE (".concat(su,") INTERNAL ASSERTION FAILED: ")+e;throw cu(t),new Error(t)}function fu(e,t){e||du()}function pu(e,t){return e}const mu={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class gu extends Re{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class vu{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class yu{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class wu{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(iu.UNAUTHENTICATED)))}shutdown(){}}class bu{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class _u{constructor(e){this.t=e,this.currentUser=iu.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new vu;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new vu,e.enqueueRetryable((()=>r(this.currentUser)))};const s=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},o=e=>{lu("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit((e=>o(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?o(e):(lu("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new vu)}}),0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(lu("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(fu("string"==typeof t.accessToken),new yu(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return fu(null===e||"string"==typeof e),new iu(e)}}class Au{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=iu.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Eu{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new Au(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable((()=>t(iu.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Iu{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ku{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){const n=e=>{null!=e.error&&lu("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.R;return this.R=e.token,lu("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{lu("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.A.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.A.getImmediate({optional:!0});e?r(e):lu("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(fu("string"==typeof e.token),this.R=e.token,new Iu(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Cu(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class Su{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=Cu(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62))}return n}}function Tu(e,t){return e<t?-1:e>t?1:0}function Nu(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}class xu{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new gu(mu.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new gu(mu.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new gu(mu.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new gu(mu.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return xu.fromMillis(Date.now())}static fromDate(e){return xu.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new xu(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Tu(this.nanoseconds,e.nanoseconds):Tu(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Du{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Du(e)}static min(){return new Du(new xu(0,0))}static max(){return new Du(new xu(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Ru{constructor(e,t,n){void 0===t?t=0:t>e.length&&du(),void 0===n?n=e.length-t:n>e.length-t&&du(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===Ru.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ru?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Pu extends Ru{construct(e,t,n){return new Pu(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new gu(mu.INVALID_ARGUMENT,"Invalid segment (".concat(i,"). Paths must not contain // in them."));e.push(...i.split("/").filter((e=>e.length>0)))}return new Pu(e)}static emptyPath(){return new Pu([])}}const Lu=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ou extends Ru{construct(e,t,n){return new Ou(e,t,n)}static isValidIdentifier(e){return Lu.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ou.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Ou(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new gu(mu.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let s=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new gu(mu.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new gu(mu.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(s=!s,r++):"."!==t||s?(n+=t,r++):(i(),r++)}if(i(),s)throw new gu(mu.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ou(t)}static emptyPath(){return new Ou([])}}class Mu{constructor(e){this.path=e}static fromPath(e){return new Mu(Pu.fromString(e))}static fromName(e){return new Mu(Pu.fromString(e).popFirst(5))}static empty(){return new Mu(Pu.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Pu.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Pu.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Mu(new Pu(e.slice()))}}class ju{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}ju.UNKNOWN_ID=-1;function Uu(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Du.fromTimestamp(1e9===r?new xu(n+1,0):new xu(n,r));return new Bu(i,Mu.empty(),t)}function Fu(e){return new Bu(e.readTime,e.key,-1)}class Bu{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new Bu(Du.min(),Mu.empty(),-1)}static max(){return new Bu(Du.max(),Mu.empty(),-1)}}function Vu(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=Mu.comparator(e.documentKey,t.documentKey),0!==n?n:Tu(e.largestBatchId,t.largestBatchId))}const zu="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Hu{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function qu(e){if(e.code!==mu.FAILED_PRECONDITION||e.message!==zu)throw e;lu("LocalStore","Unexpectedly lost primary lease")}class Qu{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&du(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Qu(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof Qu?t:Qu.resolve(t)}catch(e){return Qu.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):Qu.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):Qu.reject(t)}static resolve(e){return new Qu(((t,n)=>{t(e)}))}static reject(e){return new Qu(((t,n)=>{n(e)}))}static waitFor(e){return new Qu(((t,n)=>{let r=0,i=0,s=!1;e.forEach((e=>{++r,e.next((()=>{++i,s&&i===r&&t()}),(e=>n(e)))})),s=!0,i===r&&t()}))}static or(e){let t=Qu.resolve(!1);for(const n of e)t=t.next((e=>e?Qu.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new Qu(((n,r)=>{const i=e.length,s=new Array(i);let o=0;for(let a=0;a<i;a++){const l=a;t(e[l]).next((e=>{s[l]=e,++o,o===i&&n(s)}),(e=>r(e)))}}))}static doWhile(e,t){return new Qu(((n,r)=>{const i=()=>{!0===e()?t().next((()=>{i()}),r):n()};i()}))}}class Wu{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.V=new vu,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{t.error?this.V.reject(new Ju(e,t.error)):this.V.resolve()},this.transaction.onerror=t=>{const n=eh(t.target.error);this.V.reject(new Ju(e,n))}}static open(e,t,n,r){try{return new Wu(t,e.transaction(r,n))}catch(e){throw new Ju(t,e)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(lu("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new Yu(t)}}class Ku{constructor(e,t,n){this.name=e,this.version=t,this.p=n,12.2===Ku.S(Ne())&&cu("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return lu("SimpleDb","Removing database:",e),Zu(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!De())return!1;if(Ku.C())return!0;const e=Ne(),t=Ku.S(e),n=0<t&&t<10,r=Ku.v(e),i=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||i)}static C(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.__PRIVATE_env)||void 0===e?void 0:e.F)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}static v(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}async O(e){return this.db||(lu("SimpleDb","Opening database:",this.name),this.db=await new Promise(((t,n)=>{const r=indexedDB.open(this.name,this.version);r.onsuccess=e=>{const n=e.target.result;t(n)},r.onblocked=()=>{n(new Ju(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=t=>{const r=t.target.error;"VersionError"===r.name?n(new gu(mu.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===r.name?n(new gu(mu.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+r)):n(new Ju(e,r))},r.onupgradeneeded=e=>{lu("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',e.oldVersion);const t=e.target.result;this.p.N(t,r.transaction,e.oldVersion,this.version).next((()=>{lu("SimpleDb","Database upgrade to version "+this.version+" complete")}))}}))),this.L&&(this.db.onversionchange=e=>this.L(e)),this.db}B(e){this.L=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,n,r){const i="readonly"===t;let s=0;for(;;){++s;try{this.db=await this.O(e);const t=Wu.open(this.db,e,i?"readonly":"readwrite",n),s=r(t).next((e=>(t.g(),e))).catch((e=>(t.abort(e),Qu.reject(e)))).toPromise();return s.catch((()=>{})),await t.m,s}catch(e){const t=e,n="FirebaseError"!==t.name&&s<3;if(lu("SimpleDb","Transaction failed with error:",t.message,"Retrying:",n),this.close(),!n)return Promise.reject(t)}}}close(){this.db&&this.db.close(),this.db=void 0}}class Gu{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return Zu(this.k.delete())}}class Ju extends gu{constructor(e,t){super(mu.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(t)),this.name="IndexedDbTransactionError"}}function Xu(e){return"IndexedDbTransactionError"===e.name}class Yu{constructor(e){this.store=e}put(e,t){let n;return void 0!==t?(lu("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(lu("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Zu(n)}add(e){return lu("SimpleDb","ADD",this.store.name,e,e),Zu(this.store.add(e))}get(e){return Zu(this.store.get(e)).next((t=>(void 0===t&&(t=null),lu("SimpleDb","GET",this.store.name,e,t),t)))}delete(e){return lu("SimpleDb","DELETE",this.store.name,e),Zu(this.store.delete(e))}count(){return lu("SimpleDb","COUNT",this.store.name),Zu(this.store.count())}W(e,t){const n=this.options(e,t),r=n.index?this.store.index(n.index):this.store;if("function"==typeof r.getAll){const e=r.getAll(n.range);return new Qu(((t,n)=>{e.onerror=e=>{n(e.target.error)},e.onsuccess=e=>{t(e.target.result)}}))}{const e=this.cursor(n),t=[];return this.G(e,((e,n)=>{t.push(n)})).next((()=>t))}}j(e,t){const n=this.store.getAll(e,null===t?void 0:t);return new Qu(((e,t)=>{n.onerror=e=>{t(e.target.error)},n.onsuccess=t=>{e(t.target.result)}}))}H(e,t){lu("SimpleDb","DELETE ALL",this.store.name);const n=this.options(e,t);n.J=!1;const r=this.cursor(n);return this.G(r,((e,t,n)=>n.delete()))}Y(e,t){let n;t?n=e:(n={},t=e);const r=this.cursor(n);return this.G(r,t)}Z(e){const t=this.cursor({});return new Qu(((n,r)=>{t.onerror=e=>{const t=eh(e.target.error);r(t)},t.onsuccess=t=>{const r=t.target.result;r?e(r.primaryKey,r.value).next((e=>{e?r.continue():n()})):n()}}))}G(e,t){const n=[];return new Qu(((r,i)=>{e.onerror=e=>{i(e.target.error)},e.onsuccess=e=>{const i=e.target.result;if(!i)return void r();const s=new Gu(i),o=t(i.primaryKey,i.value,s);if(o instanceof Qu){const e=o.catch((e=>(s.done(),Qu.reject(e))));n.push(e)}s.isDone?r():null===s.$?i.continue():i.continue(s.$)}})).next((()=>Qu.waitFor(n)))}options(e,t){let n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const n=this.store.index(e.index);return e.J?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Zu(e){return new Qu(((t,n)=>{e.onsuccess=e=>{const n=e.target.result;t(n)},e.onerror=e=>{const t=eh(e.target.error);n(t)}}))}let $u=!1;function eh(e){const t=Ku.S(Ne());if(t>=12.2&&t<13){const t="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(t)>=0){const e=new gu("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(t,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return $u||($u=!0,setTimeout((()=>{throw e}),0)),e}}return e}class th{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.se(e),this.oe=e=>t.writeSequenceNumber(e))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}function nh(e){return null==e}function rh(e){return 0===e&&1/e==-1/0}function ih(e){return"number"==typeof e&&Number.isInteger(e)&&!rh(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}th._e=-1;const sh=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],oh=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],ah=oh;function lh(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function ch(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function uh(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class hh{constructor(e,t){this.comparator=e,this.root=t||fh.EMPTY}insert(e,t){return new hh(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,fh.BLACK,null,null))}remove(e){return new hh(this.comparator,this.root.remove(e,this.comparator).copy(null,null,fh.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push("".concat(t,":").concat(n)),!1))),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new dh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new dh(this.root,e,this.comparator,!1)}getReverseIterator(){return new dh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new dh(this.root,e,this.comparator,!0)}}class dh{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class fh{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:fh.RED,this.left=null!=r?r:fh.EMPTY,this.right=null!=i?i:fh.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new fh(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return fh.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return fh.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,fh.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,fh.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw du();if(this.right.isRed())throw du();const e=this.left.check();if(e!==this.right.check())throw du();return e+(this.isRed()?0:1)}}fh.EMPTY=null,fh.RED=!0,fh.BLACK=!1,fh.EMPTY=new class{constructor(){this.size=0}get key(){throw du()}get value(){throw du()}get color(){throw du()}get left(){throw du()}get right(){throw du()}copy(e,t,n,r,i){return this}insert(e,t,n){return new fh(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ph{constructor(e){this.comparator=e,this.data=new hh(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new mh(this.data.getIterator())}getIteratorFrom(e){return new mh(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof ph))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new ph(this.comparator);return t.data=e,t}}class mh{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class gh{constructor(e){this.fields=e,e.sort(Ou.comparator)}static empty(){return new gh([])}unionWith(e){let t=new ph(Ou.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new gh(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Nu(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class vh extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class yh{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new vh("Invalid base64 string: "+e):e}}(e);return new yh(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new yh(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Tu(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}yh.EMPTY_BYTE_STRING=new yh("");const wh=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function bh(e){if(fu(!!e),"string"==typeof e){let t=0;const n=wh.exec(e);if(fu(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:_h(e.seconds),nanos:_h(e.nanos)}}function _h(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Ah(e){return"string"==typeof e?yh.fromBase64String(e):yh.fromUint8Array(e)}function Eh(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Ih(e){const t=e.mapValue.fields.__previous_value__;return Eh(t)?Ih(t):t}function kh(e){const t=bh(e.mapValue.fields.__local_write_time__.timestampValue);return new xu(t.seconds,t.nanos)}class Ch{constructor(e,t,n,r,i,s,o,a,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.longPollingOptions=a,this.useFetchStreams=l}}class Sh{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Sh("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Sh&&e.projectId===this.projectId&&e.database===this.database}}const Th={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Nh(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Eh(e)?4:zh(e)?9007199254740991:10:du()}function xh(e,t){if(e===t)return!0;const n=Nh(e);if(n!==Nh(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return kh(e).isEqual(kh(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=bh(e.timestampValue),r=bh(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Ah(e.bytesValue).isEqual(Ah(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return _h(e.geoPointValue.latitude)===_h(t.geoPointValue.latitude)&&_h(e.geoPointValue.longitude)===_h(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return _h(e.integerValue)===_h(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=_h(e.doubleValue),r=_h(t.doubleValue);return n===r?rh(n)===rh(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Nu(e.arrayValue.values||[],t.arrayValue.values||[],xh);case 10:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(lh(n)!==lh(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!xh(n[i],r[i])))return!1;return!0}(e,t);default:return du()}}function Dh(e,t){return void 0!==(e.values||[]).find((e=>xh(e,t)))}function Rh(e,t){if(e===t)return 0;const n=Nh(e),r=Nh(t);if(n!==r)return Tu(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Tu(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=_h(e.integerValue||e.doubleValue),r=_h(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Ph(e.timestampValue,t.timestampValue);case 4:return Ph(kh(e),kh(t));case 5:return Tu(e.stringValue,t.stringValue);case 6:return function(e,t){const n=Ah(e),r=Ah(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=Tu(n[i],r[i]);if(0!==e)return e}return Tu(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=Tu(_h(e.latitude),_h(t.latitude));return 0!==n?n:Tu(_h(e.longitude),_h(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=Rh(n[i],r[i]);if(e)return e}return Tu(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===Th.mapValue&&t===Th.mapValue)return 0;if(e===Th.mapValue)return 1;if(t===Th.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let o=0;o<r.length&&o<s.length;++o){const e=Tu(r[o],s[o]);if(0!==e)return e;const t=Rh(n[r[o]],i[s[o]]);if(0!==t)return t}return Tu(r.length,s.length)}(e.mapValue,t.mapValue);default:throw du()}}function Ph(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Tu(e,t);const n=bh(e),r=bh(t),i=Tu(n.seconds,r.seconds);return 0!==i?i:Tu(n.nanos,r.nanos)}function Lh(e){return Oh(e)}function Oh(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=bh(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return Ah(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return Mu.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=Oh(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+="".concat(i,":").concat(Oh(e.fields[i]));return n+"}"}(e.mapValue):du()}function Mh(e){return!!e&&"integerValue"in e}function jh(e){return!!e&&"arrayValue"in e}function Uh(e){return!!e&&"nullValue"in e}function Fh(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Bh(e){return!!e&&"mapValue"in e}function Vh(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return ch(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=Vh(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Vh(e.arrayValue.values[n]);return t}return Object.assign({},e)}function zh(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}class Hh{constructor(e){this.value=e}static empty(){return new Hh({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Bh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Vh(t)}setAll(e){let t=Ou.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=Vh(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());Bh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return xh(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];Bh(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){ch(t,((t,n)=>e[t]=n));for(const r of n)delete e[r]}clone(){return new Hh(Vh(this.value))}}function qh(e){const t=[];return ch(e.fields,((e,n)=>{const r=new Ou([e]);if(Bh(n)){const e=qh(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new gh(t)}class Qh{constructor(e,t,n,r,i,s,o){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=s,this.documentState=o}static newInvalidDocument(e){return new Qh(e,0,Du.min(),Du.min(),Du.min(),Hh.empty(),0)}static newFoundDocument(e,t,n,r){return new Qh(e,1,t,Du.min(),n,r,0)}static newNoDocument(e,t){return new Qh(e,2,t,Du.min(),Du.min(),Hh.empty(),0)}static newUnknownDocument(e,t){return new Qh(e,3,t,Du.min(),Du.min(),Hh.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Du.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Hh.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Hh.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Du.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Qh&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Qh(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class Wh{constructor(e,t){this.position=e,this.inclusive=t}}function Kh(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],o=e.position[i];if(r=s.field.isKeyField()?Mu.comparator(Mu.fromName(o.referenceValue),n.key):Rh(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function Gh(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!xh(e.position[n],t.position[n]))return!1;return!0}class Jh{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function Xh(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class Yh{}class Zh extends Yh{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new od(e,t,n):"array-contains"===t?new ud(e,n):"in"===t?new hd(e,n):"not-in"===t?new dd(e,n):"array-contains-any"===t?new fd(e,n):new Zh(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new ad(e,n):new ld(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Rh(t,this.value)):null!==t&&Nh(this.value)===Nh(t)&&this.matchesComparison(Rh(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return du()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class $h extends Yh{constructor(e,t){super(),this.filters=e,this.op=t,this.ue=null}static create(e,t){return new $h(e,t)}matches(e){return ed(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function ed(e){return"and"===e.op}function td(e){return nd(e)&&ed(e)}function nd(e){for(const t of e.filters)if(t instanceof $h)return!1;return!0}function rd(e){if(e instanceof Zh)return e.field.canonicalString()+e.op.toString()+Lh(e.value);if(td(e))return e.filters.map((e=>rd(e))).join(",");{const t=e.filters.map((e=>rd(e))).join(",");return"".concat(e.op,"(").concat(t,")")}}function id(e,t){return e instanceof Zh?function(e,t){return t instanceof Zh&&e.op===t.op&&e.field.isEqual(t.field)&&xh(e.value,t.value)}(e,t):e instanceof $h?function(e,t){return t instanceof $h&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,r)=>e&&id(n,t.filters[r])),!0)}(e,t):void du()}function sd(e){return e instanceof Zh?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(Lh(e.value))}(e):e instanceof $h?function(e){return e.op.toString()+" {"+e.getFilters().map(sd).join(" ,")+"}"}(e):"Filter"}class od extends Zh{constructor(e,t,n){super(e,t,n),this.key=Mu.fromName(n.referenceValue)}matches(e){const t=Mu.comparator(e.key,this.key);return this.matchesComparison(t)}}class ad extends Zh{constructor(e,t){super(e,"in",t),this.keys=cd("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class ld extends Zh{constructor(e,t){super(e,"not-in",t),this.keys=cd("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function cd(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>Mu.fromName(e.referenceValue)))}class ud extends Zh{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return jh(t)&&Dh(t.arrayValue,this.value)}}class hd extends Zh{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Dh(this.value.arrayValue,t)}}class dd extends Zh{constructor(e,t){super(e,"not-in",t)}matches(e){if(Dh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Dh(this.value.arrayValue,t)}}class fd extends Zh{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!jh(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>Dh(this.value.arrayValue,e)))}}class pd{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=o,this.ce=null}}function md(e){return new pd(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function gd(e){const t=pu(e);if(null===t.ce){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>rd(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),nh(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>Lh(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>Lh(e))).join(",")),t.ce=e}return t.ce}function vd(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!Xh(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!id(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Gh(e.startAt,t.startAt)&&Gh(e.endAt,t.endAt)}function yd(e){return Mu.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class wd{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=a,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function bd(e,t,n,r,i,s,o,a){return new wd(e,t,n,r,i,s,o,a)}function _d(e){return new wd(e)}function Ad(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Ed(e){return null!==e.collectionGroup}function Id(e){const t=pu(e);if(null===t.le){t.le=[];const e=new Set;for(const i of t.explicitOrderBy)t.le.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new ph(Ou.comparator);return e.filters.forEach((e=>{e.getFlattenedFilters().forEach((e=>{e.isInequality()&&(t=t.add(e.field))}))})),t}(t);r.forEach((r=>{e.has(r.canonicalString())||r.isKeyField()||t.le.push(new Jh(r,n))})),e.has(Ou.keyField().canonicalString())||t.le.push(new Jh(Ou.keyField(),n))}return t.le}function kd(e){const t=pu(e);return t.he||(t.he=Cd(t,Id(e))),t.he}function Cd(e,t){if("F"===e.limitType)return md(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((e=>{const t="desc"===e.dir?"asc":"desc";return new Jh(e.field,t)}));const n=e.endAt?new Wh(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Wh(e.startAt.position,e.startAt.inclusive):null;return md(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function Sd(e,t,n){return new wd(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Td(e,t){return vd(kd(e),kd(t))&&e.limitType===t.limitType}function Nd(e){return"".concat(gd(kd(e)),"|lt:").concat(e.limitType)}function xd(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((e=>sd(e))).join(", "),"]")),nh(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e))).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>Lh(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>Lh(e))).join(",")),"Target(".concat(t,")")}(kd(e)),"; limitType=").concat(e.limitType,")")}function Dd(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Mu.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of Id(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=Kh(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Id(e),t))&&!(e.endAt&&!function(e,t,n){const r=Kh(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Id(e),t))}(e,t)}function Rd(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Pd(e){return(t,n)=>{let r=!1;for(const i of Id(e)){const e=Ld(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function Ld(e,t,n){const r=e.field.isKeyField()?Mu.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Rh(r,i):du()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return du()}}class Od{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){ch(this.inner,((t,n)=>{for(const[r,i]of n)e(r,i)}))}isEmpty(){return uh(this.inner)}size(){return this.innerSize}}const Md=new hh(Mu.comparator);function jd(){return Md}const Ud=new hh(Mu.comparator);function Fd(){let e=Ud;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function Bd(e){let t=Ud;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function Vd(){return Hd()}function zd(){return Hd()}function Hd(){return new Od((e=>e.toString()),((e,t)=>e.isEqual(t)))}const qd=new hh(Mu.comparator),Qd=new ph(Mu.comparator);function Wd(){let e=Qd;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const Kd=new ph(Tu);function Gd(){return Kd}function Jd(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:rh(t)?"-0":t}}function Xd(e){return{integerValue:""+e}}function Yd(e,t){return ih(t)?Xd(t):Jd(e,t)}class Zd{constructor(){this._=void 0}}function $d(e,t,n){return e instanceof nf?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&Eh(t)&&(t=Ih(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof rf?sf(e,t):e instanceof of?af(e,t):function(e,t){const n=tf(e,t),r=cf(n)+cf(e.Ie);return Mh(n)&&Mh(e.Ie)?Xd(r):Jd(e.serializer,r)}(e,t)}function ef(e,t,n){return e instanceof rf?sf(e,t):e instanceof of?af(e,t):n}function tf(e,t){return e instanceof lf?function(e){return Mh(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class nf extends Zd{}class rf extends Zd{constructor(e){super(),this.elements=e}}function sf(e,t){const n=uf(t);for(const r of e.elements)n.some((e=>xh(e,r)))||n.push(r);return{arrayValue:{values:n}}}class of extends Zd{constructor(e){super(),this.elements=e}}function af(e,t){let n=uf(t);for(const r of e.elements)n=n.filter((e=>!xh(e,r)));return{arrayValue:{values:n}}}class lf extends Zd{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function cf(e){return _h(e.integerValue||e.doubleValue)}function uf(e){return jh(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class hf{constructor(e,t){this.field=e,this.transform=t}}class df{constructor(e,t){this.version=e,this.transformResults=t}}class ff{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ff}static exists(e){return new ff(void 0,e)}static updateTime(e){return new ff(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function pf(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class mf{}function gf(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Cf(e.key,ff.none()):new _f(e.key,e.data,ff.none());{const n=e.data,r=Hh.empty();let i=new ph(Ou.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new Af(e.key,r,new gh(i.toArray()),ff.none())}}function vf(e,t,n){e instanceof _f?function(e,t,n){const r=e.value.clone(),i=If(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Af?function(e,t,n){if(!pf(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=If(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Ef(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function yf(e,t,n,r){return e instanceof _f?function(e,t,n,r){if(!pf(e.precondition,t))return n;const i=e.value.clone(),s=kf(e.fieldTransforms,r,t);return i.setAll(s),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Af?function(e,t,n,r){if(!pf(e.precondition,t))return n;const i=kf(e.fieldTransforms,r,t),s=t.data;return s.setAll(Ef(e)),s.setAll(i),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return pf(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function wf(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=tf(r.transform,e||null);null!=i&&(null===n&&(n=Hh.empty()),n.set(r.field,i))}return n||null}function bf(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Nu(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof rf&&t instanceof rf||e instanceof of&&t instanceof of?Nu(e.elements,t.elements,xh):e instanceof lf&&t instanceof lf?xh(e.Ie,t.Ie):e instanceof nf&&t instanceof nf}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class _f extends mf{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Af extends mf{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Ef(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function If(e,t,n){const r=new Map;fu(e.length===n.length);for(let i=0;i<n.length;i++){const s=e[i],o=s.transform,a=t.data.field(s.field);r.set(s.field,ef(o,a,n[i]))}return r}function kf(e,t,n){const r=new Map;for(const i of e){const e=i.transform,s=n.data.field(i.field);r.set(i.field,$d(e,s,t))}return r}class Cf extends mf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Sf extends mf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Tf{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&vf(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=yf(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=yf(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=zd();return this.mutations.forEach((r=>{const i=e.get(r.key),s=i.overlayedDocument;let o=this.applyToLocalView(s,i.mutatedFields);o=t.has(r.key)?null:o;const a=gf(s,o);null!==a&&n.set(r.key,a),s.isValidDocument()||s.convertToNoDocument(Du.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Wd())}isEqual(e){return this.batchId===e.batchId&&Nu(this.mutations,e.mutations,((e,t)=>bf(e,t)))&&Nu(this.baseMutations,e.baseMutations,((e,t)=>bf(e,t)))}}class Nf{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){fu(e.mutations.length===n.length);let r=qd;const i=e.mutations;for(let s=0;s<i.length;s++)r=r.insert(i[s].key,n[s].version);return new Nf(e,t,n,r)}}class xf{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class Df{constructor(e,t){this.count=e,this.unchangedNames=t}}var Rf,Pf;function Lf(e){switch(e){default:return du();case mu.CANCELLED:case mu.UNKNOWN:case mu.DEADLINE_EXCEEDED:case mu.RESOURCE_EXHAUSTED:case mu.INTERNAL:case mu.UNAVAILABLE:case mu.UNAUTHENTICATED:return!1;case mu.INVALID_ARGUMENT:case mu.NOT_FOUND:case mu.ALREADY_EXISTS:case mu.PERMISSION_DENIED:case mu.FAILED_PRECONDITION:case mu.ABORTED:case mu.OUT_OF_RANGE:case mu.UNIMPLEMENTED:case mu.DATA_LOSS:return!0}}function Of(e){if(void 0===e)return cu("GRPC error has no .code"),mu.UNKNOWN;switch(e){case Rf.OK:return mu.OK;case Rf.CANCELLED:return mu.CANCELLED;case Rf.UNKNOWN:return mu.UNKNOWN;case Rf.DEADLINE_EXCEEDED:return mu.DEADLINE_EXCEEDED;case Rf.RESOURCE_EXHAUSTED:return mu.RESOURCE_EXHAUSTED;case Rf.INTERNAL:return mu.INTERNAL;case Rf.UNAVAILABLE:return mu.UNAVAILABLE;case Rf.UNAUTHENTICATED:return mu.UNAUTHENTICATED;case Rf.INVALID_ARGUMENT:return mu.INVALID_ARGUMENT;case Rf.NOT_FOUND:return mu.NOT_FOUND;case Rf.ALREADY_EXISTS:return mu.ALREADY_EXISTS;case Rf.PERMISSION_DENIED:return mu.PERMISSION_DENIED;case Rf.FAILED_PRECONDITION:return mu.FAILED_PRECONDITION;case Rf.ABORTED:return mu.ABORTED;case Rf.OUT_OF_RANGE:return mu.OUT_OF_RANGE;case Rf.UNIMPLEMENTED:return mu.UNIMPLEMENTED;case Rf.DATA_LOSS:return mu.DATA_LOSS;default:return du()}}(Pf=Rf||(Rf={}))[Pf.OK=0]="OK",Pf[Pf.CANCELLED=1]="CANCELLED",Pf[Pf.UNKNOWN=2]="UNKNOWN",Pf[Pf.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pf[Pf.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pf[Pf.NOT_FOUND=5]="NOT_FOUND",Pf[Pf.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pf[Pf.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pf[Pf.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pf[Pf.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pf[Pf.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pf[Pf.ABORTED=10]="ABORTED",Pf[Pf.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pf[Pf.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pf[Pf.INTERNAL=13]="INTERNAL",Pf[Pf.UNAVAILABLE=14]="UNAVAILABLE",Pf[Pf.DATA_LOSS=15]="DATA_LOSS";let Mf=null;function jf(){return new TextEncoder}const Uf=new nu([4294967295,4294967295],0);function Ff(e){const t=jf().encode(e),n=new tu;return n.update(t),new Uint8Array(n.digest())}function Bf(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new nu([n,r],0),new nu([i,s],0)]}class Vf{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new zf("Invalid padding: ".concat(t));if(n<0)throw new zf("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new zf("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new zf("Invalid padding when bitmap length is 0: ".concat(t));this.Te=8*e.length-t,this.Ee=nu.fromNumber(this.Te)}de(e,t,n){let r=e.add(t.multiply(nu.fromNumber(n)));return 1===r.compare(Uf)&&(r=new nu([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Ee).toNumber()}Ae(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;const t=Ff(e),[n,r]=Bf(t);for(let i=0;i<this.hashCount;i++){const e=this.de(n,r,i);if(!this.Ae(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),s=new Vf(i,r,t);return n.forEach((e=>s.insert(e))),s}insert(e){if(0===this.Te)return;const t=Ff(e),[n,r]=Bf(t);for(let i=0;i<this.hashCount;i++){const e=this.de(n,r,i);this.Re(e)}}Re(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class zf extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Hf{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,qf.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new Hf(Du.min(),r,new hh(Tu),jd(),Wd())}}class qf{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new qf(n,t,Wd(),Wd(),Wd())}}class Qf{constructor(e,t,n,r){this.Ve=e,this.removedTargetIds=t,this.key=n,this.me=r}}class Wf{constructor(e,t){this.targetId=e,this.fe=t}}class Kf{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:yh.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class Gf{constructor(){this.ge=0,this.pe=Yf(),this.ye=yh.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=Wd(),t=Wd(),n=Wd();return this.pe.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:du()}})),new qf(this.ye,this.we,e,t,n)}Fe(){this.Se=!1,this.pe=Yf()}Me(e,t){this.Se=!0,this.pe=this.pe.insert(e,t)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,fu(this.ge>=0)}Le(){this.Se=!0,this.we=!0}}class Jf{constructor(e){this.Be=e,this.ke=new Map,this.qe=jd(),this.Qe=Xf(),this.Ke=new hh(Tu)}$e(e){for(const t of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(t,e.me):this.We(t,e.key,e.me);for(const t of e.removedTargetIds)this.We(t,e.key,e.me)}Ge(e){this.forEachTarget(e,(t=>{const n=this.ze(t);switch(e.state){case 0:this.je(t)&&n.Ce(e.resumeToken);break;case 1:n.Ne(),n.be||n.Fe(),n.Ce(e.resumeToken);break;case 2:n.Ne(),n.be||this.removeTarget(t);break;case 3:this.je(t)&&(n.Le(),n.Ce(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),n.Ce(e.resumeToken));break;default:du()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ke.forEach(((e,n)=>{this.je(n)&&t(n)}))}Je(e){const t=e.targetId,n=e.fe.count,r=this.Ye(t);if(r){const i=r.target;if(yd(i))if(0===n){const e=new Mu(i.path);this.We(t,e,Qh.newNoDocument(e,Du.min()))}else fu(1===n);else{const r=this.Ze(t);if(r!==n){const n=this.Xe(e),i=n?this.et(n,e,r):1;if(0!==i){this.He(t);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,e)}null==Mf||Mf.tt(function(e,t,n,r,i){var s,o,a,l,c,u;const h={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},d=t.unchangedNames;return d&&(h.bloomFilter={applied:0===i,hashCount:null!==(s=null==d?void 0:d.hashCount)&&void 0!==s?s:0,bitmapLength:null!==(l=null===(a=null===(o=null==d?void 0:d.bits)||void 0===o?void 0:o.bitmap)||void 0===a?void 0:a.length)&&void 0!==l?l:0,padding:null!==(u=null===(c=null==d?void 0:d.bits)||void 0===c?void 0:c.padding)&&void 0!==u?u:0,mightContain:e=>{var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),h}(r,e.fe,this.Be.nt(),n,i))}}}}Xe(e){const t=e.fe.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let s,o;try{s=Ah(n).toUint8Array()}catch(e){if(e instanceof vh)return uu("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{o=new Vf(s,r,i)}catch(e){return uu(e instanceof zf?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===o.Te?null:o}et(e,t,n){return t.fe.count===n-this.rt(e,t.targetId)?0:2}rt(e,t){const n=this.Be.getRemoteKeysForTarget(t);let r=0;return n.forEach((n=>{const i=this.Be.nt(),s="projects/".concat(i.projectId,"/databases/").concat(i.database,"/documents/").concat(n.path.canonicalString());e.mightContain(s)||(this.We(t,n,null),r++)})),r}it(e){const t=new Map;this.ke.forEach(((n,r)=>{const i=this.Ye(r);if(i){if(n.current&&yd(i.target)){const t=new Mu(i.target.path);null!==this.qe.get(t)||this.st(r,t)||this.We(r,t,Qh.newNoDocument(t,e))}n.De&&(t.set(r,n.ve()),n.Fe())}}));let n=Wd();this.Qe.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this.Ye(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.qe.forEach(((t,n)=>n.setReadTime(e)));const r=new Hf(e,t,this.Ke,this.qe,n);return this.qe=jd(),this.Qe=Xf(),this.Ke=new hh(Tu),r}Ue(e,t){if(!this.je(e))return;const n=this.st(e,t.key)?2:0;this.ze(e).Me(t.key,n),this.qe=this.qe.insert(t.key,t),this.Qe=this.Qe.insert(t.key,this.ot(t.key).add(e))}We(e,t,n){if(!this.je(e))return;const r=this.ze(e);this.st(e,t)?r.Me(t,1):r.xe(t),this.Qe=this.Qe.insert(t,this.ot(t).delete(e)),n&&(this.qe=this.qe.insert(t,n))}removeTarget(e){this.ke.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Be.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let t=this.ke.get(e);return t||(t=new Gf,this.ke.set(e,t)),t}ot(e){let t=this.Qe.get(e);return t||(t=new ph(Tu),this.Qe=this.Qe.insert(e,t)),t}je(e){const t=null!==this.Ye(e);return t||lu("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.ke.get(e);return t&&t.be?null:this.Be._t(e)}He(e){this.ke.set(e,new Gf),this.Be.getRemoteKeysForTarget(e).forEach((t=>{this.We(e,t,null)}))}st(e,t){return this.Be.getRemoteKeysForTarget(e).has(t)}}function Xf(){return new hh(Mu.comparator)}function Yf(){return new hh(Mu.comparator)}const Zf={asc:"ASCENDING",desc:"DESCENDING"},$f={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ep={and:"AND",or:"OR"};class tp{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function np(e,t){return e.useProto3Json||nh(t)?t:{value:t}}function rp(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function ip(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function sp(e,t){return rp(e,t.toTimestamp())}function op(e){return fu(!!e),Du.fromTimestamp(function(e){const t=bh(e);return new xu(t.seconds,t.nanos)}(e))}function ap(e,t){return lp(e,t).canonicalString()}function lp(e,t){const n=function(e){return new Pu(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function cp(e){const t=Pu.fromString(e);return fu(Np(t)),t}function up(e,t){return ap(e.databaseId,t.path)}function hp(e,t){const n=cp(t);if(n.get(1)!==e.databaseId.projectId)throw new gu(mu.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new gu(mu.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Mu(mp(n))}function dp(e,t){return ap(e.databaseId,t)}function fp(e){const t=cp(e);return 4===t.length?Pu.emptyPath():mp(t)}function pp(e){return new Pu(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function mp(e){return fu(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function gp(e,t,n){return{name:up(e,t),fields:n.value.mapValue.fields}}function vp(e,t){let n;if(t instanceof _f)n={update:gp(e,t.key,t.value)};else if(t instanceof Cf)n={delete:up(e,t.key)};else if(t instanceof Af)n={update:gp(e,t.key,t.data),updateMask:Tp(t.fieldMask)};else{if(!(t instanceof Sf))return du();n={verify:up(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof nf)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof rf)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof of)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof lf)return{fieldPath:t.field.canonicalString(),increment:n.Ie};throw du()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:sp(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:du()}(e,t.precondition)),n}function yp(e,t){return{documents:[dp(e,t.path)]}}function wp(e,t){const n={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=dp(e,i);const s=function(e){if(0!==e.length)return Sp($h.create(e,"and"))}(t.filters);s&&(n.structuredQuery.where=s);const o=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:kp(e.field),direction:Ap(e.dir)}}(e)))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);const a=np(e,t.limit);return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{ut:n,parent:i}}function bp(e){let t=fp(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){fu(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let s=[];n.where&&(s=function(e){const t=_p(e);return t instanceof $h&&td(t)?t.getFilters():[t]}(n.where));let o=[];n.orderBy&&(o=function(e){return e.map((e=>function(e){return new Jh(Cp(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)))}(n.orderBy));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,nh(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new Wh(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new Wh(n,t)}(n.endAt)),bd(t,i,o,s,a,"F",l,c)}function _p(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Cp(e.unaryFilter.field);return Zh.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=Cp(e.unaryFilter.field);return Zh.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Cp(e.unaryFilter.field);return Zh.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Cp(e.unaryFilter.field);return Zh.create(i,"!=",{nullValue:"NULL_VALUE"});default:return du()}}(e):void 0!==e.fieldFilter?function(e){return Zh.create(Cp(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return du()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return $h.create(e.compositeFilter.filters.map((e=>_p(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return du()}}(e.compositeFilter.op))}(e):du()}function Ap(e){return Zf[e]}function Ep(e){return $f[e]}function Ip(e){return ep[e]}function kp(e){return{fieldPath:e.canonicalString()}}function Cp(e){return Ou.fromServerFormat(e.fieldPath)}function Sp(e){return e instanceof Zh?function(e){if("=="===e.op){if(Fh(e.value))return{unaryFilter:{field:kp(e.field),op:"IS_NAN"}};if(Uh(e.value))return{unaryFilter:{field:kp(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Fh(e.value))return{unaryFilter:{field:kp(e.field),op:"IS_NOT_NAN"}};if(Uh(e.value))return{unaryFilter:{field:kp(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:kp(e.field),op:Ep(e.op),value:e.value}}}(e):e instanceof $h?function(e){const t=e.getFilters().map((e=>Sp(e)));return 1===t.length?t[0]:{compositeFilter:{op:Ip(e.op),filters:t}}}(e):du()}function Tp(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function Np(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class xp{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Du.min(),s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Du.min(),o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:yh.EMPTY_BYTE_STRING,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o,this.expectedCount=a}withSequenceNumber(e){return new xp(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new xp(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new xp(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new xp(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Dp{constructor(e){this.ct=e}}function Rp(e){const t=bp({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Sd(t,t.limit,"L"):t}class Pp{constructor(){}Pt(e,t){this.It(e,t),t.Tt()}It(e,t){if("nullValue"in e)this.Et(t,5);else if("booleanValue"in e)this.Et(t,10),t.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(t,15),t.dt(_h(e.integerValue));else if("doubleValue"in e){const n=_h(e.doubleValue);isNaN(n)?this.Et(t,13):(this.Et(t,15),rh(n)?t.dt(0):t.dt(n))}else if("timestampValue"in e){const n=e.timestampValue;this.Et(t,20),"string"==typeof n?t.At(n):(t.At("".concat(n.seconds||"")),t.dt(n.nanos||0))}else if("stringValue"in e)this.Rt(e.stringValue,t),this.Vt(t);else if("bytesValue"in e)this.Et(t,30),t.ft(Ah(e.bytesValue)),this.Vt(t);else if("referenceValue"in e)this.gt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Et(t,45),t.dt(n.latitude||0),t.dt(n.longitude||0)}else"mapValue"in e?zh(e)?this.Et(t,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,t),this.Vt(t)):"arrayValue"in e?(this.wt(e.arrayValue,t),this.Vt(t)):du()}Rt(e,t){this.Et(t,25),this.St(e,t)}St(e,t){t.At(e)}yt(e,t){const n=e.fields||{};this.Et(t,55);for(const r of Object.keys(n))this.Rt(r,t),this.It(n[r],t)}wt(e,t){const n=e.values||[];this.Et(t,50);for(const r of n)this.It(r,t)}gt(e,t){this.Et(t,37),Mu.fromName(e).path.forEach((e=>{this.Et(t,60),this.St(e,t)}))}Et(e,t){e.dt(t)}Vt(e){e.dt(2)}}Pp.bt=new Pp;class Lp{constructor(){this._n=new Op}addToCollectionParentIndex(e,t){return this._n.add(t),Qu.resolve()}getCollectionParents(e,t){return Qu.resolve(this._n.getEntries(t))}addFieldIndex(e,t){return Qu.resolve()}deleteFieldIndex(e,t){return Qu.resolve()}deleteAllFieldIndexes(e){return Qu.resolve()}createTargetIndexes(e,t){return Qu.resolve()}getDocumentsMatchingTarget(e,t){return Qu.resolve(null)}getIndexType(e,t){return Qu.resolve(0)}getFieldIndexes(e,t){return Qu.resolve([])}getNextCollectionGroupToUpdate(e){return Qu.resolve(null)}getMinOffset(e,t){return Qu.resolve(Bu.min())}getMinOffsetFromCollectionGroup(e,t){return Qu.resolve(Bu.min())}updateCollectionGroup(e,t,n){return Qu.resolve()}updateIndexEntries(e,t){return Qu.resolve()}}class Op{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new ph(Pu.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new ph(Pu.comparator)).toArray()}}new Uint8Array(0);class Mp{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new Mp(e,Mp.DEFAULT_COLLECTION_PERCENTILE,Mp.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Mp.DEFAULT_COLLECTION_PERCENTILE=10,Mp.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Mp.DEFAULT=new Mp(41943040,Mp.DEFAULT_COLLECTION_PERCENTILE,Mp.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Mp.DISABLED=new Mp(-1,0,0);class jp{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new jp(0)}static Ln(){return new jp(-1)}}class Up{constructor(){this.changes=new Od((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Qh.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?Qu.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Fp{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Bp{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&yf(n.mutation,e,gh.empty(),xu.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,Wd()).next((()=>t))))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Wd();const r=Vd();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=Fd();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=Vd();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,Wd())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let i=jd();const s=Hd(),o=Hd();return t.forEach(((e,t)=>{const o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof Af)?i=i.insert(t.key,t):void 0!==o?(s.set(t.key,o.mutation.getFieldMask()),yf(o.mutation,t,o.mutation.getFieldMask(),xu.now())):s.set(t.key,gh.empty())})),this.recalculateAndSaveOverlays(e,i).next((e=>(e.forEach(((e,t)=>s.set(e,t))),t.forEach(((e,t)=>{var n;return o.set(e,new Fp(t,null!==(n=s.get(e))&&void 0!==n?n:null))})),o)))}recalculateAndSaveOverlays(e,t){const n=Hd();let r=new hh(((e,t)=>e-t)),i=Wd();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const i of e)i.keys().forEach((e=>{const s=t.get(e);if(null===s)return;let o=n.get(e)||gh.empty();o=i.applyToLocalView(s,o),n.set(e,o);const a=(r.get(i.batchId)||Wd()).add(e);r=r.insert(i.batchId,a)}))})).next((()=>{const s=[],o=r.getReverseIterator();for(;o.hasNext();){const r=o.getNext(),a=r.key,l=r.value,c=zd();l.forEach((e=>{if(!i.has(e)){const r=gf(t.get(e),n.get(e));null!==r&&c.set(e,r),i=i.add(e)}})),s.push(this.documentOverlayCache.saveOverlays(e,a,c))}return Qu.waitFor(s)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return Mu.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Ed(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((i=>{const s=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):Qu.resolve(Vd());let o=-1,a=i;return s.next((t=>Qu.forEach(t,((t,n)=>(o<n.largestBatchId&&(o=n.largestBatchId),i.get(t)?Qu.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{a=a.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,i))).next((()=>this.computeViews(e,a,t,Wd()))).next((e=>({batchId:o,changes:Bd(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Mu(t)).next((e=>{let t=Fd();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let s=Fd();return this.indexManager.getCollectionParents(e,i).next((o=>Qu.forEach(o,(o=>{const a=function(e,t){return new wd(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return this.getDocumentsMatchingCollectionQuery(e,a,n,r).next((e=>{e.forEach(((e,t)=>{s=s.insert(e,t)}))}))})).next((()=>s))))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r)))).next((e=>{i.forEach(((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,Qh.newInvalidDocument(r)))}));let n=Fd();return e.forEach(((e,r)=>{const s=i.get(e);void 0!==s&&yf(s.mutation,r,gh.empty(),xu.now()),Dd(t,r)&&(n=n.insert(e,r))})),n}))}}class Vp{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,t){return Qu.resolve(this.cr.get(t))}saveBundleMetadata(e,t){return this.cr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:op(e.createTime)}}(t)),Qu.resolve()}getNamedQuery(e,t){return Qu.resolve(this.lr.get(t))}saveNamedQuery(e,t){return this.lr.set(t.name,function(e){return{name:e.name,query:Rp(e.bundledQuery),readTime:op(e.readTime)}}(t)),Qu.resolve()}}class zp{constructor(){this.overlays=new hh(Mu.comparator),this.hr=new Map}getOverlay(e,t){return Qu.resolve(this.overlays.get(t))}getOverlays(e,t){const n=Vd();return Qu.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.ht(e,t,r)})),Qu.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.hr.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.hr.delete(n)),Qu.resolve()}getOverlaysForCollection(e,t,n){const r=Vd(),i=t.length+1,s=new Mu(t.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const e=o.getNext().value,s=e.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return Qu.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new hh(((e,t)=>e-t));const s=this.overlays.getIterator();for(;s.hasNext();){const e=s.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=Vd(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const o=Vd(),a=i.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach(((e,t)=>o.set(e,t))),!(o.size()>=r)););return Qu.resolve(o)}ht(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.hr.get(r.largestBatchId).delete(n.key);this.hr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new xf(t,n));let i=this.hr.get(t);void 0===i&&(i=Wd(),this.hr.set(t,i)),this.hr.set(t,i.add(n.key))}}class Hp{constructor(){this.Pr=new ph(qp.Ir),this.Tr=new ph(qp.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,t){const n=new qp(e,t);this.Pr=this.Pr.add(n),this.Tr=this.Tr.add(n)}dr(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.Ar(new qp(e,t))}Rr(e,t){e.forEach((e=>this.removeReference(e,t)))}Vr(e){const t=new Mu(new Pu([])),n=new qp(t,e),r=new qp(t,e+1),i=[];return this.Tr.forEachInRange([n,r],(e=>{this.Ar(e),i.push(e.key)})),i}mr(){this.Pr.forEach((e=>this.Ar(e)))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const t=new Mu(new Pu([])),n=new qp(t,e),r=new qp(t,e+1);let i=Wd();return this.Tr.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new qp(e,0),n=this.Pr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class qp{constructor(e,t){this.key=e,this.pr=t}static Ir(e,t){return Mu.comparator(e.key,t.key)||Tu(e.pr,t.pr)}static Er(e,t){return Tu(e.pr,t.pr)||Mu.comparator(e.key,t.key)}}class Qp{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.yr=1,this.wr=new ph(qp.Ir)}checkEmpty(e){return Qu.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new Tf(i,t,n,r);this.mutationQueue.push(s);for(const o of r)this.wr=this.wr.add(new qp(o.key,i)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return Qu.resolve(s)}lookupMutationBatch(e,t){return Qu.resolve(this.Sr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.br(n),i=r<0?0:r;return Qu.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Qu.resolve(0===this.mutationQueue.length?-1:this.yr-1)}getAllMutationBatches(e){return Qu.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new qp(t,0),r=new qp(t,Number.POSITIVE_INFINITY),i=[];return this.wr.forEachInRange([n,r],(e=>{const t=this.Sr(e.pr);i.push(t)})),Qu.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new ph(Tu);return t.forEach((e=>{const t=new qp(e,0),r=new qp(e,Number.POSITIVE_INFINITY);this.wr.forEachInRange([t,r],(e=>{n=n.add(e.pr)}))})),Qu.resolve(this.Dr(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;Mu.isDocumentKey(i)||(i=i.child(""));const s=new qp(new Mu(i),0);let o=new ph(Tu);return this.wr.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.pr)),!0)}),s),Qu.resolve(this.Dr(o))}Dr(e){const t=[];return e.forEach((e=>{const n=this.Sr(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){fu(0===this.Cr(t.batchId,"removed")),this.mutationQueue.shift();let n=this.wr;return Qu.forEach(t.mutations,(r=>{const i=new qp(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.wr=n}))}Mn(e){}containsKey(e,t){const n=new qp(t,0),r=this.wr.firstAfterOrEqual(n);return Qu.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,Qu.resolve()}Cr(e,t){return this.br(e)}br(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Sr(e){const t=this.br(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Wp{constructor(e){this.vr=e,this.docs=new hh(Mu.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,s=this.vr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return Qu.resolve(n?n.document.mutableCopy():Qh.newInvalidDocument(t))}getEntries(e,t){let n=jd();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():Qh.newInvalidDocument(e))})),Qu.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=jd();const s=t.path,o=new Mu(s.child("")),a=this.docs.getIteratorFrom(o);for(;a.hasNext();){const{key:e,value:{document:o}}=a.getNext();if(!s.isPrefixOf(e.path))break;e.path.length>s.length+1||Vu(Fu(o),n)<=0||(r.has(o.key)||Dd(t,o))&&(i=i.insert(o.key,o.mutableCopy()))}return Qu.resolve(i)}getAllFromCollectionGroup(e,t,n,r){du()}Fr(e,t){return Qu.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new Kp(this)}getSize(e){return Qu.resolve(this.size)}}class Kp extends Up{constructor(e){super(),this.ar=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.ar.addEntry(e,r)):this.ar.removeEntry(n)})),Qu.waitFor(t)}getFromCache(e,t){return this.ar.getEntry(e,t)}getAllFromCache(e,t){return this.ar.getEntries(e,t)}}class Gp{constructor(e){this.persistence=e,this.Mr=new Od((e=>gd(e)),vd),this.lastRemoteSnapshotVersion=Du.min(),this.highestTargetId=0,this.Or=0,this.Nr=new Hp,this.targetCount=0,this.Lr=jp.Nn()}forEachTarget(e,t){return this.Mr.forEach(((e,n)=>t(n))),Qu.resolve()}getLastRemoteSnapshotVersion(e){return Qu.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Qu.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),Qu.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Or&&(this.Or=t),Qu.resolve()}qn(e){this.Mr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Lr=new jp(t),this.highestTargetId=t),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,t){return this.qn(t),this.targetCount+=1,Qu.resolve()}updateTargetData(e,t){return this.qn(t),Qu.resolve()}removeTargetData(e,t){return this.Mr.delete(t.target),this.Nr.Vr(t.targetId),this.targetCount-=1,Qu.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.Mr.forEach(((s,o)=>{o.sequenceNumber<=t&&null===n.get(o.targetId)&&(this.Mr.delete(s),i.push(this.removeMatchingKeysForTargetId(e,o.targetId)),r++)})),Qu.waitFor(i).next((()=>r))}getTargetCount(e){return Qu.resolve(this.targetCount)}getTargetData(e,t){const n=this.Mr.get(t)||null;return Qu.resolve(n)}addMatchingKeys(e,t,n){return this.Nr.dr(t,n),Qu.resolve()}removeMatchingKeys(e,t,n){this.Nr.Rr(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),Qu.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.Nr.Vr(t),Qu.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Nr.gr(t);return Qu.resolve(n)}containsKey(e,t){return Qu.resolve(this.Nr.containsKey(t))}}class Jp{constructor(e,t){this.Br={},this.overlays={},this.kr=new th(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new Gp(this),this.indexManager=new Lp,this.remoteDocumentCache=function(e){return new Wp(e)}((e=>this.referenceDelegate.Kr(e))),this.serializer=new Dp(t),this.$r=new Vp(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new zp,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.Br[e.toKey()];return n||(n=new Qp(t,this.referenceDelegate),this.Br[e.toKey()]=n),n}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,t,n){lu("MemoryPersistence","Starting transaction:",e);const r=new Xp(this.kr.next());return this.referenceDelegate.Ur(),n(r).next((e=>this.referenceDelegate.Wr(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Gr(e,t){return Qu.or(Object.values(this.Br).map((n=>()=>n.containsKey(e,t))))}}class Xp extends Hu{constructor(e){super(),this.currentSequenceNumber=e}}class Yp{constructor(e){this.persistence=e,this.zr=new Hp,this.jr=null}static Hr(e){return new Yp(e)}get Jr(){if(this.jr)return this.jr;throw du()}addReference(e,t,n){return this.zr.addReference(n,t),this.Jr.delete(n.toString()),Qu.resolve()}removeReference(e,t,n){return this.zr.removeReference(n,t),this.Jr.add(n.toString()),Qu.resolve()}markPotentiallyOrphaned(e,t){return this.Jr.add(t.toString()),Qu.resolve()}removeTarget(e,t){this.zr.Vr(t.targetId).forEach((e=>this.Jr.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.Jr.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}Ur(){this.jr=new Set}Wr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Qu.forEach(this.Jr,(n=>{const r=Mu.fromPath(n);return this.Yr(e,r).next((e=>{e||t.removeEntry(r,Du.min())}))})).next((()=>(this.jr=null,t.apply(e))))}updateLimboDocument(e,t){return this.Yr(e,t).next((e=>{e?this.Jr.delete(t.toString()):this.Jr.add(t.toString())}))}Kr(e){return 0}Yr(e,t){return Qu.or([()=>Qu.resolve(this.zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gr(e,t)])}}class Zp{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.qi=n,this.Qi=r}static Ki(e,t){let n=Wd(),r=Wd();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new Zp(e,t.fromCache,n,r)}}class $p{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class em{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=xe()?8:Ku.v(Ne())>0?6:4}initialize(e,t){this.zi=e,this.indexManager=t,this.$i=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.ji(e,t).next((e=>{i.result=e})).next((()=>{if(!i.result)return this.Hi(e,t,r,n).next((e=>{i.result=e}))})).next((()=>{if(i.result)return;const n=new $p;return this.Ji(e,t,n).next((r=>{if(i.result=r,this.Ui)return this.Yi(e,t,n,r.size)}))})).next((()=>i.result))}Yi(e,t,n,r){return n.documentReadCount<this.Wi?(au()<=Ge.DEBUG&&lu("QueryEngine","SDK will not create cache indexes for query:",xd(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),Qu.resolve()):(au()<=Ge.DEBUG&&lu("QueryEngine","Query:",xd(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.Gi*r?(au()<=Ge.DEBUG&&lu("QueryEngine","The SDK decides to create cache indexes for query:",xd(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,kd(t))):Qu.resolve())}ji(e,t){if(Ad(t))return Qu.resolve(null);let n=kd(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=Sd(t,null,"F"),n=kd(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const i=Wd(...r);return this.zi.getDocuments(e,i).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const s=this.Zi(t,r);return this.Xi(t,s,i,n.readTime)?this.ji(e,Sd(t,null,"F")):this.es(e,s,t,n)}))))})))))}Hi(e,t,n,r){return Ad(t)||r.isEqual(Du.min())?Qu.resolve(null):this.zi.getDocuments(e,n).next((i=>{const s=this.Zi(t,i);return this.Xi(t,s,n,r)?Qu.resolve(null):(au()<=Ge.DEBUG&&lu("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),xd(t)),this.es(e,s,t,Uu(r,-1)).next((e=>e)))}))}Zi(e,t){let n=new ph(Pd(e));return t.forEach(((t,r)=>{Dd(e,r)&&(n=n.add(r))})),n}Xi(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Ji(e,t,n){return au()<=Ge.DEBUG&&lu("QueryEngine","Using full collection scan to execute query:",xd(t)),this.zi.getDocumentsMatchingQuery(e,t,Bu.min(),n)}es(e,t,n,r){return this.zi.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}class tm{constructor(e,t,n,r){this.persistence=e,this.ts=t,this.serializer=r,this.ns=new hh(Tu),this.rs=new Od((e=>gd(e)),vd),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(n)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Bp(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.ns)))}}function nm(e,t,n,r){return new tm(e,t,n,r)}async function rm(e,t){const n=pu(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((i=>(r=i,n._s(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const i=[],s=[];let o=Wd();for(const e of r){i.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}for(const e of t){s.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}return n.localDocuments.getDocuments(e,o).next((e=>({us:e,removedBatchIds:i,addedBatchIds:s})))}))}))}function im(e){const t=pu(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Qr.getLastRemoteSnapshotVersion(e)))}function sm(e,t,n){let r=Wd(),i=Wd();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=jd();return n.forEach(((n,s)=>{const o=e.get(n);s.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),s.isNoDocument()&&s.version.isEqual(Du.min())?(t.removeEntry(n,s.readTime),r=r.insert(n,s)):!o.isValidDocument()||s.version.compareTo(o.version)>0||0===s.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(s),r=r.insert(n,s)):lu("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",s.version)})),{cs:r,ls:i}}))}function om(e,t){const n=pu(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function am(e,t){const n=pu(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.Qr.getTargetData(e,t).next((i=>i?(r=i,Qu.resolve(r)):n.Qr.allocateTargetId(e).next((i=>(r=new xp(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Qr.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.ns.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.ns=n.ns.insert(e.targetId,e),n.rs.set(t,e.targetId)),e}))}async function lm(e,t,n){const r=pu(e),i=r.ns.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!Xu(e))throw e;lu("LocalStore","Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.ns=r.ns.remove(t),r.rs.delete(i.target)}function cm(e,t,n){const r=pu(e);let i=Du.min(),s=Wd();return r.persistence.runTransaction("Execute query","readwrite",(e=>function(e,t,n){const r=pu(e),i=r.rs.get(n);return void 0!==i?Qu.resolve(r.ns.get(i)):r.Qr.getTargetData(t,n)}(r,e,kd(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(e,t.targetId).next((e=>{s=e}))})).next((()=>r.ts.getDocumentsMatchingQuery(e,t,n?i:Du.min(),n?s:Wd()))).next((e=>(um(r,Rd(t),e),{documents:e,hs:s})))))}function um(e,t,n){let r=e.ss.get(t)||Du.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.ss.set(t,r)}class hm{constructor(){this.activeTargetIds=Gd()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class dm{constructor(){this.no=new hm,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,t,n){this.ro[e]=t}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new hm,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class fm{io(e){}shutdown(){}}class pm{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){lu("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){lu("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let mm=null;function gm(){return null===mm?mm=268435456+Math.round(2147483648*Math.random()):mm++,"0x"+mm.toString(16)}const vm={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class ym{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}}const wm="WebChannelConnection";class bm extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.fo=t+"://"+e.host,this.po="projects/".concat(n,"/databases/").concat(r),this.yo="(default)"===this.databaseId.database?"project_id=".concat(n):"project_id=".concat(n,"&database_id=").concat(r)}get wo(){return!1}So(e,t,n,r,i){const s=gm(),o=this.bo(e,t.toUriEncodedString());lu("RestConnection","Sending RPC '".concat(e,"' ").concat(s,":"),o,n);const a={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(a,r,i),this.Co(e,o,a,n).then((t=>(lu("RestConnection","Received RPC '".concat(e,"' ").concat(s,": "),t),t)),(t=>{throw uu("RestConnection","RPC '".concat(e,"' ").concat(s," failed with error: "),t,"url: ",o,"request:",n),t}))}vo(e,t,n,r,i,s){return this.So(e,t,n,r,i)}Do(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+su,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}bo(e,t){const n=vm[e];return"".concat(this.fo,"/v1/").concat(t,":").concat(n)}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,t,n,r){const i=gm();return new Promise(((s,o)=>{const a=new eu;a.setWithCredentials(!0),a.listenOnce(Xc.COMPLETE,(()=>{try{switch(a.getLastErrorCode()){case Jc.NO_ERROR:const t=a.getResponseJson();lu(wm,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),s(t);break;case Jc.TIMEOUT:lu(wm,"RPC '".concat(e,"' ").concat(i," timed out")),o(new gu(mu.DEADLINE_EXCEEDED,"Request time out"));break;case Jc.HTTP_ERROR:const n=a.getStatus();if(lu(wm,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",a.getResponseText()),n>0){let e=a.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(mu).indexOf(t)>=0?t:mu.UNKNOWN}(t.status);o(new gu(e,t.message))}else o(new gu(mu.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new gu(mu.UNAVAILABLE,"Connection failed."));break;default:du()}}finally{lu(wm,"RPC '".concat(e,"' ").concat(i," completed."))}}));const l=JSON.stringify(r);lu(wm,"RPC '".concat(e,"' ").concat(i," sending request:"),r),a.send(t,"POST",l,n,15)}))}Fo(e,t,n){const r=gm(),i=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Kc(),o=Gc(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(a.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(a.useFetchStreams=!0),this.Do(a.initMessageHeaders,t,n),a.encodeInitMessageHeaders=!0;const c=i.join("");lu(wm,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),a);const u=s.createWebChannel(c,a);let h=!1,d=!1;const f=new ym({lo:t=>{d?lu(wm,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(h||(lu(wm,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),u.open(),h=!0),lu(wm,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),u.send(t))},ho:()=>u.close()}),p=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return p(u,$c.EventType.OPEN,(()=>{d||lu(wm,"RPC '".concat(e,"' stream ").concat(r," transport opened."))})),p(u,$c.EventType.CLOSE,(()=>{d||(d=!0,lu(wm,"RPC '".concat(e,"' stream ").concat(r," transport closed")),f.Vo())})),p(u,$c.EventType.ERROR,(t=>{d||(d=!0,uu(wm,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),f.Vo(new gu(mu.UNAVAILABLE,"The operation could not be completed")))})),p(u,$c.EventType.MESSAGE,(t=>{var n;if(!d){const i=t.data[0];fu(!!i);const s=i,o=s.error||(null===(n=s[0])||void 0===n?void 0:n.error);if(o){lu(wm,"RPC '".concat(e,"' stream ").concat(r," received error:"),o);const t=o.status;let n=function(e){const t=Rf[e];if(void 0!==t)return Of(t)}(t),i=o.message;void 0===n&&(n=mu.INTERNAL,i="Unknown error status: "+t+" with message "+o.message),d=!0,f.Vo(new gu(n,i)),u.close()}else lu(wm,"RPC '".concat(e,"' stream ").concat(r," received:"),i),f.mo(i)}})),p(o,Yc.STAT_EVENT,(t=>{t.stat===Zc.PROXY?lu(wm,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===Zc.NOPROXY&&lu(wm,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((()=>{f.Ro()}),0),f}}function _m(){return"undefined"!=typeof document?document:null}function Am(e){return new tp(e,!0)}class Em{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.oi=e,this.timerId=t,this.Mo=n,this.xo=r,this.Oo=i,this.No=0,this.Lo=null,this.Bo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();const t=Math.floor(this.No+this.Qo()),n=Math.max(0,Date.now()-this.Bo),r=Math.max(0,t-n);r>0&&lu("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.No," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.Lo=this.oi.enqueueAfterDelay(this.timerId,r,(()=>(this.Bo=Date.now(),e()))),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){null!==this.Lo&&(this.Lo.skipDelay(),this.Lo=null)}cancel(){null!==this.Lo&&(this.Lo.cancel(),this.Lo=null)}Qo(){return(Math.random()-.5)*this.No}}class Im{constructor(e,t,n,r,i,s,o,a){this.oi=e,this.$o=n,this.Uo=r,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=a,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new Em(e,t)}Ho(){return 1===this.state||5===this.state||this.Jo()}Jo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Yo()}async stop(){this.Ho()&&await this.close(0)}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&null===this.Go&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,(()=>this.e_())))}t_(e){this.n_(),this.stream.send(e)}async e_(){if(this.Jo())return this.close(0)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}async close(e,t){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,4!==e?this.jo.reset():t&&t.code===mu.RESOURCE_EXHAUSTED?(cu(t.toString()),cu("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):t&&t.code===mu.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.i_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.To(t)}i_(){}auth(){this.state=1;const e=this.s_(this.Wo),t=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((e=>{let[n,r]=e;this.Wo===t&&this.o_(n,r)}),(t=>{e((()=>{const e=new gu(mu.UNKNOWN,"Fetching auth token failed: "+t.message);return this.__(e)}))}))}o_(e,t){const n=this.s_(this.Wo);this.stream=this.a_(e,t),this.stream.Po((()=>{n((()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,(()=>(this.Jo()&&(this.state=3),Promise.resolve()))),this.listener.Po())))})),this.stream.To((e=>{n((()=>this.__(e)))})),this.stream.onMessage((e=>{n((()=>this.onMessage(e)))}))}Yo(){this.state=5,this.jo.qo((async()=>{this.state=0,this.start()}))}__(e){return lu("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}s_(e){return t=>{this.oi.enqueueAndForget((()=>this.Wo===e?t():(lu("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class km extends Im{constructor(e,t,n,r,i,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}a_(e,t){return this.connection.Fo("Listen",e,t)}onMessage(e){this.jo.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:du()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(e,t){return e.useProto3Json?(fu(void 0===t||"string"==typeof t),yh.fromBase64String(t||"")):(fu(void 0===t||t instanceof Uint8Array),yh.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(e){const t=void 0===e.code?mu.UNKNOWN:Of(e.code);return new gu(t,e.message||"")}(o);n=new Kf(r,i,s,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=hp(e,r.document.name),s=op(r.document.updateTime),o=r.document.createTime?op(r.document.createTime):Du.min(),a=new Hh({mapValue:{fields:r.document.fields}}),l=Qh.newFoundDocument(i,s,o,a),c=r.targetIds||[],u=r.removedTargetIds||[];n=new Qf(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=hp(e,r.document),s=r.readTime?op(r.readTime):Du.min(),o=Qh.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Qf([],a,o.key,o)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=hp(e,r.document),s=r.removedTargetIds||[];n=new Qf([],s,i,null)}else{if(!("filter"in t))return du();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,s=new Df(r,i),o=e.targetId;n=new Wf(o,s)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return Du.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?Du.min():t.readTime?op(t.readTime):Du.min()}(e);return this.listener.u_(t,n)}c_(e){const t={};t.database=pp(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=yd(r)?{documents:yp(e,r)}:{query:wp(e,r).ut},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=ip(e,t.resumeToken);const r=np(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(Du.min())>0){n.readTime=rp(e,t.snapshotVersion.toTimestamp());const r=np(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return du()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.t_(t)}l_(e){const t={};t.database=pp(this.serializer),t.removeTarget=e,this.t_(t)}}class Cm extends Im{constructor(e,t,n,r,i,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,t){return this.connection.Fo("Write",e,t)}onMessage(e){if(fu(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();const t=function(e,t){return e&&e.length>0?(fu(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?op(e.updateTime):op(t);return n.isEqual(Du.min())&&(n=op(t)),new df(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=op(e.commitTime);return this.listener.T_(n,t)}return fu(!e.writeResults||0===e.writeResults.length),this.h_=!0,this.listener.E_()}d_(){const e={};e.database=pp(this.serializer),this.t_(e)}I_(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>vp(this.serializer,e)))};this.t_(t)}}class Sm extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.A_=!1}R_(){if(this.A_)throw new gu(mu.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,n,r){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((i=>{let[s,o]=i;return this.connection.So(e,lp(t,n),r,s,o)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===mu.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new gu(mu.UNKNOWN,e.toString())}))}vo(e,t,n,r,i){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((s=>{let[o,a]=s;return this.connection.vo(e,lp(t,n),r,o,a,i)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===mu.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new gu(mu.UNKNOWN,e.toString())}))}terminate(){this.A_=!0,this.connection.terminate()}}class Tm{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){0===this.m_&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve()))))}S_(e){"Online"===this.state?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.y_("Offline")))}set(e){this.b_(),this.m_=0,"Online"===e&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.g_?(cu(t),this.g_=!1):lu("OnlineStateTracker",t)}b_(){null!==this.f_&&(this.f_.cancel(),this.f_=null)}}class Nm{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=i,this.M_.io((e=>{n.enqueueAndForget((async()=>{Um(this)&&(lu("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=pu(e);t.v_.add(4),await Dm(t),t.x_.set("Unknown"),t.v_.delete(4),await xm(t)}(this))}))})),this.x_=new Tm(n,r)}}async function xm(e){if(Um(e))for(const t of e.F_)await t(!0)}async function Dm(e){for(const t of e.F_)await t(!1)}function Rm(e,t){const n=pu(e);n.C_.has(t.targetId)||(n.C_.set(t.targetId,t),jm(n)?Mm(n):ng(n).Jo()&&Lm(n,t))}function Pm(e,t){const n=pu(e),r=ng(n);n.C_.delete(t),r.Jo()&&Om(n,t),0===n.C_.size&&(r.Jo()?r.Xo():Um(n)&&n.x_.set("Unknown"))}function Lm(e,t){if(e.O_.Oe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Du.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}ng(e).c_(t)}function Om(e,t){e.O_.Oe(t),ng(e).l_(t)}function Mm(e){e.O_=new Jf({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),_t:t=>e.C_.get(t)||null,nt:()=>e.datastore.serializer.databaseId}),ng(e).start(),e.x_.p_()}function jm(e){return Um(e)&&!ng(e).Ho()&&e.C_.size>0}function Um(e){return 0===pu(e).v_.size}function Fm(e){e.O_=void 0}async function Bm(e){e.C_.forEach(((t,n)=>{Lm(e,t)}))}async function Vm(e,t){Fm(e),jm(e)?(e.x_.S_(t),Mm(e)):e.x_.set("Unknown")}async function zm(e,t,n){if(e.x_.set("Online"),t instanceof Kf&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.C_.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.C_.delete(r),e.O_.removeTarget(r))}(e,t)}catch(n){lu("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await Hm(e,n)}else if(t instanceof Qf?e.O_.$e(t):t instanceof Wf?e.O_.Je(t):e.O_.Ge(t),!n.isEqual(Du.min()))try{const t=await im(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.O_.it(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.C_.get(r);i&&e.C_.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const r=e.C_.get(t);if(!r)return;e.C_.set(t,r.withResumeToken(yh.EMPTY_BYTE_STRING,r.snapshotVersion)),Om(e,t);const i=new xp(r.target,t,n,r.sequenceNumber);Lm(e,i)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){lu("RemoteStore","Failed to raise snapshot:",t),await Hm(e,t)}}async function Hm(e,t,n){if(!Xu(t))throw t;e.v_.add(1),await Dm(e),e.x_.set("Offline"),n||(n=()=>im(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{lu("RemoteStore","Retrying IndexedDB access"),await n(),e.v_.delete(1),await xm(e)}))}function qm(e,t){return t().catch((n=>Hm(e,n,t)))}async function Qm(e){const t=pu(e),n=rg(t);let r=t.D_.length>0?t.D_[t.D_.length-1].batchId:-1;for(;Wm(t);)try{const e=await om(t.localStore,r);if(null===e){0===t.D_.length&&n.Xo();break}r=e.batchId,Km(t,e)}catch(e){await Hm(t,e)}Gm(t)&&Jm(t)}function Wm(e){return Um(e)&&e.D_.length<10}function Km(e,t){e.D_.push(t);const n=rg(e);n.Jo()&&n.P_&&n.I_(t.mutations)}function Gm(e){return Um(e)&&!rg(e).Ho()&&e.D_.length>0}function Jm(e){rg(e).start()}async function Xm(e){rg(e).d_()}async function Ym(e){const t=rg(e);for(const n of e.D_)t.I_(n.mutations)}async function Zm(e,t,n){const r=e.D_.shift(),i=Nf.from(r,t,n);await qm(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await Qm(e)}async function $m(e,t){t&&rg(e).P_&&await async function(e,t){if(function(e){return Lf(e)&&e!==mu.ABORTED}(t.code)){const n=e.D_.shift();rg(e).Zo(),await qm(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await Qm(e)}}(e,t),Gm(e)&&Jm(e)}async function eg(e,t){const n=pu(e);n.asyncQueue.verifyOperationInProgress(),lu("RemoteStore","RemoteStore received new credentials");const r=Um(n);n.v_.add(3),await Dm(n),r&&n.x_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.v_.delete(3),await xm(n)}async function tg(e,t){const n=pu(e);t?(n.v_.delete(2),await xm(n)):t||(n.v_.add(2),await Dm(n),n.x_.set("Unknown"))}function ng(e){return e.N_||(e.N_=function(e,t,n){const r=pu(e);return r.R_(),new km(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Po:Bm.bind(null,e),To:Vm.bind(null,e),u_:zm.bind(null,e)}),e.F_.push((async t=>{t?(e.N_.Zo(),jm(e)?Mm(e):e.x_.set("Unknown")):(await e.N_.stop(),Fm(e))}))),e.N_}function rg(e){return e.L_||(e.L_=function(e,t,n){const r=pu(e);return r.R_(),new Cm(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Po:Xm.bind(null,e),To:$m.bind(null,e),E_:Ym.bind(null,e),T_:Zm.bind(null,e)}),e.F_.push((async t=>{t?(e.L_.Zo(),await Qm(e)):(await e.L_.stop(),e.D_.length>0&&(lu("RemoteStore","Stopping write stream with ".concat(e.D_.length," pending writes")),e.D_=[]))}))),e.L_}class ig{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new vu,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const s=Date.now()+n,o=new ig(e,t,s,r,i);return o.start(n),o}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new gu(mu.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function sg(e,t){if(cu("AsyncQueue","".concat(t,": ").concat(e)),Xu(e))return new gu(mu.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class og{constructor(e){this.comparator=e?(t,n)=>e(t,n)||Mu.comparator(t.key,n.key):(e,t)=>Mu.comparator(e.key,t.key),this.keyedMap=Fd(),this.sortedSet=new hh(this.comparator)}static emptySet(e){return new og(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof og))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new og;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class ag{constructor(){this.B_=new hh(Mu.comparator)}track(e){const t=e.doc.key,n=this.B_.get(t);n?0!==e.type&&3===n.type?this.B_=this.B_.insert(t,e):3===e.type&&1!==n.type?this.B_=this.B_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.B_=this.B_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.B_=this.B_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.B_=this.B_.remove(t):1===e.type&&2===n.type?this.B_=this.B_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.B_=this.B_.insert(t,{type:2,doc:e.doc}):du():this.B_=this.B_.insert(t,e)}k_(){const e=[];return this.B_.inorderTraversal(((t,n)=>{e.push(n)})),e}}class lg{constructor(e,t,n,r,i,s,o,a,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=a,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const s=[];return t.forEach((e=>{s.push({type:0,doc:e})})),new lg(e,t,og.emptySet(t),s,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Td(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class cg{constructor(){this.q_=void 0,this.Q_=[]}K_(){return this.Q_.some((e=>e.U_()))}}class ug{constructor(){this.queries=new Od((e=>Nd(e)),Td),this.onlineState="Unknown",this.W_=new Set}}async function hg(e,t){const n=pu(e);let r=3;const i=t.query;let s=n.queries.get(i);s?!s.K_()&&t.U_()&&(r=2):(s=new cg,r=t.U_()?0:1);try{switch(r){case 0:s.q_=await n.onListen(i,!0);break;case 1:s.q_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(e){const n=sg(e,"Initialization of query '".concat(xd(t.query),"' failed"));return void t.onError(n)}n.queries.set(i,s),s.Q_.push(t),t.G_(n.onlineState),s.q_&&t.z_(s.q_)&&mg(n)}async function dg(e,t){const n=pu(e),r=t.query;let i=3;const s=n.queries.get(r);if(s){const e=s.Q_.indexOf(t);e>=0&&(s.Q_.splice(e,1),0===s.Q_.length?i=t.U_()?0:1:!s.K_()&&t.U_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function fg(e,t){const n=pu(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.Q_)e.z_(i)&&(r=!0);t.q_=i}}r&&mg(n)}function pg(e,t,n){const r=pu(e),i=r.queries.get(t);if(i)for(const s of i.Q_)s.onError(n);r.queries.delete(t)}function mg(e){e.W_.forEach((e=>{e.next()}))}var gg,vg;(vg=gg||(gg={})).j_="default",vg.Cache="cache";class yg{constructor(e,t,n){this.query=e,this.H_=t,this.J_=!1,this.Y_=null,this.onlineState="Unknown",this.options=n||{}}z_(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new lg(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.J_?this.Z_(e)&&(this.H_.next(e),t=!0):this.X_(e,this.onlineState)&&(this.ea(e),t=!0),this.Y_=e,t}onError(e){this.H_.error(e)}G_(e){this.onlineState=e;let t=!1;return this.Y_&&!this.J_&&this.X_(this.Y_,e)&&(this.ea(this.Y_),t=!0),t}X_(e,t){if(!e.fromCache)return!0;if(!this.U_())return!0;const n="Offline"!==t;return(!this.options.ta||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Z_(e){if(e.docChanges.length>0)return!0;const t=this.Y_&&this.Y_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}ea(e){e=lg.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.J_=!0,this.H_.next(e)}U_(){return this.options.source!==gg.Cache}}class wg{constructor(e){this.key=e}}class bg{constructor(e){this.key=e}}class _g{constructor(e,t){this.query=e,this.ua=t,this.ca=null,this.hasCachedResults=!1,this.current=!1,this.la=Wd(),this.mutatedKeys=Wd(),this.ha=Pd(e),this.Pa=new og(this.ha)}get Ia(){return this.ua}Ta(e,t){const n=t?t.Ea:new ag,r=t?t.Pa:this.Pa;let i=t?t.mutatedKeys:this.mutatedKeys,s=r,o=!1;const a="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const c=r.get(e),u=Dd(this.query,t)?t:null,h=!!c&&this.mutatedKeys.has(c.key),d=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?h!==d&&(n.track({type:3,doc:u}),f=!0):this.da(c,u)||(n.track({type:2,doc:u}),f=!0,(a&&this.ha(u,a)>0||l&&this.ha(u,l)<0)&&(o=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(a||l)&&(o=!0)),f&&(u?(s=s.add(u),i=d?i.add(e):i.delete(e)):(s=s.delete(e),i=i.delete(e)))})),null!==this.query.limit)for(;s.size>this.query.limit;){const e="F"===this.query.limitType?s.last():s.first();s=s.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{Pa:s,Ea:n,Xi:o,mutatedKeys:i}}da(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.Pa;this.Pa=e.Pa,this.mutatedKeys=e.mutatedKeys;const s=e.Ea.k_();s.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return du()}};return n(e)-n(t)}(e.type,t.type)||this.ha(e.doc,t.doc))),this.Aa(n),r=null!=r&&r;const o=t&&!r?this.Ra():[],a=0===this.la.size&&this.current&&!r?1:0,l=a!==this.ca;return this.ca=a,0!==s.length||l?{snapshot:new lg(this.query,e.Pa,i,s,e.mutatedKeys,0===a,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),Va:o}:{Va:o}}G_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Pa:this.Pa,Ea:new ag,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{Va:[]}}ma(e){return!this.ua.has(e)&&!!this.Pa.has(e)&&!this.Pa.get(e).hasLocalMutations}Aa(e){e&&(e.addedDocuments.forEach((e=>this.ua=this.ua.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.ua=this.ua.delete(e))),this.current=e.current)}Ra(){if(!this.current)return[];const e=this.la;this.la=Wd(),this.Pa.forEach((e=>{this.ma(e.key)&&(this.la=this.la.add(e.key))}));const t=[];return e.forEach((e=>{this.la.has(e)||t.push(new bg(e))})),this.la.forEach((n=>{e.has(n)||t.push(new wg(n))})),t}fa(e){this.ua=e.hs,this.la=Wd();const t=this.Ta(e.documents);return this.applyChanges(t,!0)}ga(){return lg.fromInitialDocuments(this.query,this.Pa,this.mutatedKeys,0===this.ca,this.hasCachedResults)}}class Ag{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class Eg{constructor(e){this.key=e,this.pa=!1}}class Ig{constructor(e,t,n,r,i,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.ya={},this.wa=new Od((e=>Nd(e)),Td),this.Sa=new Map,this.ba=new Set,this.Da=new hh(Mu.comparator),this.Ca=new Map,this.va=new Hp,this.Fa={},this.Ma=new Map,this.xa=jp.Ln(),this.onlineState="Unknown",this.Oa=void 0}get isPrimaryClient(){return!0===this.Oa}}async function kg(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=Wg(e);let i;const s=r.wa.get(t);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.ga()):i=await Sg(r,t,n,!0),i}async function Cg(e,t){const n=Wg(e);await Sg(n,t,!0,!1)}async function Sg(e,t,n,r){const i=await am(e.localStore,kd(t)),s=i.targetId,o=n?e.sharedClientState.addLocalQueryTarget(s):"not-current";let a;return r&&(a=await Tg(e,t,s,"current"===o,i.resumeToken)),e.isPrimaryClient&&n&&Rm(e.remoteStore,i),a}async function Tg(e,t,n,r,i){e.Na=(t,n,r)=>async function(e,t,n,r){let i=t.view.Ta(n);i.Xi&&(i=await cm(e.localStore,t.query,!1).then((e=>{let{documents:n}=e;return t.view.Ta(n,i)})));const s=r&&r.targetChanges.get(t.targetId),o=r&&null!=r.targetMismatches.get(t.targetId),a=t.view.applyChanges(i,e.isPrimaryClient,s,o);return Bg(e,t.targetId,a.Va),a.snapshot}(e,t,n,r);const s=await cm(e.localStore,t,!0),o=new _g(t,s.hs),a=o.Ta(s.documents),l=qf.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),c=o.applyChanges(a,e.isPrimaryClient,l);Bg(e,n,c.Va);const u=new Ag(t,n,o);return e.wa.set(t,u),e.Sa.has(n)?e.Sa.get(n).push(t):e.Sa.set(n,[t]),c.snapshot}async function Ng(e,t,n){const r=pu(e),i=r.wa.get(t),s=r.Sa.get(i.targetId);if(s.length>1)return r.Sa.set(i.targetId,s.filter((e=>!Td(e,t)))),void r.wa.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await lm(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Pm(r.remoteStore,i.targetId),Ug(r,i.targetId)})).catch(qu)):(Ug(r,i.targetId),await lm(r.localStore,i.targetId,!0))}async function xg(e,t){const n=pu(e),r=n.wa.get(t),i=n.Sa.get(r.targetId);n.isPrimaryClient&&1===i.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Pm(n.remoteStore,r.targetId))}async function Dg(e,t){const n=pu(e);try{const e=await function(e,t){const n=pu(e),r=t.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const s=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const o=[];t.targetChanges.forEach(((s,a)=>{const l=i.get(a);if(!l)return;o.push(n.Qr.removeMatchingKeys(e,s.removedDocuments,a).next((()=>n.Qr.addMatchingKeys(e,s.addedDocuments,a))));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(a)?c=c.withResumeToken(yh.EMPTY_BYTE_STRING,Du.min()).withLastLimboFreeSnapshotVersion(Du.min()):s.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(s.resumeToken,r)),i=i.insert(a,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(l,c,s)&&o.push(n.Qr.updateTargetData(e,c))}));let a=jd(),l=Wd();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(sm(e,s,t.documentUpdates).next((e=>{a=e.cs,l=e.ls}))),!r.isEqual(Du.min())){const t=n.Qr.getLastRemoteSnapshotVersion(e).next((t=>n.Qr.setTargetsMetadata(e,e.currentSequenceNumber,r)));o.push(t)}return Qu.waitFor(o).next((()=>s.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,a,l))).next((()=>a))})).then((e=>(n.ns=i,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.Ca.get(t);r&&(fu(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.pa=!0:e.modifiedDocuments.size>0?fu(r.pa):e.removedDocuments.size>0&&(fu(r.pa),r.pa=!1))})),await Hg(n,e,t)}catch(e){await qu(e)}}function Rg(e,t,n){const r=pu(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.wa.forEach(((n,r)=>{const i=r.view.G_(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=pu(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const i of n.Q_)i.G_(t)&&(r=!0)})),r&&mg(n)}(r.eventManager,t),e.length&&r.ya.u_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function Pg(e,t,n){const r=pu(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Ca.get(t),s=i&&i.key;if(s){let e=new hh(Mu.comparator);e=e.insert(s,Qh.newNoDocument(s,Du.min()));const n=Wd().add(s),i=new Hf(Du.min(),new Map,new hh(Tu),e,n);await Dg(r,i),r.Da=r.Da.remove(s),r.Ca.delete(t),zg(r)}else await lm(r.localStore,t,!1).then((()=>Ug(r,t,n))).catch(qu)}async function Lg(e,t){const n=pu(e),r=t.batch.batchId;try{const e=await function(e,t){const n=pu(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),i=n.os.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,s=i.keys();let o=Qu.resolve();return s.forEach((e=>{o=o.next((()=>r.getEntry(t,e))).next((t=>{const s=n.docVersions.get(e);fu(null!==s),t.version.compareTo(s)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((()=>e.mutationQueue.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=Wd();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(n.localStore,t);jg(n,r,null),Mg(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Hg(n,e)}catch(e){await qu(e)}}async function Og(e,t,n){const r=pu(e);try{const e=await function(e,t){const n=pu(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(fu(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);jg(r,t,n),Mg(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Hg(r,e)}catch(n){await qu(n)}}function Mg(e,t){(e.Ma.get(t)||[]).forEach((e=>{e.resolve()})),e.Ma.delete(t)}function jg(e,t,n){const r=pu(e);let i=r.Fa[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Fa[r.currentUser.toKey()]=i}}function Ug(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Sa.get(t))e.wa.delete(r),n&&e.ya.La(r,n);e.Sa.delete(t),e.isPrimaryClient&&e.va.Vr(t).forEach((t=>{e.va.containsKey(t)||Fg(e,t)}))}function Fg(e,t){e.ba.delete(t.path.canonicalString());const n=e.Da.get(t);null!==n&&(Pm(e.remoteStore,n),e.Da=e.Da.remove(t),e.Ca.delete(n),zg(e))}function Bg(e,t,n){for(const r of n)r instanceof wg?(e.va.addReference(r.key,t),Vg(e,r)):r instanceof bg?(lu("SyncEngine","Document no longer in limbo: "+r.key),e.va.removeReference(r.key,t),e.va.containsKey(r.key)||Fg(e,r.key)):du()}function Vg(e,t){const n=t.key,r=n.path.canonicalString();e.Da.get(n)||e.ba.has(r)||(lu("SyncEngine","New document in limbo: "+n),e.ba.add(r),zg(e))}function zg(e){for(;e.ba.size>0&&e.Da.size<e.maxConcurrentLimboResolutions;){const t=e.ba.values().next().value;e.ba.delete(t);const n=new Mu(Pu.fromString(t)),r=e.xa.next();e.Ca.set(r,new Eg(n)),e.Da=e.Da.insert(n,r),Rm(e.remoteStore,new xp(kd(_d(n.path)),r,"TargetPurposeLimboResolution",th._e))}}async function Hg(e,t,n){const r=pu(e),i=[],s=[],o=[];r.wa.isEmpty()||(r.wa.forEach(((e,a)=>{o.push(r.Na(a,t,n).then((e=>{if((e||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){i.push(e);const t=Zp.Ki(a.targetId,e);s.push(t)}})))})),await Promise.all(o),r.ya.u_(i),await async function(e,t){const n=pu(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>Qu.forEach(t,(t=>Qu.forEach(t.qi,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>Qu.forEach(t.Qi,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!Xu(e))throw e;lu("LocalStore","Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.ns.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.ns=n.ns.insert(e,i)}}}(r.localStore,s))}async function qg(e,t){const n=pu(e);if(!n.currentUser.isEqual(t)){lu("SyncEngine","User change. New user:",t.toKey());const e=await rm(n.localStore,t);n.currentUser=t,function(e,t){e.Ma.forEach((e=>{e.forEach((e=>{e.reject(new gu(mu.CANCELLED,t))}))})),e.Ma.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await Hg(n,e.us)}}function Qg(e,t){const n=pu(e),r=n.Ca.get(t);if(r&&r.pa)return Wd().add(r.key);{let e=Wd();const r=n.Sa.get(t);if(!r)return e;for(const t of r){const r=n.wa.get(t);e=e.unionWith(r.view.Ia)}return e}}function Wg(e){const t=pu(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Dg.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Qg.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Pg.bind(null,t),t.ya.u_=fg.bind(null,t.eventManager),t.ya.La=pg.bind(null,t.eventManager),t}function Kg(e){const t=pu(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Lg.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Og.bind(null,t),t}class Gg{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Am(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return nm(this.persistence,new em,e.initialUser,this.serializer)}createPersistence(e){return new Jp(Yp.Hr,this.serializer)}createSharedClientState(e){return new dm}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class Jg{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>Rg(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=qg.bind(null,this.syncEngine),await tg(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new ug}createDatastore(e){const t=Am(e.databaseInfo.databaseId),n=function(e){return new bm(e)}(e.databaseInfo);return function(e,t,n,r){return new Sm(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new Nm(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,(e=>Rg(this.syncEngine,e,0)),pm.D()?new pm:new fm)}createSyncEngine(e,t){return function(e,t,n,r,i,s,o){const a=new Ig(e,t,n,r,i,s);return o&&(a.Oa=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e;await async function(e){const t=pu(e);lu("RemoteStore","RemoteStore shutting down."),t.v_.add(5),await Dm(t),t.M_.shutdown(),t.x_.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate()}}class Xg{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.qa(this.observer.next,e)}error(e){this.observer.error?this.qa(this.observer.error,e):cu("Uncaught Error in snapshot listener:",e.toString())}Qa(){this.muted=!0}qa(e,t){this.muted||setTimeout((()=>{this.muted||e(t)}),0)}}class Yg{constructor(e,t,n,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=iu.UNAUTHENTICATED,this.clientId=Su.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,(async e=>{lu("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(lu("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new gu(mu.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new vu;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=sg(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function Zg(e,t){e.asyncQueue.verifyOperationInProgress(),lu("FirestoreClient","Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await rm(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function $g(e,t){e.asyncQueue.verifyOperationInProgress();const n=await tv(e);lu("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((e=>eg(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>eg(t.remoteStore,n))),e._onlineComponents=t}function ev(e){return"FirebaseError"===e.name?e.code===mu.FAILED_PRECONDITION||e.code===mu.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}async function tv(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){lu("FirestoreClient","Using user provided OfflineComponentProvider");try{await Zg(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!ev(n))throw n;uu("Error using user provided cache. Falling back to memory cache: "+n),await Zg(e,new Gg)}}else lu("FirestoreClient","Using default OfflineComponentProvider"),await Zg(e,new Gg);return e._offlineComponents}async function nv(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(lu("FirestoreClient","Using user provided OnlineComponentProvider"),await $g(e,e._uninitializedComponentsProvider._online)):(lu("FirestoreClient","Using default OnlineComponentProvider"),await $g(e,new Jg))),e._onlineComponents}function rv(e){return nv(e).then((e=>e.syncEngine))}async function iv(e){const t=await nv(e),n=t.eventManager;return n.onListen=kg.bind(null,t.syncEngine),n.onUnlisten=Ng.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=Cg.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=xg.bind(null,t.syncEngine),n}function sv(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new vu;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const s=new Xg({next:s=>{t.enqueueAndForget((()=>dg(e,o)));const a=s.docs.has(n);!a&&s.fromCache?i.reject(new gu(mu.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&s.fromCache&&r&&"server"===r.source?i.reject(new gu(mu.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(s)},error:e=>i.reject(e)}),o=new yg(_d(n.path),s,{includeMetadataChanges:!0,ta:!0});return hg(e,o)}(await iv(e),e.asyncQueue,t,n,r))),r.promise}function ov(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new vu;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const s=new Xg({next:n=>{t.enqueueAndForget((()=>dg(e,o))),n.fromCache&&"server"===r.source?i.reject(new gu(mu.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),o=new yg(n,s,{includeMetadataChanges:!0,ta:!0});return hg(e,o)}(await iv(e),e.asyncQueue,t,n,r))),r.promise}function av(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const lv=new Map;function cv(e,t,n){if(!n)throw new gu(mu.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function uv(e){if(!Mu.isDocumentKey(e))throw new gu(mu.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function hv(e){if(Mu.isDocumentKey(e))throw new gu(mu.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function dv(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":du()}function fv(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new gu(mu.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=dv(e);throw new gu(mu.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}class pv{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new gu(mu.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new gu(mu.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new gu(mu.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=av(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new gu(mu.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new gu(mu.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new gu(mu.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class mv{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new pv({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new gu(mu.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new gu(mu.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new pv(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new wu;switch(e.type){case"firstParty":return new Eu(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new gu(mu.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=lv.get(e);t&&(lu("ComponentProvider","Removing Datastore"),lv.delete(e),t.terminate())}(this),Promise.resolve()}}class gv{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new gv(this.firestore,e,this._query)}}class vv{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new yv(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new vv(this.firestore,e,this._key)}}class yv extends gv{constructor(e,t,n){super(e,t,_d(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new vv(this.firestore,null,new Mu(e))}withConverter(e){return new yv(this.firestore,e,this._path)}}function wv(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=ze(e),cv("collection","path",t),e instanceof mv){const n=Pu.fromString(t,...r);return hv(n),new yv(e,null,n)}{if(!(e instanceof vv||e instanceof yv))throw new gu(mu.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Pu.fromString(t,...r));return hv(n),new yv(e.firestore,null,n)}}function bv(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=ze(e),1===arguments.length&&(t=Su.newId()),cv("doc","path",t),e instanceof mv){const n=Pu.fromString(t,...r);return uv(n),new vv(e,null,new Mu(n))}{if(!(e instanceof vv||e instanceof yv))throw new gu(mu.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Pu.fromString(t,...r));return uv(n),new vv(e.firestore,e instanceof yv?e.converter:null,new Mu(n))}}class _v{constructor(){this.nu=Promise.resolve(),this.ru=[],this.iu=!1,this.su=[],this.ou=null,this._u=!1,this.au=!1,this.uu=[],this.jo=new Em(this,"async_queue_retry"),this.cu=()=>{const e=_m();e&&lu("AsyncQueue","Visibility state changed to "+e.visibilityState),this.jo.Ko()};const e=_m();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.cu)}get isShuttingDown(){return this.iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.lu(),this.hu(e)}enterRestrictedMode(e){if(!this.iu){this.iu=!0,this.au=e||!1;const t=_m();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.cu)}}enqueue(e){if(this.lu(),this.iu)return new Promise((()=>{}));const t=new vu;return this.hu((()=>this.iu&&this.au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.ru.push(e),this.Pu())))}async Pu(){if(0!==this.ru.length){try{await this.ru[0](),this.ru.shift(),this.jo.reset()}catch(e){if(!Xu(e))throw e;lu("AsyncQueue","Operation failed with retryable error: "+e)}this.ru.length>0&&this.jo.qo((()=>this.Pu()))}}hu(e){const t=this.nu.then((()=>(this._u=!0,e().catch((e=>{this.ou=e,this._u=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw cu("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this._u=!1,e))))));return this.nu=t,t}enqueueAfterDelay(e,t,n){this.lu(),this.uu.indexOf(e)>-1&&(t=0);const r=ig.createAndSchedule(this,e,t,n,(e=>this.Iu(e)));return this.su.push(r),r}lu(){this.ou&&du()}verifyOperationInProgress(){}async Tu(){let e;do{e=this.nu,await e}while(e!==this.nu)}Eu(e){for(const t of this.su)if(t.timerId===e)return!0;return!1}du(e){return this.Tu().then((()=>{this.su.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.su)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Tu()}))}Au(e){this.uu.push(e)}Iu(e){const t=this.su.indexOf(e);this.su.splice(t,1)}}class Av extends mv{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new _v,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Iv(this),this._firestoreClient.terminate()}}function Ev(e){return e._firestoreClient||Iv(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function Iv(e){var t,n,r;const i=e._freezeSettings(),s=function(e,t,n,r){return new Ch(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,av(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new Yg(e._authCredentials,e._appCheckCredentials,e._queue,s),(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}class kv{constructor(e){this._byteString=e}static fromBase64String(e){try{return new kv(yh.fromBase64String(e))}catch(e){throw new gu(mu.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new kv(yh.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Cv{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new gu(mu.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ou(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Sv{constructor(e){this._methodName=e}}class Tv{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new gu(mu.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new gu(mu.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Tu(this._lat,e._lat)||Tu(this._long,e._long)}}const Nv=/^__.*__$/;class xv{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new Af(e,this.data,this.fieldMask,t,this.fieldTransforms):new _f(e,this.data,t,this.fieldTransforms)}}class Dv{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new Af(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Rv(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw du()}}class Pv{constructor(e,t,n,r,i,s){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Ru(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Vu(){return this.settings.Vu}mu(e){return new Pv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}fu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.mu({path:n,gu:!1});return r.pu(e),r}yu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.mu({path:n,gu:!1});return r.Ru(),r}wu(e){return this.mu({path:void 0,gu:!0})}Su(e){return Jv(e,this.settings.methodName,this.settings.bu||!1,this.path,this.settings.Du)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}Ru(){if(this.path)for(let e=0;e<this.path.length;e++)this.pu(this.path.get(e))}pu(e){if(0===e.length)throw this.Su("Document fields must not be empty");if(Rv(this.Vu)&&Nv.test(e))throw this.Su('Document fields cannot begin and end with "__"')}}class Lv{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||Am(e)}Cu(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Pv({Vu:e,methodName:t,Du:n,path:Ou.emptyPath(),gu:!1,bu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ov(e){const t=e._freezeSettings(),n=Am(e._databaseId);return new Lv(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Mv(e,t,n,r,i){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const o=e.Cu(s.merge||s.mergeFields?2:0,t,n,i);Qv("Data must be an object, but it was:",o,r);const a=Hv(r,o);let l,c;if(s.merge)l=new gh(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const e=[];for(const r of s.mergeFields){const i=Wv(t,r,n);if(!o.contains(i))throw new gu(mu.INVALID_ARGUMENT,"Field '".concat(i,"' is specified in your field mask but missing from your input data."));Xv(e,i)||e.push(i)}l=new gh(e),c=o.fieldTransforms.filter((e=>l.covers(e.field)))}else l=null,c=o.fieldTransforms;return new xv(new Hh(a),l,c)}class jv extends Sv{_toFieldTransform(e){if(2!==e.Vu)throw 1===e.Vu?e.Su("".concat(this._methodName,"() can only appear at the top level of your update data")):e.Su("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof jv}}function Uv(e,t,n){return new Pv({Vu:3,Du:t.settings.Du,methodName:e._methodName,gu:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class Fv extends Sv{constructor(e,t){super(e),this.vu=t}_toFieldTransform(e){const t=Uv(this,e,!0),n=this.vu.map((e=>zv(e,t))),r=new rf(n);return new hf(e.path,r)}isEqual(e){return e instanceof Fv&&Oe(this.vu,e.vu)}}function Bv(e,t,n,r){const i=e.Cu(1,t,n);Qv("Data must be an object, but it was:",i,r);const s=[],o=Hh.empty();ch(r,((e,r)=>{const a=Gv(t,e,n);r=ze(r);const l=i.yu(a);if(r instanceof jv)s.push(a);else{const e=zv(r,l);null!=e&&(s.push(a),o.set(a,e))}}));const a=new gh(s);return new Dv(o,a,i.fieldTransforms)}function Vv(e,t,n,r,i,s){const o=e.Cu(1,t,n),a=[Wv(t,r,n)],l=[i];if(s.length%2!=0)throw new gu(mu.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(let d=0;d<s.length;d+=2)a.push(Wv(t,s[d])),l.push(s[d+1]);const c=[],u=Hh.empty();for(let d=a.length-1;d>=0;--d)if(!Xv(c,a[d])){const e=a[d];let t=l[d];t=ze(t);const n=o.yu(e);if(t instanceof jv)c.push(e);else{const r=zv(t,n);null!=r&&(c.push(e),u.set(e,r))}}const h=new gh(c);return new Dv(u,h,o.fieldTransforms)}function zv(e,t){if(qv(e=ze(e)))return Qv("Unsupported field value:",t,e),Hv(e,t);if(e instanceof Sv)return function(e,t){if(!Rv(t.Vu))throw t.Su("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.Su("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.gu&&4!==t.Vu)throw t.Su("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=zv(i,t.wu(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=ze(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Yd(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=xu.fromDate(e);return{timestampValue:rp(t.serializer,n)}}if(e instanceof xu){const n=new xu(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:rp(t.serializer,n)}}if(e instanceof Tv)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof kv)return{bytesValue:ip(t.serializer,e._byteString)};if(e instanceof vv){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Su("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:ap(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.Su("Unsupported field value: ".concat(dv(e)))}(e,t)}function Hv(e,t){const n={};return uh(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ch(e,((e,r)=>{const i=zv(r,t.fu(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function qv(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof xu||e instanceof Tv||e instanceof kv||e instanceof vv||e instanceof Sv)}function Qv(e,t,n){if(!qv(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=dv(n);throw"an object"===r?t.Su(e+" a custom object"):t.Su(e+" "+r)}}function Wv(e,t,n){if((t=ze(t))instanceof Cv)return t._internalPath;if("string"==typeof t)return Gv(e,t);throw Jv("Field path arguments must be of type string or ",e,!1,void 0,n)}const Kv=new RegExp("[~\\*/\\[\\]]");function Gv(e,t,n){if(t.search(Kv)>=0)throw Jv("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new Cv(...t.split("."))._internalPath}catch(Xs){throw Jv("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function Jv(e,t,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a="Function ".concat(t,"() called with invalid data");n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=" in field ".concat(r)),o&&(l+=" in document ".concat(i)),l+=")"),new gu(mu.INVALID_ARGUMENT,a+e+l)}function Xv(e,t){return e.some((e=>e.isEqual(t)))}class Yv{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new vv(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Zv(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field($v("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Zv extends Yv{data(){return super.data()}}function $v(e,t){return"string"==typeof t?Gv(e,t):t instanceof Cv?t._internalPath:t._delegate._internalPath}function ey(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new gu(mu.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ty{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Nh(e)){case 0:return null;case 1:return e.booleanValue;case 2:return _h(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ah(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw du()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return ch(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertGeoPoint(e){return new Tv(_h(e.latitude),_h(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Ih(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(kh(e));default:return null}}convertTimestamp(e){const t=bh(e);return new xu(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=Pu.fromString(e);fu(Np(n));const r=new Sh(n.get(1),n.get(3)),i=new Mu(n.popFirst(5));return r.isEqual(t)||cu("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}function ny(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class ry{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class iy extends Yv{constructor(e,t,n,r,i,s){super(e,t,n,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new sy(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field($v("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class sy extends iy{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class oy{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new ry(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new sy(this._firestore,this._userDataWriter,n.key,n,new ry(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new gu(mu.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{const r=new sy(e._firestore,e._userDataWriter,n.doc.key,n.doc,new ry(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new sy(e._firestore,e._userDataWriter,t.doc.key,t.doc,new ry(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,s=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),s=n.indexOf(t.doc.key)),{type:ay(t.type),doc:r,oldIndex:i,newIndex:s}}))}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function ay(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return du()}}function ly(e){e=fv(e,vv);const t=fv(e.firestore,Av);return sv(Ev(t),e._key).then((n=>py(t,e,n)))}class cy extends ty{constructor(e){super(),this.firestore=e}convertBytes(e){return new kv(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new vv(this.firestore,null,t)}}function uy(e){e=fv(e,gv);const t=fv(e.firestore,Av),n=Ev(t),r=new cy(t);return ey(e._query),ov(n,e._query).then((n=>new oy(t,r,e,n)))}function hy(e,t,n){e=fv(e,vv);const r=fv(e.firestore,Av),i=ny(e.converter,t,n);return fy(r,[Mv(Ov(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,ff.none())])}function dy(e,t,n){e=fv(e,vv);const r=fv(e.firestore,Av),i=Ov(r);let s;for(var o=arguments.length,a=new Array(o>3?o-3:0),l=3;l<o;l++)a[l-3]=arguments[l];return s="string"==typeof(t=ze(t))||t instanceof Cv?Vv(i,"updateDoc",e._key,t,n,a):Bv(i,"updateDoc",e._key,t),fy(r,[s.toMutation(e._key,ff.exists(!0))])}function fy(e,t){return function(e,t){const n=new vu;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=Kg(e);try{const e=await function(e,t){const n=pu(e),r=xu.now(),i=t.reduce(((e,t)=>e.add(t.key)),Wd());let s,o;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let a=jd(),l=Wd();return n.os.getEntries(e,i).next((e=>{a=e,a.forEach(((e,t)=>{t.isValidDocument()||(l=l.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,a))).next((i=>{s=i;const o=[];for(const e of t){const t=wf(e,s.get(e.key).overlayedDocument);null!=t&&o.push(new Af(e.key,t,qh(t.value.mapValue),ff.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,o,t)})).next((t=>{o=t;const r=t.applyToLocalDocumentSet(s,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:o.batchId,changes:Bd(s)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Fa[e.currentUser.toKey()];r||(r=new hh(Tu)),r=r.insert(t,n),e.Fa[e.currentUser.toKey()]=r}(r,e.batchId,n),await Hg(r,e.changes),await Qm(r.remoteStore)}catch(e){const t=sg(e,"Failed to persist write");n.reject(t)}}(await rv(e),t,n))),n.promise}(Ev(e),t)}function py(e,t,n){const r=n.docs.get(t._key),i=new cy(e);return new iy(e,i,t._key,r,new ry(n.hasPendingWrites,n.fromCache),t.converter)}function my(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Fv("arrayUnion",t)}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){su=e}(nn),Yt(new He("firestore",((e,n)=>{let{instanceIdentifier:r,options:i}=n;const s=e.getProvider("app").getImmediate(),o=new Av(new _u(e.getProvider("auth-internal")),new ku(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new gu(mu.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Sh(e.options.projectId,t)}(s,r),s);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),on(ru,"4.5.1",e),on(ru,"4.5.1","esm2017")}();const gy="firebasestorage.googleapis.com",vy="storageBucket";class yy extends Re{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;super(_y(e),"Firebase Storage: ".concat(t," (").concat(_y(e),")")),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,yy.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return _y(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}var wy,by;function _y(e){return"storage/"+e}function Ay(){return new yy(wy.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function Ey(){return new yy(wy.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function Iy(){return new yy(wy.CANCELED,"User canceled the upload/download.")}function ky(){return new yy(wy.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Cy(e){return new yy(wy.INVALID_ARGUMENT,e)}function Sy(){return new yy(wy.APP_DELETED,"The Firebase app was deleted.")}function Ty(e,t){return new yy(wy.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function Ny(e){throw new yy(wy.INTERNAL_ERROR,"Internal error: "+e)}!function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(wy||(wy={}));class xy{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=xy.makeFromUrl(e,t)}catch(i){return new xy(e,"")}if(""===n.path)return n;throw r=e,new yy(wy.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.");var r}static makeFromUrl(e,t){let n=null;const r="([A-Za-z0-9.\\-_]+)";const i=new RegExp("^gs://"+r+"(/(.*))?$","i");function s(e){e.path_=decodeURIComponent(e.path)}const o=t.replace(/[.]/g,"\\."),a=[{regex:i,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(o,"/").concat("v[A-Za-z0-9_]+","/b/").concat(r,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:s},{regex:new RegExp("^https?://".concat(t===gy?"(?:storage.googleapis.com|storage.cloud.google.com)":t,"/").concat(r,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:s}];for(let l=0;l<a.length;l++){const t=a[l],r=t.regex.exec(e);if(r){const e=r[t.indices.bucket];let i=r[t.indices.path];i||(i=""),n=new xy(e,i),t.postModify(n);break}}if(null==n)throw function(e){return new yy(wy.INVALID_URL,"Invalid URL '"+e+"'.")}(e);return n}}class Dy{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(){}}function Ry(e){return"string"===typeof e||e instanceof String}function Py(e){return Ly()&&e instanceof Blob}function Ly(){return"undefined"!==typeof Blob}function Oy(e,t,n,r){if(r<t)throw Cy("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw Cy("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function My(e,t,n){let r=t;return null==n&&(r="https://".concat(t)),"".concat(n,"://").concat(r,"/v0").concat(e)}function jy(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1),n}function Uy(e,t){const n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),i=-1!==t.indexOf(e);return n||r||i}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(by||(by={}));class Fy{constructor(e,t,n,r,i,s,o,a,l,c,u){let h=!(arguments.length>11&&void 0!==arguments[11])||arguments[11];this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i,this.additionalRetryCodes_=s,this.callback_=o,this.errorCallback_=a,this.timeout_=l,this.progressCallback_=c,this.connectionFactory_=u,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise(((e,t)=>{this.resolve_=e,this.reject_=t,this.start_()}))}start_(){const e=(e,t)=>{if(t)return void e(!1,new By(!1,null,!0));const n=this.connectionFactory_();this.pendingConnection_=n;const r=e=>{const t=e.loaded,n=e.lengthComputable?e.total:-1;null!==this.progressCallback_&&this.progressCallback_(t,n)};null!==this.progressCallback_&&n.addUploadProgressListener(r),n.send(this.url_,this.method_,this.body_,this.headers_).then((()=>{null!==this.progressCallback_&&n.removeUploadProgressListener(r),this.pendingConnection_=null;const t=n.getErrorCode()===by.NO_ERROR,i=n.getStatus();if(!t||Uy(i,this.additionalRetryCodes_)&&this.retry){const t=n.getErrorCode()===by.ABORT;return void e(!1,new By(!1,null,t))}const s=-1!==this.successCodes_.indexOf(i);e(!0,new By(s,n))}))},t=(e,t)=>{const n=this.resolve_,r=this.reject_,i=t.connection;if(t.wasSuccessCode)try{const e=this.callback_(i,i.getResponse());!function(e){return void 0!==e}(e)?n():n(e)}catch(s){r(s)}else if(null!==i){const e=Ay();e.serverResponse=i.getErrorText(),this.errorCallback_?r(this.errorCallback_(i,e)):r(e)}else if(t.canceled){r(this.appDelete_?Sy():Iy())}else{r(Ey())}};this.canceled_?t(0,new By(!1,null,!0)):this.backoffId_=function(e,t,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return 2===a}let c=!1;function u(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function h(t){i=setTimeout((()=>{i=null,e(f,l())}),t)}function d(){s&&clearTimeout(s)}function f(e){if(c)return void d();for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return d(),void u.call(null,e,...n);if(l()||o)return d(),void u.call(null,e,...n);let s;r<64&&(r*=2),1===a?(a=2,s=0):s=1e3*(r+Math.random()),h(s)}let p=!1;function m(e){p||(p=!0,d(),c||(null!==i?(e||(a=2),clearTimeout(i),h(0)):e||(a=1)))}return h(0),s=setTimeout((()=>{o=!0,m(!0)}),n),m}(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class By{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}function Vy(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function zy(){const e=Vy();for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0!==e){const t=new e;for(let e=0;e<n.length;e++)t.append(n[e]);return t.getBlob()}if(Ly())return new Blob(n);throw new yy(wy.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}function Hy(e){if("undefined"===typeof atob)throw t="base-64",new yy(wy.UNSUPPORTED_ENVIRONMENT,"".concat(t," is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information."));var t;return atob(e)}const qy={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Qy{constructor(e,t){this.data=e,this.contentType=t||null}}function Wy(e,t){switch(e){case qy.RAW:return new Qy(Ky(t));case qy.BASE64:case qy.BASE64URL:return new Qy(Gy(e,t));case qy.DATA_URL:return new Qy(function(e){const t=new Jy(e);return t.base64?Gy(qy.BASE64,t.rest):function(e){let t;try{t=decodeURIComponent(e)}catch(n){throw Ty(qy.DATA_URL,"Malformed data URL.")}return Ky(t)}(t.rest)}(t),new Jy(t).contentType)}throw Ay()}function Ky(e){const t=[];for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r)){if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1))){r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else t.push(239,191,189)}else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function Gy(e,t){switch(e){case qy.BASE64:{const n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r){throw Ty(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?")}break}case qy.BASE64URL:{const n=-1!==t.indexOf("+"),r=-1!==t.indexOf("/");if(n||r){throw Ty(e,"Invalid character '"+(n?"+":"/")+"' found: is it base64 encoded?")}t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=Hy(t)}catch(i){if(i.message.includes("polyfill"))throw i;throw Ty(e,"Invalid character found")}const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}class Jy{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw Ty(qy.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=t[1]||null;null!=n&&(this.base64=function(e,t){if(!(e.length>=t.length))return!1;return e.substring(e.length-t.length)===t}(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=e.substring(e.indexOf(",")+1)}}class Xy{constructor(e,t){let n=0,r="";Py(e)?(this.data_=e,n=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,t){if(Py(this.data_)){const n=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,e,t);return null===n?null:new Xy(n)}{const n=new Uint8Array(this.data_.buffer,e,t-e);return new Xy(n,!0)}}static getBlob(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(Ly()){const e=t.map((e=>e instanceof Xy?e.data_:e));return new Xy(zy.apply(null,e))}{const e=t.map((e=>Ry(e)?Wy(qy.RAW,e).data:e.data_));let n=0;e.forEach((e=>{n+=e.byteLength}));const r=new Uint8Array(n);let i=0;return e.forEach((e=>{for(let t=0;t<e.length;t++)r[i++]=e[t]})),new Xy(r,!0)}}uploadData(){return this.data_}}function Yy(e){let t;try{t=JSON.parse(e)}catch(n){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function Zy(e){const t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function $y(e,t){return t}class ew{constructor(e,t,n,r){this.server=e,this.local=t||e,this.writable=!!n,this.xform=r||$y}}let tw=null;function nw(){if(tw)return tw;const e=[];e.push(new ew("bucket")),e.push(new ew("generation")),e.push(new ew("metageneration")),e.push(new ew("name","fullPath",!0));const t=new ew("name");t.xform=function(e,t){return function(e){return!Ry(e)||e.length<2?e:Zy(e)}(t)},e.push(t);const n=new ew("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new ew("timeCreated")),e.push(new ew("updated")),e.push(new ew("md5Hash",null,!0)),e.push(new ew("cacheControl",null,!0)),e.push(new ew("contentDisposition",null,!0)),e.push(new ew("contentEncoding",null,!0)),e.push(new ew("contentLanguage",null,!0)),e.push(new ew("contentType",null,!0)),e.push(new ew("metadata","customMetadata",!0)),tw=e,tw}function rw(e,t,n){const r={type:"file"},i=n.length;for(let s=0;s<i;s++){const e=n[s];r[e.local]=e.xform(r,t[e.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){const n=e.bucket,r=e.fullPath,i=new xy(n,r);return t._makeStorageReference(i)}})}(r,e),r}function iw(e,t,n){const r=Yy(t);if(null===r)return null;return rw(e,r,n)}function sw(e,t){const n={},r=t.length;for(let i=0;i<r;i++){const r=t[i];r.writable&&(n[r.server]=e[r.local])}return JSON.stringify(n)}class ow{constructor(e,t,n,r){this.url=e,this.method=t,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function aw(e){if(!e)throw Ay()}function lw(e,t){return function(n,r){const i=iw(e,r,t);return aw(null!==i),i}}function cw(e,t){return function(n,r){const i=iw(e,r,t);return aw(null!==i),function(e,t,n,r){const i=Yy(t);if(null===i)return null;if(!Ry(i.downloadTokens))return null;const s=i.downloadTokens;if(0===s.length)return null;const o=encodeURIComponent;return s.split(",").map((t=>{const i=e.bucket,s=e.fullPath;return My("/b/"+o(i)+"/o/"+o(s),n,r)+jy({alt:"media",token:t})}))[0]}(i,r,e.host,e._protocol)}}function uw(e){return function(t,n){let r;var i,s;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new yy(wy.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project."):new yy(wy.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(s=e.bucket,r=new yy(wy.QUOTA_EXCEEDED,"Quota for bucket '"+s+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new yy(wy.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")):r=n,r.status=t.getStatus(),r.serverResponse=n.serverResponse,r}}function hw(e){const t=uw(e);return function(n,r){let i=t(n,r);var s;return 404===n.getStatus()&&(s=e.path,i=new yy(wy.OBJECT_NOT_FOUND,"Object '"+s+"' does not exist.")),i.serverResponse=r.serverResponse,i}}function dw(e,t,n){const r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function fw(e,t,n,r,i){const s=t.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};const a=function(){let e="";for(let t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();o["Content-Type"]="multipart/related; boundary="+a;const l=dw(t,r,i),c="--"+a+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+sw(l,n)+"\r\n--"+a+"\r\nContent-Type: "+l.contentType+"\r\n\r\n",u="\r\n--"+a+"--",h=Xy.getBlob(c,r,u);if(null===h)throw ky();const d={name:l.fullPath},f=My(s,e.host,e._protocol),p=e.maxUploadRetryTime,m=new ow(f,"POST",lw(e,n),p);return m.urlParams=d,m.headers=o,m.body=h.uploadData(),m.errorHandler=uw(t),m}let pw=null;class mw{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=by.NO_ERROR,this.sendPromise_=new Promise((e=>{this.xhr_.addEventListener("abort",(()=>{this.errorCode_=by.ABORT,e()})),this.xhr_.addEventListener("error",(()=>{this.errorCode_=by.NETWORK_ERROR,e()})),this.xhr_.addEventListener("load",(()=>{e()}))}))}send(e,t,n,r){if(this.sent_)throw Ny("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(const i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Ny("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Ny("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}getResponse(){if(!this.sent_)throw Ny("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Ny("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class gw extends mw{initXhr(){this.xhr_.responseType="text"}}function vw(){return pw?pw():new gw}class yw{constructor(e,t){this._service=e,this._location=t instanceof xy?t:xy.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new yw(e,t)}get root(){const e=new xy(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Zy(this._location.path)}get storage(){return this._service}get parent(){const e=function(e){if(0===e.length)return null;const t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===e)return null;const t=new xy(this._location.bucket,e);return new yw(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw function(e){return new yy(wy.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function ww(e,t,n){e._throwIfRoot("uploadBytes");const r=fw(e.storage,e._location,nw(),new Xy(t,!0),n);return e.storage.makeRequestWithTokens(r,vw).then((t=>({metadata:t,ref:e})))}function bw(e){e._throwIfRoot("getDownloadURL");const t=function(e,t,n){const r=My(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,s=new ow(r,"GET",cw(e,n),i);return s.errorHandler=hw(t),s}(e.storage,e._location,nw());return e.storage.makeRequestWithTokens(t,vw).then((e=>{if(null===e)throw new yy(wy.NO_DOWNLOAD_URL,"The given file does not have any download URLs.");return e}))}function _w(e,t){const n=function(e,t){const n=t.split("/").filter((e=>e.length>0)).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new xy(e._location.bucket,n);return new yw(e.storage,r)}function Aw(e,t){if(e instanceof kw){const n=e;if(null==n._bucket)throw new yy(wy.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+vy+"' property when initializing the app?");const r=new yw(n,n._bucket);return null!=t?Aw(r,t):r}return void 0!==t?_w(e,t):e}function Ew(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof kw)return new yw(e,t);throw Cy("To use ref(service, url), the first argument must be a Storage instance.")}return Aw(e,t)}function Iw(e,t){const n=null===t||void 0===t?void 0:t[vy];return null==n?null:xy.makeFromBucketSpec(n,e)}class kw{constructor(e,t,n,r,i){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=r,this._firebaseVersion=i,this._bucket=null,this._host=gy,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?xy.makeFromBucketSpec(r,this._host):Iw(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,null!=this._url?this._bucket=xy.makeFromBucketSpec(this._url,e):this._bucket=Iw(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Oy("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Oy("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(null!==t)return t.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});if(e){return(await e.getToken()).token}return null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach((e=>e.cancel())),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new yw(this,e)}_makeRequest(e,t,n,r){let i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new Dy(Sy());{const s=function(e,t,n,r,i,s){let o=!(arguments.length>6&&void 0!==arguments[6])||arguments[6];const a=jy(e.urlParams),l=e.url+a,c=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(c,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(c,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(c,s),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(c,r),new Fy(l,e.method,c,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,o)}(e,this._appId,n,r,t,this._firebaseVersion,i);return this._requests.add(s),s.getPromise().then((()=>this._requests.delete(s)),(()=>this._requests.delete(s))),s}}async makeRequestWithTokens(e,t){const[n,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,r).getPromise()}}const Cw="@firebase/storage",Sw="0.12.3",Tw="storage";function Nw(e,t,n){return ww(e=ze(e),t,n)}function xw(e){return bw(e=ze(e))}function Dw(e,t){return Ew(e=ze(e),t)}function Rw(e,t){let{instanceIdentifier:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return new kw(r,i,s,n,nn)}Yt(new He(Tw,Rw,"PUBLIC").setMultipleInstances(!0)),on(Cw,Sw,""),on(Cw,Sw,"esm2017");const Pw=rn({apiKey:"AIzaSyBB9PBpKqJzvF9nYgwqq-JIPxqeDQ9bNs8",authDomain:"kurs-cfd0b.firebaseapp.com",projectId:"kurs-cfd0b",storageBucket:"kurs-cfd0b.appspot.com",messagingSenderId:"559322920253",appId:"1:559322920253:web:cd53aa6a2c315e4aa08154",measurementId:"G-6NDLF8VNKK"}),Lw=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:sn();const t=Zt(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=Zt(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(Oe(n.getOptions(),null!==t&&void 0!==t?t:{}))return e;kn(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:xs,persistence:[Fi,Ai,Ii]}),r=Ce("authTokenSyncURL");if(r&&"boolean"===typeof isSecureContext&&isSecureContext){const e=new URL(r,location.origin);if(location.origin===e.origin){const t=(i=e.toString(),async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>Ls)return;const r=null===t||void 0===t?void 0:t.token;Os!==r&&(Os=r,await fetch(i,{method:r?"POST":"DELETE",headers:r?{Authorization:"Bearer ".concat(r)}:{}}))});!function(e,t,n){ze(e).beforeAuthStateChanged(t,n)}(n,t,(()=>t(n.currentUser))),function(e,t,n,r){ze(e).onIdTokenChanged(t,n,r)}(n,(e=>t(e)))}}var i;const s=Ee("auth");return s&&Vr(n,"http://".concat(s)),n}(Pw),Ow=function(e,t){const n="string"==typeof e?e:t||"(default)",r=Zt("object"==typeof e?e:sn(),"firestore").getImmediate({identifier:n});if(!r._initialized){const e=Ie("firestore");e&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;const s=(e=fv(e,mv))._getSettings(),o="".concat(t,":").concat(n);if("firestore.googleapis.com"!==s.host&&s.host!==o&&uu("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=iu.MOCK_USER;else{t=Te(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new gu(mu.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new iu(s)}e._authCredentials=new bu(new yu(t,n))}}(r,...e)}return r}(Pw),Mw=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:sn(),t=arguments.length>1?arguments[1]:void 0;e=ze(e);const n=Zt(e,Tw).getImmediate({identifier:t}),r=Ie("storage");return r&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host="".concat(t,":").concat(n),e._protocol="http";const{mockUserToken:i}=r;i&&(e._overrideAuthToken="string"===typeof i?i:Te(i,e.app.options.projectId))}(e,t,n,r)}(n,...r),n}(Pw),jw=(Dw(Mw),{navbar:"navbar_navbar__o9J1P",headerAdvertise:"navbar_headerAdvertise__O0BEF",menuLinkCatalog:"navbar_menuLinkCatalog__QvHlQ",navbarLine:"navbar_navbarLine__LUTZT",navbarLogo:"navbar_navbarLogo__SWaHq",navbarTitle:"navbar_navbarTitle__ZdFBZ",navbarTitleS:"navbar_navbarTitleS__RZZOZ",navbarTitleB:"navbar_navbarTitleB__b1x9p",navbarMenu:"navbar_navbarMenu__ONzcG",menuLink:"navbar_menuLink__891n6",menuLinkText:"navbar_menuLinkText__ucLHB",menuLinkSvg:"navbar_menuLinkSvg__0hQJT",menuLinkSvgA:"navbar_menuLinkSvgA__O1SAm",navbarAddLink:"navbar_navbarAddLink__jLjYr"});var Uw=n(950),Fw=n.t(Uw,2);function Bw(){return Bw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Bw.apply(this,arguments)}function Vw(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const zw=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"];try{window.__reactRouterVersion="6"}catch(Cb){}new Map;const Hw=r.startTransition;Fw.flushSync,r.useId;function qw(e){let{basename:n,children:r,future:i,window:s}=e,o=t.useRef();var a;null==o.current&&(o.current=(void 0===(a={window:s,v5Compat:!0})&&(a={}),f((function(e,t){let{pathname:n,search:r,hash:i}=e.location;return u("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:h(t)}),null,a)));let l=o.current,[c,d]=t.useState({action:l.action,location:l.location}),{v7_startTransition:p}=i||{},m=t.useCallback((e=>{p&&Hw?Hw((()=>d(e))):d(e)}),[d,p]);return t.useLayoutEffect((()=>l.listen(m)),[l,m]),t.createElement(fe,{basename:n,children:r,location:c.location,navigationType:c.action,navigator:l,future:i})}const Qw="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Ww=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Kw=t.forwardRef((function(e,n){let r,{onClick:i,relative:s,reloadDocument:o,replace:l,state:c,target:u,to:d,preventScrollReset:f,unstable_viewTransition:p}=e,m=Vw(e,zw),{basename:g}=t.useContext(q),v=!1;if("string"===typeof d&&Ww.test(d)&&(r=d,Qw))try{let e=new URL(window.location.href),t=d.startsWith("//")?new URL(e.protocol+d):new URL(d),n=N(t.pathname,g);t.origin===e.origin&&null!=n?d=n+t.search+t.hash:v=!0}catch(Cb){}let y=function(e,n){let{relative:r}=void 0===n?{}:n;G()||a(!1);let{basename:i,navigator:s}=t.useContext(q),{hash:o,pathname:l,search:c}=Z(e,{relative:r}),u=l;return"/"!==i&&(u="/"===l?i:L([i,l])),s.createHref({pathname:u,search:c,hash:o})}(d,{relative:s}),w=function(e,n){let{target:r,replace:i,state:s,preventScrollReset:o,relative:a,unstable_viewTransition:l}=void 0===n?{}:n,c=Y(),u=J(),d=Z(e,{relative:a});return t.useCallback((t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,r)){t.preventDefault();let n=void 0!==i?i:h(u)===h(d);c(e,{replace:n,state:s,preventScrollReset:o,relative:a,unstable_viewTransition:l})}}),[u,c,d,i,s,r,e,o,a,l])}(d,{replace:l,state:c,target:u,preventScrollReset:f,relative:s,unstable_viewTransition:p});return t.createElement("a",Bw({},m,{href:r||y,onClick:v||o?i:function(e){i&&i(e),e.defaultPrevented||w(e)},ref:n,target:u}))}));var Gw,Jw;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Gw||(Gw={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Jw||(Jw={}));const Xw={btn:"style_btn__ui31q",btnSvg:"style_btnSvg__4Q2Ie",btnText:"style_btnText__g-COr",noAuth:"style_noAuth__TdvuD",noAuthInfo:"style_noAuthInfo__mWcam",noAuthTitle:"style_noAuthTitle__1Cryt",noAuthSvg:"style_noAuthSvg__3FX-Z"};var Yw=n(579);function Zw(){const[e,n]=(0,t.useState)(!1);(0,t.useEffect)((()=>{const e=Lw.onAuthStateChanged((e=>{n(!!e)}));return()=>e()}),[]);return(0,Yw.jsx)("div",{children:e?(0,Yw.jsxs)("div",{onClick:async()=>{try{await function(e){return ze(e).signOut()}(Lw),console.log("\u0412\u044b\u0445\u043e\u0434 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d \u0443\u0441\u043f\u0435\u0448\u043d\u043e")}catch(e){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0432\u044b\u0445\u043e\u0434\u0435:",e.message)}},className:Xw.btn,children:[(0,Yw.jsx)("svg",{className:Xw.btnSvg,width:"800px",height:"800px",viewBox:"0 0 21 21",xmlns:"http://www.w3.org/2000/svg",children:(0,Yw.jsxs)("g",{className:Xw.btnSvg,fill:"none","fill-rule":"evenodd",stroke:"#000000","stroke-linecap":"round","stroke-linejoin":"round",transform:"translate(4 3)",children:[(0,Yw.jsx)("path",{className:Xw.btnSvg,d:"m10.595 10.5 2.905-3-2.905-3"}),(0,Yw.jsx)("path",{className:Xw.btnSvg,d:"m13.5 7.5h-9"}),(0,Yw.jsx)("path",{className:Xw.btnSvg,d:"m10.5.5-8 .00224609c-1.1043501.00087167-1.9994384.89621131-2 2.00056153v9.99438478c0 1.1045695.8954305 2 2 2h8.0954792"})]})}),(0,Yw.jsx)("p",{className:Xw.btnText,children:"\u0412\u044b\u0439\u0442\u0438"})]}):(0,Yw.jsx)("div",{className:Xw.noAuth,children:(0,Yw.jsxs)("div",{className:Xw.noAuthInfo,children:[(0,Yw.jsx)("p",{className:Xw.noAuthTitle,children:"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0438\u0440\u0443\u0439\u0442\u0435\u0441\u044c"}),(0,Yw.jsxs)("svg",{className:Xw.noAuthSvg,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,Yw.jsx)("path",{className:Xw.noAuthSvg,d:"M2 16C2 13.1716 2 11.7574 2.87868 10.8787C3.75736 10 5.17157 10 8 10H16C18.8284 10 20.2426 10 21.1213 10.8787C22 11.7574 22 13.1716 22 16C22 18.8284 22 20.2426 21.1213 21.1213C20.2426 22 18.8284 22 16 22H8C5.17157 22 3.75736 22 2.87868 21.1213C2 20.2426 2 18.8284 2 16Z",stroke:"#1C274C","stroke-width":"1.5"}),(0,Yw.jsx)("path",{className:Xw.noAuthSvg,d:"M6 10V8C6 4.68629 8.68629 2 12 2C15.3137 2 18 4.68629 18 8V10",stroke:"#1C274C","stroke-width":"1.5","stroke-linecap":"round"}),(0,Yw.jsx)("path",{className:Xw.noAuthSvg,d:"M8 16H8.009M11.991 16H12M15.991 16H16",stroke:"#1C274C","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})]})]})})})}function $w(){const[e,n]=(0,t.useState)("");(0,t.useEffect)((()=>Lw.onAuthStateChanged((async e=>{if(e)try{const t=e.uid,r=bv(Ow,"users",t),i=await ly(r);if(i.exists()){const e=i.data();console.log("UserData:",e),n(e.role||"")}else console.log("User document does not exist")}catch(t){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0438 \u0434\u0430\u043d\u043d\u044b\u0445 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f:",t.message)}else console.log("User is not authenticated"),n("")}))),[]);return(0,Yw.jsxs)("div",{className:jw.navbar,children:[(0,Yw.jsxs)("div",{className:jw.navbarLogo,children:[(0,Yw.jsxs)(Kw,{to:"/catalog",className:jw.navbarTitle,children:[(0,Yw.jsx)("b",{className:jw.navbarTitleS,children:"\u041a\u0443\u0440\u0441\u043e"}),"\u0411\u0430\u0437\u0430\u0440"]}),(0,Yw.jsx)(Kw,{to:"/catalog",className:jw.navbarTitleB,children:"\u0412\u0435\u0440\u0441\u0438\u044f 1.1"})]}),(0,Yw.jsx)("div",{className:jw.navbarLine}),(0,Yw.jsxs)("nav",{className:jw.navbarMenu,children:[(0,Yw.jsxs)(Kw,{to:"/profile",className:jw.menuLink,children:[(0,Yw.jsxs)("svg",{className:jw.menuLinkSvg,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,Yw.jsx)("path",{className:jw.menuLinkSvg,d:"M12.12 12.78C12.05 12.77 11.96 12.77 11.88 12.78C10.12 12.72 8.71997 11.28 8.71997 9.50998C8.71997 7.69998 10.18 6.22998 12 6.22998C13.81 6.22998 15.28 7.69998 15.28 9.50998C15.27 11.28 13.88 12.72 12.12 12.78Z",stroke:"#292D32","stroke-width":"1.2","stroke-linecap":"round","stroke-linejoin":"round"}),(0,Yw.jsx)("path",{className:jw.menuLinkSvg,d:"M18.74 19.3801C16.96 21.0101 14.6 22.0001 12 22.0001C9.40001 22.0001 7.04001 21.0101 5.26001 19.3801C5.36001 18.4401 5.96001 17.5201 7.03001 16.8001C9.77001 14.9801 14.25 14.9801 16.97 16.8001C18.04 17.5201 18.64 18.4401 18.74 19.3801Z",stroke:"#292D32","stroke-width":"1.2","stroke-linecap":"round","stroke-linejoin":"round"}),(0,Yw.jsx)("path",{className:jw.menuLinkSvg,d:"M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z",stroke:"#292D32","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})]}),(0,Yw.jsx)("p",{className:jw.menuLinkText,children:"\u041f\u0440\u043e\u0444\u0438\u043b\u044c"})]}),"moder"===e&&(0,Yw.jsxs)(Kw,{to:"/moder",className:jw.menuLink,children:[(0,Yw.jsx)("svg",{className:jw.menuLinkSvgA,viewBox:"0 0 32 32",version:"1.1",xmlns:"http://www.w3.org/2000/svg",children:(0,Yw.jsx)("path",{className:jw.menuLinkSvgA,d:"M29 12.256h-1.88c-0.198-0.585-0.405-1.072-0.643-1.541l0.031 0.067 1.338-1.324c0.35-0.3 0.57-0.742 0.57-1.236 0-0.406-0.149-0.778-0.396-1.063l0.002 0.002-3.178-3.178c-0.283-0.246-0.654-0.395-1.061-0.395-0.494 0-0.937 0.221-1.234 0.57l-0.002 0.002-1.332 1.33c-0.402-0.206-0.888-0.413-1.39-0.586l-0.082-0.025 0.009-1.88c0.003-0.040 0.005-0.086 0.005-0.133 0-0.854-0.66-1.554-1.498-1.617l-0.005-0h-4.496c-0.844 0.063-1.505 0.763-1.505 1.617 0 0.047 0.002 0.093 0.006 0.139l-0-0.006v1.879c-0.585 0.198-1.071 0.404-1.54 0.641l0.067-0.031-1.324-1.336c-0.299-0.352-0.742-0.573-1.236-0.573-0.407 0-0.778 0.15-1.063 0.397l0.002-0.002-3.179 3.179c-0.246 0.283-0.396 0.655-0.396 1.061 0 0.494 0.221 0.937 0.57 1.234l0.002 0.002 1.329 1.329c-0.207 0.403-0.414 0.891-0.587 1.395l-0.024 0.082-1.88-0.009c-0.040-0.003-0.086-0.005-0.133-0.005-0.854 0-1.554 0.661-1.617 1.499l-0 0.005v4.495c0.062 0.844 0.763 1.505 1.617 1.505 0.047 0 0.093-0.002 0.139-0.006l-0.006 0h1.88c0.198 0.585 0.404 1.072 0.642 1.541l-0.030-0.066-1.335 1.32c-0.351 0.3-0.572 0.744-0.572 1.239 0 0.407 0.149 0.779 0.396 1.064l-0.002-0.002 3.179 3.178c0.249 0.246 0.591 0.399 0.97 0.399 0.007 0 0.014-0 0.021-0h-0.001c0.515-0.013 0.977-0.231 1.308-0.576l0.001-0.001 1.33-1.33c0.403 0.207 0.891 0.414 1.395 0.587l0.082 0.025-0.009 1.878c-0.003 0.040-0.005 0.086-0.005 0.132 0 0.854 0.661 1.555 1.499 1.617l0.005 0h4.496c0.843-0.064 1.503-0.763 1.503-1.617 0-0.047-0.002-0.093-0.006-0.139l0 0.006v-1.881c0.585-0.198 1.073-0.405 1.543-0.643l-0.067 0.031 1.321 1.333c0.332 0.344 0.793 0.562 1.304 0.574l0.002 0h0.002c0.006 0 0.013 0 0.019 0 0.378 0 0.72-0.151 0.971-0.395l3.177-3.177c0.244-0.249 0.395-0.591 0.395-0.968 0-0.009-0-0.017-0-0.026l0 0.001c-0.012-0.513-0.229-0.973-0.572-1.304l-0.001-0.001-1.331-1.332c0.206-0.401 0.412-0.887 0.586-1.389l0.025-0.083 1.879 0.009c0.040 0.003 0.086 0.005 0.132 0.005 0.855 0 1.555-0.661 1.617-1.5l0-0.005v-4.495c-0.063-0.844-0.763-1.504-1.618-1.504-0.047 0-0.093 0.002-0.138 0.006l0.006-0zM29.004 18.25l-2.416-0.012c-0.020 0-0.037 0.010-0.056 0.011-0.198 0.024-0.372 0.115-0.501 0.249l-0 0c-0.055 0.072-0.103 0.153-0.141 0.24l-0.003 0.008c-0.005 0.014-0.016 0.024-0.020 0.039-0.24 0.844-0.553 1.579-0.944 2.264l0.026-0.049c-0.054 0.1-0.086 0.218-0.086 0.344 0 0.001 0 0.003 0 0.004v-0c-0 0.016 0.003 0.028 0.004 0.045 0.006 0.187 0.080 0.355 0.199 0.481l-0-0 0.009 0.023 1.707 1.709c0.109 0.109 0.137 0.215 0.176 0.176l-3.102 3.133c-0.099-0.013-0.186-0.061-0.248-0.13l-0-0-1.697-1.713c-0.008-0.009-0.022-0.005-0.030-0.013-0.121-0.112-0.28-0.183-0.456-0.193l-0.002-0c-0.020-0.003-0.044-0.005-0.068-0.006l-0.001-0c-0.125 0-0.243 0.032-0.345 0.088l0.004-0.002c-0.636 0.362-1.373 0.676-2.146 0.903l-0.074 0.019c-0.015 0.004-0.025 0.015-0.039 0.020-0.096 0.042-0.179 0.092-0.255 0.149l0.003-0.002c-0.035 0.034-0.066 0.071-0.093 0.11l-0.002 0.002c-0.027 0.033-0.053 0.070-0.075 0.11l-0.002 0.004c-0.033 0.081-0.059 0.175-0.073 0.274l-0.001 0.007c-0.001 0.016-0.010 0.031-0.010 0.047v2.412c0 0.15-0.055 0.248 0 0.25l-4.41 0.023c-0.052-0.067-0.084-0.153-0.084-0.246 0-0.008 0-0.016 0.001-0.024l-0 0.001 0.012-2.412c0-0.017-0.008-0.032-0.010-0.048-0.005-0.053-0.015-0.102-0.030-0.149l0.001 0.005c-0.012-0.053-0.028-0.1-0.048-0.145l0.002 0.005c-0.052-0.086-0.109-0.16-0.173-0.227l0 0c-0.029-0.024-0.062-0.046-0.096-0.066l-0.004-0.002c-0.044-0.030-0.093-0.056-0.146-0.076l-0.005-0.002c-0.014-0.005-0.024-0.016-0.039-0.020-0.847-0.241-1.585-0.554-2.272-0.944l0.051 0.026c-0.099-0.054-0.216-0.086-0.341-0.086h-0c-0.022-0.001-0.040 0.004-0.062 0.005-0.18 0.008-0.342 0.080-0.465 0.193l0.001-0c-0.008 0.008-0.021 0.004-0.029 0.012l-1.705 1.705c-0.107 0.107-0.216 0.139-0.178 0.178l-3.134-3.101c0.012-0.1 0.060-0.187 0.13-0.25l0-0 1.714-1.695 0.011-0.026c0.115-0.123 0.189-0.286 0.197-0.466l0-0.002c0.001-0.021 0.005-0.037 0.005-0.058 0-0.001 0-0.002 0-0.003 0-0.126-0.032-0.245-0.088-0.348l0.002 0.004c-0.365-0.636-0.679-1.371-0.903-2.145l-0.018-0.072c-0.004-0.015-0.016-0.026-0.021-0.041-0.042-0.094-0.090-0.176-0.146-0.25l0.002 0.003c-0.065-0.061-0.136-0.117-0.212-0.165l-0.006-0.003c-0.051-0.025-0.109-0.045-0.171-0.057l-0.005-0.001c-0.029-0.009-0.065-0.016-0.102-0.021l-0.004-0c-0.020-0.002-0.037-0.012-0.058-0.012h-2.412c-0.152 0.002-0.248-0.055-0.25-0.002l-0.022-4.409c0.067-0.052 0.151-0.084 0.244-0.084 0.009 0 0.017 0 0.026 0.001l-0.001-0 2.416 0.012c0.152-0.004 0.292-0.054 0.407-0.136l-0.002 0.002c0.024-0.014 0.044-0.028 0.064-0.043l-0.002 0.001c0.109-0.088 0.191-0.206 0.235-0.341l0.001-0.005c0.003-0.010 0.014-0.014 0.017-0.025 0.242-0.847 0.555-1.583 0.946-2.27l-0.026 0.050c0.054-0.1 0.086-0.218 0.086-0.344 0-0.001 0-0.001 0-0.002v0c0.001-0.019-0.003-0.033-0.004-0.052-0.007-0.184-0.080-0.35-0.197-0.475l0 0-0.010-0.024-1.705-1.705c-0.108-0.11-0.142-0.221-0.176-0.178l3.102-3.134c0.101 0.008 0.189 0.058 0.248 0.131l0.001 0.001 1.697 1.713c0.018 0.018 0.046 0.011 0.065 0.027 0.125 0.121 0.295 0.196 0.483 0.196 0.13 0 0.251-0.036 0.355-0.098l-0.003 0.002c0.636-0.364 1.372-0.677 2.145-0.902l0.072-0.018c0.014-0.004 0.024-0.015 0.038-0.019 0.057-0.021 0.105-0.047 0.151-0.077l-0.003 0.002c0.163-0.090 0.281-0.244 0.321-0.427l0.001-0.004c0.014-0.043 0.025-0.093 0.030-0.145l0-0.003c0.001-0.016 0.009-0.030 0.009-0.046v-2.412c0-0.151 0.056-0.249 0.001-0.25l4.41-0.023c0.052 0.067 0.083 0.152 0.083 0.245 0 0.009-0 0.017-0.001 0.026l0-0.001-0.012 2.412c-0 0.016 0.008 0.030 0.009 0.047 0.005 0.055 0.015 0.106 0.031 0.155l-0.001-0.005c0.071 0.234 0.243 0.419 0.464 0.506l0.005 0.002c0.014 0.005 0.025 0.016 0.039 0.020 0.845 0.242 1.58 0.555 2.265 0.945l-0.050-0.026c0.105 0.060 0.231 0.096 0.366 0.096 0 0 0.001 0 0.001 0h-0c0.183-0.008 0.347-0.082 0.471-0.198l-0 0c0.017-0.015 0.043-0.008 0.059-0.024l1.709-1.705c0.105-0.106 0.213-0.137 0.176-0.176l3.133 3.102c-0.012 0.1-0.059 0.186-0.129 0.249l-0 0-1.715 1.697-0.011 0.026c-0.116 0.123-0.19 0.287-0.198 0.468l-0 0.002c-0.001 0.020-0.005 0.036-0.005 0.056 0 0.001 0 0.002 0 0.003 0 0.126 0.032 0.245 0.088 0.348l-0.002-0.004c0.365 0.636 0.679 1.371 0.902 2.144l0.018 0.071c0.003 0.012 0.016 0.017 0.019 0.028 0.046 0.137 0.127 0.253 0.232 0.339l0.001 0.001c0.019 0.015 0.041 0.030 0.063 0.043l0.003 0.002c0.112 0.080 0.252 0.13 0.402 0.134l0.001 0h2.412c0.152-0.001 0.248 0.057 0.25 0.001l0.021 4.409c-0.065 0.053-0.149 0.085-0.24 0.085-0.010 0-0.019-0-0.029-0.001l0.001 0zM16 11.25c-2.623 0-4.75 2.127-4.75 4.75s2.127 4.75 4.75 4.75c2.623 0 4.75-2.127 4.75-4.75v0c-0.003-2.622-2.128-4.747-4.75-4.75h-0zM16 19.25c-1.795 0-3.25-1.455-3.25-3.25s1.455-3.25 3.25-3.25c1.795 0 3.25 1.455 3.25 3.25v0c-0.002 1.794-1.456 3.248-3.25 3.25h-0z"})}),(0,Yw.jsx)("p",{className:jw.menuLinkText,children:"\u041c\u043e\u0434\u0435\u0440\u0430\u0446\u0438\u044f"})]}),(0,Yw.jsxs)(Kw,{to:"/catalog",className:jw.menuLinkCatalog,children:[(0,Yw.jsx)("svg",{className:jw.menuLinkSvgA,fill:"#000000",width:"800px",height:"800px",viewBox:"0 0 32 32",version:"1.1",xmlns:"http://www.w3.org/2000/svg",children:(0,Yw.jsx)("path",{className:jw.menuLinkSvgA,d:"M12 1.25h-8c-1.518 0.002-2.748 1.232-2.75 2.75v8c0.002 1.518 1.232 2.748 2.75 2.75h8c1.518-0.002 2.748-1.232 2.75-2.75v-8c-0.002-1.518-1.232-2.748-2.75-2.75h-0zM13.25 12c-0.001 0.69-0.56 1.249-1.25 1.25h-8c-0.69-0.001-1.249-0.56-1.25-1.25v-8c0.001-0.69 0.56-1.249 1.25-1.25h8c0.69 0.001 1.249 0.56 1.25 1.25v0zM12 17.25h-8c-1.518 0.002-2.748 1.232-2.75 2.75v8c0.002 1.518 1.232 2.748 2.75 2.75h8c1.518-0.002 2.748-1.232 2.75-2.75v-8c-0.002-1.518-1.232-2.748-2.75-2.75h-0zM13.25 28c-0.001 0.69-0.56 1.249-1.25 1.25h-8c-0.69-0.001-1.249-0.56-1.25-1.25v-8c0.001-0.69 0.56-1.249 1.25-1.25h8c0.69 0.001 1.249 0.56 1.25 1.25v0zM28 1.25h-8c-1.518 0.002-2.748 1.232-2.75 2.75v8c0.002 1.518 1.232 2.748 2.75 2.75h8c1.518-0.002 2.748-1.232 2.75-2.75v-8c-0.002-1.518-1.232-2.748-2.75-2.75h-0zM29.25 12c-0.001 0.69-0.56 1.249-1.25 1.25h-8c-0.69-0.001-1.249-0.56-1.25-1.25v-8c0.001-0.69 0.56-1.249 1.25-1.25h8c0.69 0.001 1.249 0.56 1.25 1.25v0zM28 17.25h-8c-1.518 0.002-2.748 1.232-2.75 2.75v8c0.002 1.518 1.232 2.748 2.75 2.75h8c1.518-0.002 2.748-1.232 2.75-2.75v-8c-0.002-1.518-1.232-2.748-2.75-2.75h-0zM29.25 28c-0.001 0.69-0.56 1.249-1.25 1.25h-8c-0.69-0.001-1.249-0.56-1.25-1.25v-8c0.001-0.69 0.56-1.249 1.25-1.25h8c0.69 0.001 1.249 0.56 1.25 1.25v0z"})}),(0,Yw.jsx)("p",{className:jw.menuLinkText,children:"\u041a\u0430\u0442\u0430\u043b\u043e\u0433"})]}),(0,Yw.jsx)(Kw,{to:"/additem",className:jw.navbarAddLink,children:"\u0420\u0430\u0437\u043c\u0435\u0441\u0442\u0438\u0442\u044c \u043a\u0443\u0440\u0441"}),(0,Yw.jsx)(Zw,{})]}),(0,Yw.jsx)("p",{className:jw.headerAdvertise,onClick:()=>{window.open("mailto:misavasin228@gmail.com")},children:"\u0425\u043e\u0442\u0438\u0442\u0435 \u0440\u0435\u043a\u043b\u0430\u043c\u0443? \u041d\u0430\u043f\u0438\u0448\u0438\u0442\u0435 \u043d\u0430\u043c!"}),(0,Yw.jsx)("div",{className:jw.navbarLine})]})}const eb={home:"home_home__-+X5m",carts:"home_carts__vfrmn",categorieBtn:"home_categorieBtn__PKdFs",categories:"home_categories__cJqpv",categorie:"home_categorie__-g1Dc",categorieIcon:"home_categorieIcon__wVYcd",selected:"home_selected__gx85v"},tb={cart:"cart_cart__J00o2",cartInfo:"cart_cartInfo__Op8K1",cartInfoText:"cart_cartInfoText__eiagV",cartData:"cart_cartData__JyEBx",cartDataA:"cart_cartDataA__3u0wO",cartDataB:"cart_cartDataB__p7nY0",cartDataSvg:"cart_cartDataSvg__f4kib",cartDataSvgB:"cart_cartDataSvgB__eTv+F",cartDataText:"cart_cartDataText__QTdI4",cartDataTextA:"cart_cartDataTextA__YqEH7",buyBtn:"cart_buyBtn__VfBIY",cartImg:"cart_cartImg__cshW4",cartModalPhone:"cart_cartModalPhone__OcJaA",cartImgTitle:"cart_cartImgTitle__u8c8k",cartImgPrice:"cart_cartImgPrice__uwMR5",cartImgBuy:"cart_cartImgBuy__W-rHy",cartImgDel:"cart_cartImgDel__Zrt9p",modalBackdrop:"cart_modalBackdrop__Cjzyc",modalContent:"cart_modalContent__iwkOS",modalContentDel:"cart_modalContentDel__TxJKB",close:"cart_close__IJp4Z",modalContentTitle:"cart_modalContentTitle__-1hZs",modalContentDesc:"cart_modalContentDesc__ayW4b",cartmodalContentTitle:"cart_cartmodalContentTitle__nWzg7",cartBtnPd:"cart_cartBtnPd__arpR9",modalUp:"cart_modalUp__Ma-+z",modalUpImg:"cart_modalUpImg__p7qga",modalUpInfo:"cart_modalUpInfo__KW381",modalUpInfoPrice:"cart_modalUpInfoPrice__GCH6J",modalUpInfoTitle:"cart_modalUpInfoTitle__BgIgY",modalUpData:"cart_modalUpData__FvGW1",modalUpDataSvg:"cart_modalUpDataSvg__G3uaO",modalUpDataText:"cart_modalUpDataText__53bU3",modalUpInfoBtn:"cart_modalUpInfoBtn__-rzvy",modalUpDesc:"cart_modalUpDesc__dpbhY",modalUpDescTitle:"cart_modalUpDescTitle__I5zHa",modalUpDescDesc:"cart_modalUpDescDesc__z7skk"};function nb(e){let{id:n,course:r,title:i,desc:s,price:o,date:a,photo:l,phoneNumber:c,onDelete:u,isOwner:h,onApprove:d,isModer:f,level:p,type:m,category:g,handleBuyCourse:v}=e;const[y,w]=(0,t.useState)(!1),[b,_]=(0,t.useState)(!1),A=()=>{w(!0)},E=()=>{_(!1)};return(0,Yw.jsxs)("div",{className:tb.c,children:[(0,Yw.jsxs)("div",{className:tb.cart,children:[(0,Yw.jsx)("img",{onClick:A,className:tb.cartImg,src:l,alt:""}),(0,Yw.jsxs)("div",{onClick:A,className:tb.cartInfo,children:[(0,Yw.jsx)("div",{className:tb.cartData,children:(0,Yw.jsxs)("div",{className:tb.cartDataB,children:[(0,Yw.jsx)("svg",{className:tb.cartDataSvgB,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,Yw.jsx)("path",{className:tb.cartDataSvgB,"fill-rule":"evenodd","clip-rule":"evenodd",d:"M7 1.75C7.41421 1.75 7.75 2.08579 7.75 2.5V3.26272C8.41203 3.24999 9.1414 3.24999 9.94358 3.25H14.0564C14.8586 3.24999 15.588 3.24999 16.25 3.26272V2.5C16.25 2.08579 16.5858 1.75 17 1.75C17.4142 1.75 17.75 2.08579 17.75 2.5V3.32709C18.0099 3.34691 18.2561 3.37182 18.489 3.40313C19.6614 3.56076 20.6104 3.89288 21.3588 4.64124C22.1071 5.38961 22.4392 6.33855 22.5969 7.51098C22.6472 7.88567 22.681 8.29459 22.7037 8.74007C22.7337 8.82106 22.75 8.90861 22.75 9C22.75 9.06932 22.7406 9.13644 22.723 9.20016C22.75 10.0021 22.75 10.9128 22.75 11.9436V14.0564C22.75 15.8942 22.75 17.3498 22.5969 18.489C22.4392 19.6614 22.1071 20.6104 21.3588 21.3588C20.6104 22.1071 19.6614 22.4392 18.489 22.5969C17.3498 22.75 15.8942 22.75 14.0564 22.75H9.94359C8.10583 22.75 6.65019 22.75 5.51098 22.5969C4.33856 22.4392 3.38961 22.1071 2.64124 21.3588C1.89288 20.6104 1.56076 19.6614 1.40314 18.489C1.24997 17.3498 1.24998 15.8942 1.25 14.0564V11.9436C1.24999 10.9127 1.24998 10.0021 1.27701 9.20017C1.25941 9.13645 1.25 9.06932 1.25 9C1.25 8.90862 1.26634 8.82105 1.29627 8.74006C1.31895 8.29458 1.35276 7.88566 1.40314 7.51098C1.56076 6.33856 1.89288 5.38961 2.64124 4.64124C3.38961 3.89288 4.33856 3.56076 5.51098 3.40313C5.7439 3.37182 5.99006 3.34691 6.25 3.32709V2.5C6.25 2.08579 6.58579 1.75 7 1.75ZM2.76309 9.75C2.75032 10.4027 2.75 11.146 2.75 12V14C2.75 15.9068 2.75159 17.2615 2.88976 18.2892C3.02502 19.2952 3.27869 19.8749 3.7019 20.2981C4.12511 20.7213 4.70476 20.975 5.71085 21.1102C6.73851 21.2484 8.09318 21.25 10 21.25H14C15.9068 21.25 17.2615 21.2484 18.2892 21.1102C19.2952 20.975 19.8749 20.7213 20.2981 20.2981C20.7213 19.8749 20.975 19.2952 21.1102 18.2892C21.2484 17.2615 21.25 15.9068 21.25 14V12C21.25 11.146 21.2497 10.4027 21.2369 9.75H2.76309ZM21.1683 8.25H2.83168C2.8477 8.06061 2.86685 7.88123 2.88976 7.71085C3.02502 6.70476 3.27869 6.12511 3.7019 5.7019C4.12511 5.27869 4.70476 5.02502 5.71085 4.88976C6.73851 4.75159 8.09318 4.75 10 4.75H14C15.9068 4.75 17.2615 4.75159 18.2892 4.88976C19.2952 5.02502 19.8749 5.27869 20.2981 5.7019C20.7213 6.12511 20.975 6.70476 21.1102 7.71085C21.1331 7.88123 21.1523 8.06061 21.1683 8.25Z",fill:"#1C274C"})}),(0,Yw.jsxs)("p",{className:tb.cartDataText,children:[a," \u043c\u0435\u0441."]})]})}),(0,Yw.jsxs)("div",{className:tb.cartInfoText,children:[(0,Yw.jsx)("p",{className:tb.cartImgTitle,children:i}),(0,Yw.jsxs)("p",{className:tb.cartImgPrice,children:[o," \u20bd"]})]}),(0,Yw.jsx)(Kw,{className:tb.cartImgBuy,children:"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435"})]}),b&&(0,Yw.jsx)("div",{className:tb.modalBackdrop,children:(0,Yw.jsxs)("div",{className:tb.modalContentDel,children:[(0,Yw.jsx)("span",{className:tb.close,onClick:E,children:"\xd7"}),(0,Yw.jsx)("p",{className:tb.cartmodalContentTitle,children:"\u0412\u044b \u0442\u043e\u0447\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u043a\u0443\u0440\u0441?"}),(0,Yw.jsx)("button",{className:tb.cartBtnPd,onClick:()=>{u(n),E()},children:"\u041f\u043e\u0434\u0432\u0435\u0440\u0434\u0438\u0442\u044c"})]})}),h&&(0,Yw.jsx)("button",{className:tb.cartImgDel,onClick:()=>{_(!0)},children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"}),f&&(0,Yw.jsx)("button",{className:tb.cartImgBuy,onClick:()=>d(n),children:"\u041e\u0434\u043e\u0431\u0440\u0438\u0442\u044c"})]}),y&&(0,Yw.jsx)("div",{className:tb.modalBackdrop,children:(0,Yw.jsxs)("div",{className:tb.modalContent,children:[(0,Yw.jsx)("span",{className:tb.close,onClick:()=>{w(!1)},children:"\xd7"}),(0,Yw.jsxs)("div",{className:tb.modalUp,children:[(0,Yw.jsx)("img",{className:tb.modalUpImg,src:l,alt:""}),(0,Yw.jsxs)("div",{className:tb.modalUpInfo,children:[(0,Yw.jsxs)("p",{className:tb.modalUpInfoPrice,children:[o," \u20bd"]}),(0,Yw.jsx)("h1",{className:tb.modalUpInfoTitle,children:i}),(0,Yw.jsxs)("div",{className:tb.modalUpData,children:[(0,Yw.jsx)("svg",{className:tb.cartDataSvgB,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,Yw.jsx)("path",{className:tb.cartDataSvgB,"fill-rule":"evenodd","clip-rule":"evenodd",d:"M7 1.75C7.41421 1.75 7.75 2.08579 7.75 2.5V3.26272C8.41203 3.24999 9.1414 3.24999 9.94358 3.25H14.0564C14.8586 3.24999 15.588 3.24999 16.25 3.26272V2.5C16.25 2.08579 16.5858 1.75 17 1.75C17.4142 1.75 17.75 2.08579 17.75 2.5V3.32709C18.0099 3.34691 18.2561 3.37182 18.489 3.40313C19.6614 3.56076 20.6104 3.89288 21.3588 4.64124C22.1071 5.38961 22.4392 6.33855 22.5969 7.51098C22.6472 7.88567 22.681 8.29459 22.7037 8.74007C22.7337 8.82106 22.75 8.90861 22.75 9C22.75 9.06932 22.7406 9.13644 22.723 9.20016C22.75 10.0021 22.75 10.9128 22.75 11.9436V14.0564C22.75 15.8942 22.75 17.3498 22.5969 18.489C22.4392 19.6614 22.1071 20.6104 21.3588 21.3588C20.6104 22.1071 19.6614 22.4392 18.489 22.5969C17.3498 22.75 15.8942 22.75 14.0564 22.75H9.94359C8.10583 22.75 6.65019 22.75 5.51098 22.5969C4.33856 22.4392 3.38961 22.1071 2.64124 21.3588C1.89288 20.6104 1.56076 19.6614 1.40314 18.489C1.24997 17.3498 1.24998 15.8942 1.25 14.0564V11.9436C1.24999 10.9127 1.24998 10.0021 1.27701 9.20017C1.25941 9.13645 1.25 9.06932 1.25 9C1.25 8.90862 1.26634 8.82105 1.29627 8.74006C1.31895 8.29458 1.35276 7.88566 1.40314 7.51098C1.56076 6.33856 1.89288 5.38961 2.64124 4.64124C3.38961 3.89288 4.33856 3.56076 5.51098 3.40313C5.7439 3.37182 5.99006 3.34691 6.25 3.32709V2.5C6.25 2.08579 6.58579 1.75 7 1.75ZM2.76309 9.75C2.75032 10.4027 2.75 11.146 2.75 12V14C2.75 15.9068 2.75159 17.2615 2.88976 18.2892C3.02502 19.2952 3.27869 19.8749 3.7019 20.2981C4.12511 20.7213 4.70476 20.975 5.71085 21.1102C6.73851 21.2484 8.09318 21.25 10 21.25H14C15.9068 21.25 17.2615 21.2484 18.2892 21.1102C19.2952 20.975 19.8749 20.7213 20.2981 20.2981C20.7213 19.8749 20.975 19.2952 21.1102 18.2892C21.2484 17.2615 21.25 15.9068 21.25 14V12C21.25 11.146 21.2497 10.4027 21.2369 9.75H2.76309ZM21.1683 8.25H2.83168C2.8477 8.06061 2.86685 7.88123 2.88976 7.71085C3.02502 6.70476 3.27869 6.12511 3.7019 5.7019C4.12511 5.27869 4.70476 5.02502 5.71085 4.88976C6.73851 4.75159 8.09318 4.75 10 4.75H14C15.9068 4.75 17.2615 4.75159 18.2892 4.88976C19.2952 5.02502 19.8749 5.27869 20.2981 5.7019C20.7213 6.12511 20.975 6.70476 21.1102 7.71085C21.1331 7.88123 21.1523 8.06061 21.1683 8.25Z",fill:"#1C274C"})}),(0,Yw.jsxs)("p",{className:tb.cartDataText,children:[a," \u043c\u0435\u0441."]})]}),(0,Yw.jsxs)("p",{className:tb.cartModalPhone,children:["\u0422\u0435\u043b\u0435\u0444\u043e\u043d \u0434\u043b\u044f \u0441\u0432\u044f\u0437\u0438: ",(0,Yw.jsx)("b",{children:c})]})]})]}),(0,Yw.jsxs)("div",{className:tb.modalUpDesc,children:[(0,Yw.jsx)("h1",{className:tb.modalUpDescTitle,children:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"}),(0,Yw.jsx)("p",{className:tb.modalUpDescDesc,children:s})]}),(0,Yw.jsxs)("div",{className:tb.modalUpDesc,children:[(0,Yw.jsx)("h1",{className:tb.modalUpDescTitle,children:"\u0425\u0430\u0440\u0430\u043a\u0442\u0435\u0440\u0438\u0441\u0442\u0438\u043a\u0438"}),(0,Yw.jsxs)("p",{className:tb.modalUpDescDesc,children:[(0,Yw.jsx)("b",{children:"\u0423\u0440\u043e\u0432\u0435\u043d\u044c \u0441\u043b\u043e\u0436\u043d\u043e\u0441\u0442\u0438:"})," ",p]}),(0,Yw.jsxs)("p",{className:tb.modalUpDescDesc,children:[(0,Yw.jsx)("b",{children:"\u0422\u0438\u043f \u043e\u0431\u0443\u0447\u0435\u043d\u0438\u044f:"})," ",m]}),(0,Yw.jsxs)("p",{className:tb.modalUpDescDesc,children:[(0,Yw.jsx)("b",{children:"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f:"})," ",g]})]})]})})]})}const rb="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIACAYAAAD0eNT6AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAOxAAADsQBlSsOGwAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAACAASURBVHic7d17kCVneR/gt885c2b2fkG7ElqEEAhZ3ITktYsAhsImGEtClI28FlpxiY2swhRl4xh8qVSqVEmlkjJxypeCBCEujlNyohsVVisZCwwFtjEVUwhjiCXLlgDLQgEWVtqdnTMzpzt/rAZml9mZOXO6T9+ep2r/2cvX7+zsnvf3fd3f1xEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA1ElSdgFr+bWbPnL5WXv2vXfr9JZzZ3pTU1NZJJ2ISJKIJJLqfwFreOTCp5ddAgAbkEVElqYxXExjuLgQ88ePLQ6e+M4T80eOPLhw5Bv//r1vveZQ2TWuppL9850fOHzj1q27f2nr9OY9W5Nusm3TdNklFUYAAGieLCLm5wZx7JvfmD328N//0XvefOVby67pdJUJAG9/3+0X79i2987dm3dcPJN9v67pqV5s6vfLLK1QAgBA8w3mBnH0qw/+v9mvf/XV773hZ+4ru56ICgSAX37vR/bv2HX2HXtmtp7fjewHfn3zdD/6vV4JlU2GAADQHmmaxrcfevDo4/d/5bXve/s1ny6zltICwIFbb+0+a7Dn40/d9pRX9LIfbPxLts5MR6/bnWBlkyUAALTPcDiMx778N1/dOf+1i278uZ+bL6OGThkX/ZX3H3rTj/aePThv6+5Vm39ERKdTSokAUJhutxvnXnLZ+clz/uXcL910+78uo4aJrwC868N/eud5O8/5me4ajX/J9s2bopOUfqeiMFYAANotzdL4xn1//cXfvfpll07yuhPrrDfe+uV+ZE98fU9/095R/tyOLZvLf1ChQAIAABER3/76V2c3pY885cYf//G5SVxvIuvrv3rzrbt7yYkjozb/iAo8pQgAE/CU887fvLD5widu+M+3nDWJ6xUeAH715lt379114aO7elNbir4WANTZjj17e+f8xCsfm0QIKDQAHLj11u7uHRc8vL3Tbe5GfgDI0dadOzt7X/byR2/85CdnirxOoQHgednT/3l3r7+tyGsAQNNs37OnNxfnfqvIaxQWAH7jwx+/ayP3/AGAiN3nP2PLO+748y8WNX4hAeAdNx26bt/OvVcWMTYAtMU5L9x/ydtuvv1Xihg79yP2Dtx6a/firRd8fvrkS/vGNtOfymOYynpi946ySwCgopIkiek9+14dZ2/+Dw9/6lNpnmPnvgLwrLk9n9mSdJp7di8ATNCmrVuTyy579ZfyHjfXAPDL7/3I/qduf8qL8xwTANpu73MvvfhtN932kjzHzDUA7Nx19p1rne0PAIym2+3ElmdefFeeY+YWAN7+vtsvPmtmq3NtAaAAu8+/cNfbbvpIbu8LyC0A7Ni2985umP0DQBG63U5sedr59+Q1Xm4BYNfmHRfnNRZMyln9JHZNeeMEUA/bn3HhOXmNlUsAeOcHDt+4KfPeHurnlbu78ZanTcVr9/ZityAAVNz0zHS8/YOH/iCPsXIJAFu37v6lPMaBSdo3k8TTN3UiiYgf2tKJXxAEgBrYesFFP5/HOL08BtnW37In3P+nZn5s56nHVSwFgYu2dOKB42n8+XeGcWTBv2ugWrbsPSeXt+uOvQLwa+879GPTkZkyUStLs/+VWBEAqqy/aSbe+l9vf/W444wdAHrTm3/dxyN1c/rsfyWCAFBFSUT0z9rz78YdZ+wA0O/PXDLuGNRbvxPxgm2Fvlk6V6vN/leSdxB4wbZO9Ovz1wVU0MyOXc8ed4yxnwGY7k/vGXcM6msqiXjd2b04b6YTu6aG8ekjw7JLWtN6Zv8rWf6MwN8+kcaffGtx5DFeuqsbL9nZjRdszeL2xxZiPtdXewBt0d++a9u4Y4w9D5nuTs2MOwb1NJVEXH3OyeYfEfGiHd14+e5qvwdq1Nn/SpKI6GxgEWCp+S/V8bNnT1kJADZkauvWsSfw4z8DkOTz2l/q5fTmv6TqIWCjs//lsoj4q++OttKxvPkvEQKAjer1+mOPMfZHj8+u9jlT819S1RCQx+w/IuIrx9KRtgeu1PyX1yQEAKPq9MZ/KDmHAGCfdJus1fyXVDEElDH7X635LxECgFF1clh8Hz8A6P+tsd7mv6RKIaCM2f96mv8SIQAYRZJUYAWAdhi1+S+pSgiY9Ox/lOa/RAgAJslHDWvaaPNfUnYImPTsfyPNf4kQAEyKjxlWNW7zX1JmCJjk7H+c5r9ECAAmwUcMZ5RX819SRgiY5Ow/j+a/RAgAiubjhRX1OxE/e85Ubs1/yYt2dCd6bPCkZv8v2NbJrfkv2TeTxNVCAFAQHy38gKXjfZ82k//Lbx6Zy+L+45M5/3aSs/+/O5bG1+fy/7qeZiUAKIiPFU6R97L/co/MTfb8+0ne+1/IIu74xmIhIcDtAKAIPlL4niY1/zL2/QsBQJ34OCEimtX8I8o7818IAOrCRwmNa/5lnfm/RAgA6sDHSMs1rflHlDf7X04IAKrOR0iLNbH5lz37X04IAKrMx0dLNbH5R1Rj9r+cEABUlY+OFmpq86/S7H85IQCoIh8bLdPU5h9Rvdn/ckIAUDW9sgtYy8FXXVjq9W+598FSr5+nJjf/qs7+l1sKAUV8D5ZCQJnfA9rjs3/97fjYx78Ww2Ear/yJp8crXryn7JLYgMoHAPLR5OYfUe3Z/3JCAHW21Phnn5j93s/dfdcD8Yk/+5ogUEMCQAt0k4irz5mK8wo42/+f5rK4o+SGU4fZ/3ILWcSdjy3G1WdP5f6+hX0zSbzu7Km47RsLMSz+S6ElVmr8yw1m5wSBGhIAWuDHd3cb2/wj6jP7X24+jbjjsYVCQsB5M0m8Ync3PvHtyX09NNNajf90gkC9CAANd1Y/iUu35/ua2oiTy/5VaP51m/0vN59G3P6NhUJuB1y2vRv3PZ7Gtyf8NdEMozb+0wkC9SAANNwLt3Ui77l/Fe75L6nj7H+5op4JSCLihds78WdWARjBuI3/dIJAtQkADXd+DrPj5aqy7B9R79n/ckU9E3D+TCciBADWlnfjP50gUE0CQMNt7+XXUKqy7L+k7rP/5Yq4HZDn955mKrrxn04QqBYBoOGyLCL3ewAV0JTZP5Rh0o3/dIJANQgADffEMIundPJJAPtmkrj67KlKrAI0afYfEdHvRO63AB5fFGw4VdmN/3SCQLkEgIZ7+EQaT5nKbxfA0ypw2EzTZv9TScTrzu7lvh3w4RMVuVdD6arW+E8nCJRDAGi4+x5P47Jt3chpESAiyj9xrkmz/6JOaMwi4m+eEADaruqN/3SCwGQJAA13ZCGL+54Yxg/nfBZAWbcDmjT7L2LZf8kXHh86A6DF6tb4TycITIYA0AKfOjKMPf1O7qcBPq2EENCU2X+Rzf/rc2l88kj5qxtMXt0b/+kEgWIJAC0wzCLuKOjEuUk+E9CU2X9R9/wjTm7VvPOxxUhN/lulaY3/dIJAMQSAlmjCW+iaMPtv+lsZmaymN/7TCQL5GnsK8p6PfLHQucbOLZuLHL50j1z49Iler64NaN9MEgefOjX2OF8+lsbd31zMoaLR1fXvnuppW+M/k+nNM60OAr/+zOmxergVgJap60pA3Wf/mj950PhPZUVgPAJAC9UtBNT93r/mz7g0/tUJAhsjALRUnUJAnWf/mj/j0PhHIwiMRgBosTqEgDrP/jV/NkrjH48gsD4CQMtVPQTUdfav+bMRGn++BIHVCQBUNgTUdfav+TMqjb9YgsDKBAAiopohoI6zf82fUWj8kyUInEoA4HuqFALqOPvX/Fkvjb9cgsBJAgCnqEoIqNvsX/NnPTT+aml7EBAA+AELWcSdjy0W8rKafTNJ/NCWTnxplVfV1nH2f/HWTiHN/5/msom/cZH8afzV1tYgIACwovk04vYCXiD0F98Zrtr8I+o3+4+I+NITaWzuDOPlu/N77fIjmn/tafz10rYgIABwRnnfDviL7wzjL9doynWc/S/53NGTX1seIcCyf71p/PXWliAgALCqvELAepp/RD1n/8vlEQI0//rS+Jul6UFAAGBN44aA9Tb/Os/+lxsnBGj+9aTxN1tTg4AAwLpsNASst/lH1H/2v9xGQoDmXz8af7s0LQhUPgAcfNWFpV7/lnsfLPX6VTJqCBil+Tdl9r/cKCFA86+nj3ziSMRc+YGTyRrMzsbdd/5VvOLFV5Vdyljy37dEoy2FgK/Prd6pRmn+Ec2a/S/3uaPD+PSR1WvS/GusNx2xbW/E9r0RU9NlV0Ph0oj5IxFPfDVicLTsYsYmADCytULAqM2/ibP/5VYLAZp/QwgCDdesxr9EAGBDzhQCRm3+Ec2d/S+3UgjQ/BtIEGiYZjb+JQIAG3Z6CNhI85/uRGzqjn/a4P+t6Ox/ueUhQPNvOEGg5prd+JdU/iFAqm3p2OC1jvc9k0Ea8eFHFuJZmzvx0l3dOLs/ehjIIuKzFZ79L/e5o8OYTbO4/3iq+bfBUhBYHEScOBqxMCi7IlaVRsx/t9FNfzkBgLHNp7Gh5r/cP8ym8Q+z6YaCQFXv/Z/JuH9X1JAgUHHtavxLBAAqZdQgUPV7/3AKQaBi2tn4lwgAVNJ6g0DdZv8QEYJA6drd+JcIAFTaakHA7J/aEwQmTONfTgCgFlYKAmb/NIYgUDCNfyUCALWyFAQu2tKJb85r/jSMIJAzjX81AgC19MBxT9LTYILAmDT+9RAAAKpKEBiRxj8KAQCg6gSBNWj8GyEAANSFIHAajX8clQ8At9z7YNklAFRL64OAxp+HygcAAM6gdUFA48+TAABQd40PAhp/EQQAgKZoXBDQ+IskAAA0Te2DgMY/CQIAQFPVLgho/JMkAAA0XeWDgMZfBgEAoC0qFwQ0/jIJAABtU3oQ0PirQAAAaKuJBwGNv0oEAIC2KzwIaPxVJAAAcFLuQUDjrzIBAIBTjR0ENP46EAAAWNnIQUDjrxMBAIDVrRkENP46EgAAWJ/lQWD2aMTiCY2/xiofAA6+6sJSr3/LvQ+Wen2AyulNR2zfG/HVT5ddCWPolF0AADB5AgAAtJAAAAAtJAAAQAsJAADQQgIAALSQAAAALVT5cwAYz7su6JddAiV690PzZZcAVJQVAABoIQEAAFpIAACAFhIAAKCFBAAAaCEBAABaSAAAgBaq/DkAt9z7YNklAEDjWAEAgBYSAACghQQAAGghAQAAWkgAAIAWEgAAoIUEAABoocqfA8B4vA8egJVYAQCAFhIAAKCFBAAAaCEBAABaSAAAgBYSAACghQQAAGghAQAAWkgAAIAWEgAAoIUEAABoIQEAAFpIAACAFhIAAKCFBAAAaKFe2QVQrHdd0C+7BCjNux+aL7sEqCwrAADQQgIAALSQAAAALSQAAEALCQAA0EICAAC0kAAAAC0kAABACwkAANBCAgAAtJAAAAAtJAAAQAsJAADQQgIAALSQAAAALdQruwCK5X3oAKzECgAAtJAAAAAtJAAAQAsJAADQQgIAALSQAAAALSQAAEALCQAAG/S2158dz376TNllMGHT23bGFQdeXnYZY3MQEMAGPWPfdPzigb3x8CODuPcvj8bff22u7JIo0PS2nfHKn7okXvGyp5ddSi4EAIAxCQLN1rTGv0QAAMiJINAsTW38SwQAgJwJAvXW9Ma/RAAAKIggUC9tafxLBACAggkC1da2xr9EAACYEEGgWtra+JcIAA33rgv6ZZfQau9+aL7sEqggQaBcbW/8SwQAgJIIApOl8Z9KAAAomSBQLI1/ZQIAQEUIAvnS+FcnAABUjCAwHo1/fQQAgIoSBEaj8Y9GAACoOEFgdRr/xggAADUhCJxK4x+PAABQM20PAhp/PgQAgJpqWxDQ+PMlAADUXNODgMZfDAEAoCGaFgQ0/mIJAAANU/cgoPFPhgAA0FB1CwIa/2QJAAANV/UgoPGXQwAAaImqBQGNv1wCQMN5Hz1wurKDgMZfDQIAQEtNOgho/NUiAAC0XNFBQOOvJgEAgIjIPwho/NUmAABwinGDgMZfDwIAACsaNQho/PUiAACwqrWCgMZfTwIAAOuyFAT+8etz8aeffTz++bu74icvvyR+7CXnlV0aGyAAADCSZ543E289bybi564suxTG0Cm7AABg8gQAAGghAQAAWkgAAIAWEgAAoIUEAABoIQEAAFrIOQAN964L+mWXQIu9+6H5sksAzsAKAAC0kAAAAC0kAABACwkAANBCAgAAtJAAAAAtJAAAQAsJAADQQgIAALSQAAAALSQAAEALCQAA0EICAAC0kAAAAC0kAABAC/XKLoBieR87ACuxAgAALSQAAEALCQAA0EICAAC0kAAAAC0kAABACwkAANBCAgAAtJAAAAAtJAAAQAsJAADQQgIAALSQAAAALSQAAEALCQAA0EICAAC0kAAAAC0kAABACwkAANBCAgAAtJAAAAAtJAAAQAsJAADQQr1xB7jnA/8mjzrOaNu2bYWODwBtZAUAAFpIAACAFhIAAKCFBAAAaCEBAABaSAAAgBYSAACghQQAAGihygeALMvKLgEAGkcAAIAWEgAAoIUEAABoocoHgOFwWHYJANA4lQ8AaZqWXQIANE7lA4AVAADIX+UDQJZlVgEAIGeVDwARVgEAIG+1CADz8/NllwAAjVKLAJCmqdsAAJCjWgSACKsAAJCn2gSAxcVFhwIBQE5qEwCyLIuFhYWyywCARqhNAIg4eRvAKgAAjK9XdgGjyLIsBoNBzMzMlF0K5OKWW24pu4RSHTx4sOwSoLVqtQIQEbGwsOBcAAAYU+0CQETE3NycWwEAMIZaBoA0TWNubq7sMgCgtmoZACJObgt0NgAAbExtA0BExGAwsDUQADag1gEg4mQIWFxcLLsMAKiV2geALMvixIkTVgIAYAR5BIBK3Iifm5sTAgBohTx2wuURAI7lMEYu5ubm4sSJE7YIAtB0Y78iN48A8EQOY+RmcXExZmdnHRYEQJON3eTyCADfymGMXKVpGrOzsw4MAqCR0jQdjDvG2AEgy7IHxh2jKAsLC3H8+PEYDAaCAACNkWXZN8YdY+yXASVJcv+4YxQpy7KYn5+P+fn56Pf7MTU1FZ1O7Tc/ANBiWZaN3XvzCAB/W5fZ9VIQ6HQ60e/3o9vtCgMA1E6app8bd4yxA0Cv1/vMwsJCFhHJuGNNyvJ3CSRJEr1eL5IkiW63G0mSnPIDAMqQZdn3bl9nWRZpmkaapjEcDtNut3vzuOPn0uFe85rXfCkinp/HWADAqr5w1113/fC4g+Sy/p1l2b15jAMArOnjeQySVwC4JY9xAIDVpWmaS8/N7Sa32wAAUKwsy75y+PDh5+UxVm6PwCdJ8od5jQUA/KAkST6Q11h5BoD3RcR38hoPADjFkU6n8/68BsstAHz0ox99IsuyP8hrPADg+7Is+92PfvSjub1/J+9TcH43Ir6Z85gA0HaPDQaD389zwFwDwOHDh7+TZdlv5jkmALRdkiTv+vjHP3401zHzHGxpzCuvvPIzSZK8tICxAaBVkiT59KFDh14REbmeu1/EQfhZmqZvTpIk16QCAC303TRNfz5ybv4RxQSAuOeee/4hy7LrixgbANoiy7K3HD58+B+LGLtbxKAREQ888MBXLrroou0R8eKirgEADfbbhw8fLmx3XaHvwr3rrrvemWXZh4u8BgA00C0/8iM/8ltFXqCwFYAl27dvv3vbtm37I+LZRV8LABrgrkcfffTaP/7jPx4WeZHCA8Cjjz6annvuubf2+/2nRcRlRV8PAOoqSZL/8eijjx78/Oc/v1D4tYq+wPJrXXnllb+dJMk7J3hNAKiDLCLefdddd/1mFPDE/0omGQAiIuKqq6766SzLPhgRuyZ9bQCooMeTJPnFQ4cO3TrJi048AEREXHnllc9MkuTDEfGyMq4PAFWQJMmnI+JfHTp06KGJX3vSF1x+7de85jVvjIh3R8TeEusAgEk7kmXZbx0+fPj9MaEl/9MV/hDgah544IEvPve5z705y7ITEfHCiNhUZj0AULBvZ1n2nwaDwcGPfexjf1lmIWWuAJziwIEDW0+cOHFDRPxCRDyv7HoAIEd/myTJB2dmZt5/2223HSu7mIgKBYDlXvva1142HA4PJknyqoh4QRR8YBEA5CyNiL+JiHvTNL3l7rvvvq/sgk5XyQCw3FVXXXVWmqYvT5LkuRHxnCzLLkqSZHdE7IyIrRHRL7dCAFpqPiKORcR3syw7kiTJ/RHxdxHx5SRJPnPo0KFvlVve6iofAKCurrjiiks7nc4X8hir2+3G5s2b8xiqVgaDwevvvPPO/1V2HdBEltahIN1u9815jdXptPO/arfb/Y2ya4CmauenChRs//79U1mWXZfXeEnSzsW6Xq/3wquuuqp9Sx8wAQIAFODcc8+9MiL25DVeWwNARHT6/f6/LbsIaCIBAAqQZVluy/8RrQ4A0el0cv27BE4SACBnl19++Z4kSa7Mc8w2B4But/vUq6+++uKy64CmEQAgZ51O57osy6bKrqMpkiSJTqfzH8uuA5pGAICcJUliyTpnnU7n1WXXAE0jAECOrrjiiksj4tKy62iaTqez6XWve901ZdcBTSIAQI7y3PvPqZwJAPkSACAnee/9Xy7LSnlbaKU4EwDyJQBATvLe+79cmqZFDFs3zgSAHAkAkJO89/4vJwCc5EwAyI8AADkoYu//cm4BnORMAMiPAAA5KHrvvxWAk5wJAPkRACAHRe/9z7IshsNhkZeoDWcCQD4EABjTpPb+WwU4yZkAkA8BAMY0qb3/VgC+z5kAMD4BAMZQ5N7/0y0uLk7iMrXgTAAYnwAAYyhy7//pPAdwCmcCwJgEABhDkXv/V2IV4PucCQDjEQBgg4re+7+ShYWFSV6u0pwJAOMRAGCDit77v5Isy6wCPMmZADAeAQA2qOi9/2cyGAzKuGwlORMANk4AgA2Y1N7/laRp6mHAJzkTADZOAIANmNTe/zOZn58v8/KV4kwA2BgBAEY0yb3/Z7K4uGgV4EnOBICNEQBgRJPc+7+aubm5skuoCmcCwAYIADCiSe/9P5M0TW0LfJIzAWB0AgCMoIy9/6sZDAaRZVnZZZTOmQAwOgEARlDG3v/VZFkWJ06cKLuM0jkTAEYnAMAIytr7v5rhcGhXQDgTAEYlAMA6lbn3fy2DwaD1uwKcCQCjEQBgncre+7+WEydOtP55AGcCwPoJALAOVdj7v5Ysy2J2drbVIcCZALB+AgCsQ1X2/q8lTdO2rwQ4EwDWSQCAdajK3v/1GA6HrQ4BzgSA9UnKLgCq7vLLL9/T6/UeqdL2v/XodDqxefPmSJJ2/TfPsiwWFhaec8cdd/xd2bVAlVkBgDVUbe//eqVpGsePH2/d7gBnAsD6CACwhiru/V+vpQcD23ZksDMBYG0CAKyiynv/RzE3Nxdzc3OteS7AmQCwNgEAVlH1vf+jWFhYiOPHj8fi4mLZpUyEMwFgde16OghGsH///qmnPvWpj0QNtv+NqtfrxfT0dHQ6jZ4DpMeOHdt26NCh2bILgSpq9P9+GEdd9v5vxOLiYhw/fjzm5uYiTdOyyymKMwFgFQIAnEGd9v5v1MLCQszOzsbc3Fwjdws4EwDOzC0AWEFd9/6Pq9vtxtTUVPR6vUacH+BMADgzKwCwgrru/R/XcDiMubm5OHbsWMzOzsb8/HwsLi7WdveAMwHgzHplFwBVVOe9/3kZDoffuy2QJEkkSRLdbjc6nU50Op3v/dzyX68iZwLAyqr5PxZKdMUVV1za6XS+UHYd5CdN08vuvvvu+8quA6rELQA4TZP2/nOS7yn8IAEAltm/f/9UlmXXlV0H+cqy7Lr9+/e37pkOWI0AAMs0ee9/y+158nsLPEkAgGXasPe/rXxv4VQeAoQntXXvf1skSbKwuLi475577vlm2bVAFVgBgCe1de9/W2RZNtXpdDzfAU8SAOBJ9v43n+8xfJ8AAHFy739EXFp2HRTu0ie/19B6AgCEfeJt4nsNJwkAtJ69/+3iTAA4SQCg9ez9bx1nAkAIAGB/eAv5noNzAGg5e//byZkAYAWAlrP3v52cCQACAC1nX3h7+d7Tdm4BUKq3vOUt5y8uLr6h1+u9tNvtPqfT6ZwVEf1Op9OLiE6S+CdKvWUnDbMsm0/T9JtZlv1jRHx+cXHxQx/60Ie+UnZ9tJdPVybuDW94w09NT0//eq/Xe1G3292sydNWaZrOLS4ufjlN09/7wAc+8Edl10O7+ORlIg4cOLBj69atvzc1NfWzU1NTW8quB6pmOBwOhsPhvUmS3HDTTTc9WnY9NJ8AQKGuvfbaszZt2vTeqamp1/V6vW7Z9UDVZVmWLSwsfDrLsp+/+eabHyq7HppLAKAoycGDB9+4efPm901PT8+UXQzUTZqm2cLCwv88evToG2+77bZh2fXQPAIAuXvDG95w4XA4/MOIeMn27duj1+uVXRLU1nA4fHx+fv6nP/jBD36y7FpoFtsAydXrX//6nxkOh/8nIl4SEeEBPxhPt9vdPjMz84nrr7/+98uuhWbx6Uwubrzxxs7999//OxHxjuU/v3v37pIqguaZn5///L59+/7FjTfeuFh2LdSfAMDYDhw40O/1eh+OiGtP/7Vdu3ZZBYAcLSwsPBwRz7vppptmy66FenMLgLE82fw/Eis0/4iILMsmXBE029TU1DM6nc5DN9xww+aya6HeBADGkfR6vfdHxBVn+g0CAOSv2+3uTZLkywcOHLC1lg0TANiwa6+99r9ExJtW+z1pmk6oGmiXXq/3jJ07d3627DqoL+mRDTl48OCBiPidtX5fr9ezDRAK0u12911yySW7vvCFL/xJ2bVQPwIAI7vmmmuelSTJXRGx5gE/SZJEv9+fQFXQTt1u90XPf/7zP3Xfffd9texaqBe3ABhV0ul0/ntE7FjPb15ctFsJipQkiKa14AAAAtpJREFUSdLv9/93+DxnRP7BMJJrr732LfHkIT/rkaapEAAF6/V6O66//vr3lV0H9WKDNut24MCB3b1e7/6IOGuUPzczMxObN9uxBEXKsixNkuSZ73nPe9wKYF2sALBu3W73HTFi84+IGAwGtgNCwZIk6czPz3+o7DqoDysArMt11123PU3ThyNi10b+/ObNm2NmxksBoUhpmmbD4XDfTTfd9GjZtVB9VgBYl+FweENssPlHRMzNzVkFgIJ1Op0ky7L/VnYd1IMAwLokSfLmcf58mqZx4sSJvMoBzqDb7b667BqoBwGANV1zzTU/GhHPH3ecubk5OwKgYN1ud/r6669f8d0csJwAwJq63W5uHybHjx/PayjgDJIk+dWya6D6BADWlGXZT+Y11nA4jGPHjuU1HLCCbrc79oodzScAsKo3vvGNeyPiuXmOOT8/byUACtTtdje96U1vuqjsOqg2AYBVLSwsvDwK2C46GAyEAChQv9+/vuwaqDYBgFV1Op3ClhIHg4HbAVCc/WUXQLUJAKwqy7IfKnL8+fn5OHr0qN0BkLNOp/PMsmug2gQA1vLsoi8wHA7j8ccfj9nZWYcFQU663e6esmug2nplF0DljXz2/0bNzc3FYDCITZs2xfT0dCSJk6phDNNlF0C1CQCsZdskL5ZlWczOzsaJEyei3+/H9PR09Hr+mcKokiSxwsuqfLKylq1lXDTLshgMBjEYDCJJkuj3+9Htdr/3IyIiSRKrBHBmAgCrEgBYS7/sApbCAAD5kRABoIUEAABoIQEAAFpIAACAFhIAAKCFBAAAaCEBAABaSAAAgBYSAACghQQAAGghAQAAWkgAAIAWEgAAoIUEAABoIQEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACg4v4/joZnMKY+XgIAAAAASUVORK5CYII=",ib=n.p+"static/media/b.c0af7c2c7d9e81e4a360.png",sb=n.p+"static/media/c.c2198f65520eda1f69fe.png",ob=n.p+"static/media/d.6ad5cd2e8e753b51392c.png",ab=n.p+"static/media/e.4831a7127760b4691bc3.png",lb=n.p+"static/media/f.19b6b203273b912b690c.png",cb=n.p+"static/media/j.5f1a0c31fb32f2efafb5.png",ub=n.p+"static/media/h.5339352585005e525916.png",hb=n.p+"static/media/i.006814cd59931061e495.png",db=n.p+"static/media/k.4961691f7ffc31fdc690.png";function fb(){const[e,n]=(0,t.useState)([]),[r,i]=(0,t.useState)([]),[s,o]=(0,t.useState)(!1);(0,t.useEffect)((()=>{(async()=>{try{const e=await uy(wv(Ow,"users")),t=[];e.forEach((e=>{const n=e.data(),r=null===n||void 0===n?void 0:n.courses;Array.isArray(r)?t.push(...r):"object"===typeof r?t.push(r):console.error("Invalid user courses data:",r)}));const r=t.filter((e=>!0===e.verified));n(r)}catch(e){console.error("Error fetching verified courses:",e)}})()}),[]);const a=e=>{const t=r.indexOf(e);i(-1===t?[...r,e]:r.filter((t=>t!==e)))},l=e=>r.includes(e),c=r.length>0?e.filter((e=>r.includes(e.category))):e;return(0,Yw.jsxs)("div",{className:eb.home,children:[(0,Yw.jsx)("button",{className:"".concat(eb.categorieBtn," ").concat(s?eb.selected:""),onClick:()=>o(!s),children:(0,Yw.jsx)("label",{children:s?"\u0421\u043a\u0440\u044b\u0442\u044c \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438":"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438"})}),s&&(0,Yw.jsxs)("div",{className:eb.categories,children:[(0,Yw.jsxs)("div",{className:"".concat(eb.categorie," ").concat(l("\u041f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0438 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0430")?eb.selected:""),onClick:()=>a("\u041f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0438 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0430"),children:[(0,Yw.jsx)("img",{className:eb.categorieIcon,src:rb,alt:""}),(0,Yw.jsx)("label",{id:"1",children:"\u041f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0438 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0430"})]}),(0,Yw.jsxs)("div",{className:"".concat(eb.categorie," ").concat(l("\u041c\u0430\u0440\u043a\u0435\u0442\u0438\u043d\u0433 \u0438 \u0440\u0435\u043a\u043b\u0430\u043c\u0430")?eb.selected:""),onClick:()=>a("\u041c\u0430\u0440\u043a\u0435\u0442\u0438\u043d\u0433 \u0438 \u0440\u0435\u043a\u043b\u0430\u043c\u0430"),children:[(0,Yw.jsx)("img",{className:eb.categorieIcon,src:ib,alt:""}),(0,Yw.jsx)("label",{children:"\u041c\u0430\u0440\u043a\u0435\u0442\u0438\u043d\u0433 \u0438 \u0440\u0435\u043a\u043b\u0430\u043c\u0430"})]}),(0,Yw.jsxs)("div",{className:"".concat(eb.categorie," ").concat(l("\u0411\u0438\u0437\u043d\u0435\u0441 \u0438 \u0444\u0438\u043d\u0430\u043d\u0441\u044b")?eb.selected:""),onClick:()=>a("\u0411\u0438\u0437\u043d\u0435\u0441 \u0438 \u0444\u0438\u043d\u0430\u043d\u0441\u044b"),children:[(0,Yw.jsx)("img",{className:eb.categorieIcon,src:sb,alt:""}),(0,Yw.jsx)("label",{children:"\u0411\u0438\u0437\u043d\u0435\u0441 \u0438 \u0444\u0438\u043d\u0430\u043d\u0441\u044b"})]}),(0,Yw.jsxs)("div",{className:"".concat(eb.categorie," ").concat(l("\u041b\u0438\u0447\u043d\u044b\u0439 \u0440\u043e\u0441\u0442 \u0438 \u0440\u0430\u0437\u0432\u0438\u0442\u0438\u0435")?eb.selected:""),onClick:()=>a("\u041b\u0438\u0447\u043d\u044b\u0439 \u0440\u043e\u0441\u0442 \u0438 \u0440\u0430\u0437\u0432\u0438\u0442\u0438\u0435"),children:[(0,Yw.jsx)("img",{className:eb.categorieIcon,src:ob,alt:""}),(0,Yw.jsx)("label",{children:"\u041b\u0438\u0447\u043d\u044b\u0439 \u0440\u043e\u0441\u0442 \u0438 \u0440\u0430\u0437\u0432\u0438\u0442\u0438\u0435"})]}),(0,Yw.jsxs)("div",{className:"".concat(eb.categorie," ").concat(l("\u0418\u0441\u043a\u0443\u0441\u0441\u0442\u0432\u043e \u0438 \u0434\u0438\u0437\u0430\u0439\u043d")?eb.selected:""),onClick:()=>a("\u0418\u0441\u043a\u0443\u0441\u0441\u0442\u0432\u043e \u0438 \u0434\u0438\u0437\u0430\u0439\u043d"),children:[(0,Yw.jsx)("img",{className:eb.categorieIcon,src:ab,alt:""}),(0,Yw.jsx)("label",{children:"\u0418\u0441\u043a\u0443\u0441\u0441\u0442\u0432\u043e \u0438 \u0434\u0438\u0437\u0430\u0439\u043d"})]}),(0,Yw.jsxs)("div",{className:"".concat(eb.categorie," ").concat(l("\u0417\u0434\u043e\u0440\u043e\u0432\u044c\u0435 \u0438 \u0444\u0438\u0442\u043d\u0435\u0441")?eb.selected:""),onClick:()=>a("\u0417\u0434\u043e\u0440\u043e\u0432\u044c\u0435 \u0438 \u0444\u0438\u0442\u043d\u0435\u0441"),children:[(0,Yw.jsx)("img",{className:eb.categorieIcon,src:lb,alt:""}),(0,Yw.jsx)("label",{children:"\u0417\u0434\u043e\u0440\u043e\u0432\u044c\u0435 \u0438 \u0444\u0438\u0442\u043d\u0435\u0441"})]}),(0,Yw.jsxs)("div",{className:"".concat(eb.categorie," ").concat(l("\u042f\u0437\u044b\u043a\u0438 \u0438 \u043a\u0443\u043b\u044c\u0442\u0443\u0440\u0430")?eb.selected:""),onClick:()=>a("\u042f\u0437\u044b\u043a\u0438 \u0438 \u043a\u0443\u043b\u044c\u0442\u0443\u0440\u0430"),children:[(0,Yw.jsx)("img",{className:eb.categorieIcon,src:cb,alt:""}),(0,Yw.jsx)("label",{children:"\u042f\u0437\u044b\u043a\u0438 \u0438 \u043a\u0443\u043b\u044c\u0442\u0443\u0440\u0430"})]}),(0,Yw.jsxs)("div",{className:"".concat(eb.categorie," ").concat(l("\u0422\u0432\u043e\u0440\u0447\u0435\u0441\u0442\u0432\u043e \u0438 \u0445\u043e\u0431\u0431\u0438")?eb.selected:""),onClick:()=>a("\u0422\u0432\u043e\u0440\u0447\u0435\u0441\u0442\u0432\u043e \u0438 \u0445\u043e\u0431\u0431\u0438"),children:[(0,Yw.jsx)("img",{className:eb.categorieIcon,src:ub,alt:""}),(0,Yw.jsx)("label",{children:"\u0422\u0432\u043e\u0440\u0447\u0435\u0441\u0442\u0432\u043e \u0438 \u0445\u043e\u0431\u0431\u0438"})]}),(0,Yw.jsxs)("div",{className:"".concat(eb.categorie," ").concat(l("\u041c\u0443\u0437\u044b\u043a\u0430 \u0438 \u0430\u0443\u0434\u0438\u043e")?eb.selected:""),onClick:()=>a("\u041c\u0443\u0437\u044b\u043a\u0430 \u0438 \u0430\u0443\u0434\u0438\u043e"),children:[(0,Yw.jsx)("img",{className:eb.categorieIcon,src:hb,alt:""}),(0,Yw.jsx)("label",{children:"\u041c\u0443\u0437\u044b\u043a\u0430 \u0438 \u0430\u0443\u0434\u0438\u043e"})]}),(0,Yw.jsxs)("div",{className:"".concat(eb.categorie," ").concat(l("\u0424\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u044f \u0438 \u0432\u0438\u0434\u0435\u043e\u0441\u044a\u0435\u043c\u043a\u0430")?eb.selected:""),onClick:()=>a("\u0424\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u044f \u0438 \u0432\u0438\u0434\u0435\u043e\u0441\u044a\u0435\u043c\u043a\u0430"),children:[(0,Yw.jsx)("img",{className:eb.categorieIcon,src:cb,alt:""}),(0,Yw.jsx)("label",{children:"\u0424\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u044f \u0438 \u0432\u0438\u0434\u0435\u043e\u0441\u044a\u0435\u043c\u043a\u0430"})]}),(0,Yw.jsxs)("div",{className:"".concat(eb.categorie," ").concat(l("\u0414\u0440\u0443\u0433\u043e\u0435")?eb.selected:""),onClick:()=>a("\u0414\u0440\u0443\u0433\u043e\u0435"),children:[(0,Yw.jsx)("img",{className:eb.categorieIcon,src:db,alt:""}),(0,Yw.jsx)("label",{children:"\u0414\u0440\u0443\u0433\u043e\u0435"})]})]}),(0,Yw.jsx)("div",{className:eb.carts,children:c.map(((e,t)=>(0,Yw.jsx)(nb,{title:e.name,desc:e.description,price:e.price,date:e.duration,photo:e.photoURL,phoneNumber:e.phoneNumber,level:e.difficulty,type:e.learningType,category:e.category,handleBuyCourse:()=>(async e=>{const t=e.id;try{const n=bv(Ow,"users",Lw.currentUser.uid),r=await ly(n);if(r.exists()){const i=r.data();let{buykurs:s}=i;s&&s.find((e=>e.id===t))?console.log("\u042d\u0442\u043e\u0442 \u043a\u0443\u0440\u0441 \u0443\u0436\u0435 \u0431\u044b\u043b \u043a\u0443\u043f\u043b\u0435\u043d \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u043c"):(s=[...s||[],e],await dy(n,{buykurs:s}),console.log("\u041a\u0443\u0440\u0441 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d \u0432 \u0441\u043f\u0438\u0441\u043e\u043a \u043a\u0443\u043f\u043b\u0435\u043d\u043d\u044b\u0445 \u043a\u0443\u0440\u0441\u043e\u0432 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f"))}else console.log("\u0414\u043e\u043a\u0443\u043c\u0435\u043d\u0442 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d")}catch(n){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u043e\u043a\u0443\u043f\u043a\u0438 \u043a\u0443\u0440\u0441\u0430:",n.message)}})(e)},t)))})]})}const pb={header:"header_header__oB6Es",container:"header_container__F6uZW",navbarAddLink:"header_navbarAddLink__xsiPW",headerCatalog:"header_headerCatalog__PFl93",headerCatalogText:"header_headerCatalogText__NIQaG",headerCatalogSvg:"header_headerCatalogSvg__QP8Hz",headerAuth:"header_headerAuth__i7ltj",auth:"header_auth__NVApT",navbarLogo:"header_navbarLogo__frqTp",navbarTitle:"header_navbarTitle__+9CYF",navbarTitleS:"header_navbarTitleS__UW5JX",navbarTitleB:"header_navbarTitleB__Y2A0R"};function mb(){const[e,n]=(0,t.useState)(null),[r,i]=(0,t.useState)([]);return(0,t.useEffect)((()=>{const e=Lw.onAuthStateChanged((e=>{n(e)}));return(async()=>{try{const e=(await Ow.collection("courses").get()).docs.map((e=>e.data()));i(e)}catch(e){console.error("Error fetching courses:",e)}})(),()=>{e()}}),[]),(0,Yw.jsx)("header",{className:pb.header,children:(0,Yw.jsxs)("div",{className:pb.container,children:[(0,Yw.jsxs)("div",{className:pb.navbarLogo,children:[(0,Yw.jsxs)(Kw,{to:"/catalog",className:pb.navbarTitle,children:[(0,Yw.jsx)("b",{className:pb.navbarTitleS,children:"\u041a\u0443\u0440\u0441\u043e"}),"\u0411\u0430\u0437\u0430\u0440"]}),(0,Yw.jsx)(Kw,{to:"/catalog",className:pb.navbarTitleB,children:"\u0412\u0435\u0440\u0441\u0438\u044f 1.1"})]}),(0,Yw.jsxs)(Kw,{to:"/catalog",className:pb.headerCatalog,children:[(0,Yw.jsx)("svg",{className:pb.headerCatalogSvg,width:"800px",height:"800px",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,Yw.jsx)("path",{className:pb.headerCatalogSvg,d:"M8 8H16M8 12H16M10 16H14M3.5 12C3.5 5.5 5.5 3.5 12 3.5C18.5 3.5 20.5 5.5 20.5 12C20.5 18.5 18.5 20.5 12 20.5C5.5 20.5 3.5 18.5 3.5 12Z",stroke:"#000000",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})}),(0,Yw.jsx)("p",{className:pb.headerCatalogText,children:"\u041a\u0430\u0442\u0430\u043b\u043e\u0433 \u043a\u0443\u0440\u0441\u043e\u0432"})]}),e?(0,Yw.jsx)(Kw,{to:"/additem",className:pb.navbarAddLink,children:"\u0420\u0430\u0437\u043c\u0435\u0441\u0442\u0438\u0442\u044c \u043a\u0443\u0440\u0441"}):(0,Yw.jsx)("div",{className:pb.auth,children:(0,Yw.jsx)(Kw,{to:"/login",className:pb.headerAuth,children:"\u0412\u0445\u043e\u0434 \u0438 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"})})]})})}const gb={login:"login_login__nxCP+",loginAuth:"login_loginAuth__dQDhd",errorMessage:"login_errorMessage__iEYbd",loginBlockInfo:"login_loginBlockInfo__IZf3r",loginBlockInfoTitle:"login_loginBlockInfoTitle__NCF4J",loginBlockInfoDesc:"login_loginBlockInfoDesc__y9vfM",loginBlockRight:"login_loginBlockRight__-oH5O",loginBlockRightImg:"login_loginBlockRightImg__n94Uc",loginBlockInfoEmail:"login_loginBlockInfoEmail__UyEk+",loginBlockInfoEmailTitle:"login_loginBlockInfoEmailTitle__lM0BP",loginBlockInfoPassTitle:"login_loginBlockInfoPassTitle__XMJzd",loginBlockInfoEmailInput:"login_loginBlockInfoEmailInput__gXRmy",loginBlockInfoPassInput:"login_loginBlockInfoPassInput__xVvLQ",loginBlockInfoEnter:"login_loginBlockInfoEnter__phaIn",loginBlockInfoForgot:"login_loginBlockInfoForgot__+a6a4",loginBlockBottomReg:"login_loginBlockBottomReg__f3XBT",loginBlockInfoReg:"login_loginBlockInfoReg__tDyaM",loginBlockInfoRegDesc:"login_loginBlockInfoRegDesc__ZS-Cx",loginBlockInfoYs:"login_loginBlockInfoYs__i5AHn"};function vb(){const[e,n]=(0,t.useState)(""),[r,i]=(0,t.useState)(""),[s,o]=(0,t.useState)(null),[a,l]=(0,t.useState)(!1),c=Y();return(0,Yw.jsx)("div",{className:gb.login,children:(0,Yw.jsxs)("div",{children:[(0,Yw.jsxs)("div",{className:gb.loginAuth,children:[(0,Yw.jsxs)("div",{className:gb.loginBlockInfo,children:[(0,Yw.jsx)("h1",{className:gb.loginBlockInfoTitle,children:"\u0414\u043e\u0431\u0440\u043e \u041f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c"}),(0,Yw.jsx)("p",{className:gb.loginBlockInfoDesc,children:"\u0421\u0435\u0433\u043e\u0434\u043d\u044f \u043d\u043e\u0432\u044b\u0439 \u0434\u0435\u043d\u044c. \u042d\u0442\u043e \u0432\u0430\u0448 \u0434\u0435\u043d\u044c. \u0412\u044b \u0441\u0430\u043c\u0438 \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u044f\u0435\u0442\u0435 \u0435\u0433\u043e. \u0412\u043e\u0439\u0434\u0438\u0442\u0435 \u0432 \u0441\u0438\u0441\u0442\u0435\u043c\u0443, \u0447\u0442\u043e\u0431\u044b \u043d\u0430\u0447\u0430\u0442\u044c \u0443\u043f\u0440\u0430\u0432\u043b\u044f\u0442\u044c \u0441\u0432\u043e\u0438\u043c\u0438 \u043f\u0440\u043e\u0435\u043a\u0442\u0430\u043c\u0438."}),s&&(0,Yw.jsx)("p",{className:gb.errorMessage,children:s}),(0,Yw.jsxs)("div",{className:gb.loginBlockInfoEmail,children:[(0,Yw.jsx)("p",{className:gb.loginBlockInfoEmailTitle,children:"\u041f\u043e\u0447\u0442\u0430"}),(0,Yw.jsx)("input",{className:gb.loginBlockInfoEmailInput,type:"text",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u043e\u0447\u0442\u0443",value:e,onChange:e=>n(e.target.value)})]}),(0,Yw.jsxs)("div",{className:gb.loginBlockInfoPass,children:[(0,Yw.jsx)("p",{className:gb.loginBlockInfoPassTitle,children:"\u041f\u0430\u0440\u043e\u043b\u044c"}),(0,Yw.jsx)("input",{className:gb.loginBlockInfoPassInput,type:"password",placeholder:"\u041d\u0435 \u043c\u0435\u043d\u0435\u0435 8 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432",value:r,onChange:e=>i(e.target.value)})]}),(0,Yw.jsx)("p",{className:gb.loginBlockInfoForgot,onClick:()=>l(!0),children:"\u0417\u0430\u0431\u044b\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c?"})," ",(0,Yw.jsx)("button",{onClick:async t=>{t.preventDefault();try{await function(e,t,n){return $t(e.app)?Promise.reject(Tn(e)):gi(ze(e),ti.credential(t,n)).catch((async t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&yi(e),t}))}(Lw,e,r),c("/catalog")}catch(s){o("\u041e\u0448\u0438\u0431\u043a\u0430 \u0432\u0445\u043e\u0434\u0430. \u041d\u0435\u0432\u0435\u0440\u043d\u0430\u044f \u043f\u043e\u0447\u0442\u0430 \u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c.")}},className:gb.loginBlockInfoEnter,children:"\u0412\u043e\u0439\u0442\u0438"}),(0,Yw.jsxs)("div",{className:gb.loginBlockBottomReg,children:[(0,Yw.jsx)("p",{className:gb.loginBlockInfoRegDesc,children:"\u041d\u0435\u0442 \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0430 \u043d\u0430 \u041a\u0443\u0440\u0441\u043e\u0411\u0430\u0437\u0430\u0440?"}),(0,Yw.jsx)(Kw,{to:"/reg",className:gb.loginBlockInfoReg,children:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"}),(0,Yw.jsxs)("p",{className:gb.loginBlockInfoYs,children:["\u041f\u0440\u0438 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438 \u0438 \u0432\u0445\u043e\u0434\u0435 \u0432\u044b \u0441\u043e\u0433\u043b\u0430\u0448\u0430\u0435\u0442\u0435\u0441\u044c \u0441 ",(0,Yw.jsx)(Kw,{children:"\u0443\u0441\u043b\u043e\u0432\u0438\u044f\u043c\u0438 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044f \u041a\u0443\u0440\u0441\u043e\u0411\u0430\u0437\u0430\u0440"})," \u0438 ",(0,Yw.jsx)(Kw,{children:" \u043f\u043e\u043b\u0438\u0442\u0438\u043a\u043e\u0439 \u043a\u043e\u043d\u0444\u0438\u0434\u0435\u043d\u0446\u0438\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u0438"}),"."]})]})]}),(0,Yw.jsx)("div",{className:gb.loginBlockRight,children:(0,Yw.jsx)("img",{className:gb.loginBlockRightImg,src:"https://foto-tula.ru/files/p0135248.jpg",alt:""})})]}),a&&(0,Yw.jsx)("div",{className:gb.modalBackdrop,children:(0,Yw.jsxs)("div",{className:gb.modalContent,children:[(0,Yw.jsx)("span",{className:gb.close,onClick:()=>l(!1),children:"\xd7"})," ",(0,Yw.jsx)("p",{children:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u0430\u0448\u0443 \u043f\u043e\u0447\u0442\u0443, \u0447\u0442\u043e\u0431\u044b \u0432\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c:"}),(0,Yw.jsx)("input",{type:"text",value:e,onChange:e=>n(e.target.value)}),(0,Yw.jsx)("button",{onClick:async()=>{try{await async function(e,t,n){const r=Pr(e),i={requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"};n&&vi(r,i,n),await Br(r,i,"getOobCode",Gr)}(Lw,e),o("\u041f\u0438\u0441\u044c\u043c\u043e \u0441 \u0438\u043d\u0441\u0442\u0440\u0443\u043a\u0446\u0438\u044f\u043c\u0438 \u043f\u043e \u0432\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044e \u043f\u0430\u0440\u043e\u043b\u044f \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e \u043d\u0430 \u0432\u0430\u0448\u0443 \u043f\u043e\u0447\u0442\u0443."),l(!1)}catch(s){o(s.message)}},children:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"})]})})]})})}const yb={addItem:"additem_addItem__+Qtcf",container:"additem_container__sBCnG",addItemTitle:"additem_addItemTitle__EepZN",addItemMenu:"additem_addItemMenu__utYnI",addItemMenuItem:"additem_addItemMenuItem__+9ErR",addItemMenuSvg:"additem_addItemMenuSvg__dzmlX",addItemMenuText:"additem_addItemMenuText__w1vCL",addItemFormTitleText:"additem_addItemFormTitleText__Y7+2F",addItemFormTitle:"additem_addItemFormTitle__taWLH",addItemFormSvgP:"additem_addItemFormSvgP__+0bRK",addItemFormSvg:"additem_addItemFormSvg__c69oW",addItemFormDescText:"additem_addItemFormDescText__wXHuG",addItemFormInputName:"additem_addItemFormInputName__Hsgfu",addItemFormInputDescription:"additem_addItemFormInputDescription__j4Xus",addItemFormInputDifficulty:"additem_addItemFormInputDifficulty__PZsO+",addItemFormInputLearningType:"additem_addItemFormInputLearningType__rMFfn",addItemFormInputPhone:"additem_addItemFormInputPhone__cxZJT",addItemFormInputPrice:"additem_addItemFormInputPrice__RIijt",addItemFormInputDuration:"additem_addItemFormInputDuration__vKuED",addItemFormButton:"additem_addItemFormButton__EPQ8W",addItemFormTitleTextS:"additem_addItemFormTitleTextS__LOdXo"};function wb(){const[e,n]=(0,t.useState)(!0),[r,i]=(0,t.useState)(!1),[s,o]=(0,t.useState)(null),[a,l]=(0,t.useState)({name:"",description:"",price:"",duration:"",phoneNumber:"",difficulty:"\u041d\u0430\u0447\u0430\u043b\u044c\u043d\u044b\u0439",learningType:"\u041e\u043d\u043b\u0430\u0439\u043d-\u043a\u0443\u0440\u0441",category:"",modules:[]}),[c,u]=(0,t.useState)(null),[h,d]=(0,t.useState)([]),f=e=>{o(e),n(!1),i(!0),l({...a,category:e})},p=(e,t)=>{const{name:n,value:r}=e.target,i=[...a.modules];"name"===n?i[t].name=r:"videoLink"===n&&(i[t].videoLink=r),l({...a,modules:i})},m=e=>{const{name:t,value:n}=e.target;l({...a,[t]:n})};return(0,Yw.jsx)("div",{className:yb.addItem,children:(0,Yw.jsxs)("div",{className:yb.container,children:[e&&(0,Yw.jsxs)("div",{children:[(0,Yw.jsx)("p",{className:yb.addItemTitle,children:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044e:"}),(0,Yw.jsxs)("div",{className:yb.addItemMenu,children:[(0,Yw.jsxs)("div",{className:yb.addItemMenuItem,onClick:()=>f("\u041f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0438 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0430"),children:[(0,Yw.jsx)("p",{className:yb.addItemMenuText,children:"\u041f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0438 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0430"}),(0,Yw.jsx)("svg",{className:yb.addItemMenuSvg,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,Yw.jsx)("path",{className:yb.addItemMenuSvg,d:"M6 12H18M18 12L13 7M18 12L13 17",stroke:"#000000","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})})]}),(0,Yw.jsxs)("div",{className:yb.addItemMenuItem,onClick:()=>f("\u041c\u0430\u0440\u043a\u0435\u0442\u0438\u043d\u0433 \u0438 \u0440\u0435\u043a\u043b\u0430\u043c\u0430"),children:[(0,Yw.jsx)("p",{className:yb.addItemMenuText,children:"\u041c\u0430\u0440\u043a\u0435\u0442\u0438\u043d\u0433 \u0438 \u0440\u0435\u043a\u043b\u0430\u043c\u0430"}),(0,Yw.jsx)("svg",{className:yb.addItemMenuSvg,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,Yw.jsx)("path",{className:yb.addItemMenuSvg,d:"M6 12H18M18 12L13 7M18 12L13 17",stroke:"#000000","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})})]}),(0,Yw.jsxs)("div",{className:yb.addItemMenuItem,onClick:()=>f("\u0411\u0438\u0437\u043d\u0435\u0441 \u0438 \u0444\u0438\u043d\u0430\u043d\u0441\u044b"),children:[(0,Yw.jsx)("p",{className:yb.addItemMenuText,children:"\u0411\u0438\u0437\u043d\u0435\u0441 \u0438 \u0444\u0438\u043d\u0430\u043d\u0441\u044b"}),(0,Yw.jsx)("svg",{className:yb.addItemMenuSvg,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,Yw.jsx)("path",{className:yb.addItemMenuSvg,d:"M6 12H18M18 12L13 7M18 12L13 17",stroke:"#000000","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})})]}),(0,Yw.jsxs)("div",{className:yb.addItemMenuItem,onClick:()=>f("\u041b\u0438\u0447\u043d\u044b\u0439 \u0440\u043e\u0441\u0442 \u0438 \u0440\u0430\u0437\u0432\u0438\u0442\u0438\u0435"),children:[(0,Yw.jsx)("p",{className:yb.addItemMenuText,children:"\u041b\u0438\u0447\u043d\u044b\u0439 \u0440\u043e\u0441\u0442 \u0438 \u0440\u0430\u0437\u0432\u0438\u0442\u0438\u0435"}),(0,Yw.jsx)("svg",{className:yb.addItemMenuSvg,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,Yw.jsx)("path",{className:yb.addItemMenuSvg,d:"M6 12H18M18 12L13 7M18 12L13 17",stroke:"#000000","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})})]}),(0,Yw.jsxs)("div",{className:yb.addItemMenuItem,onClick:()=>f("\u0418\u0441\u043a\u0443\u0441\u0441\u0442\u0432\u043e \u0438 \u0434\u0438\u0437\u0430\u0439\u043d"),children:[(0,Yw.jsx)("p",{className:yb.addItemMenuText,children:"\u0418\u0441\u043a\u0443\u0441\u0441\u0442\u0432\u043e \u0438 \u0434\u0438\u0437\u0430\u0439\u043d"}),(0,Yw.jsx)("svg",{className:yb.addItemMenuSvg,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,Yw.jsx)("path",{className:yb.addItemMenuSvg,d:"M6 12H18M18 12L13 7M18 12L13 17",stroke:"#000000","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})})]}),(0,Yw.jsxs)("div",{className:yb.addItemMenuItem,onClick:()=>f("\u0417\u0434\u043e\u0440\u043e\u0432\u044c\u0435 \u0438 \u0444\u0438\u0442\u043d\u0435\u0441"),children:[(0,Yw.jsx)("p",{className:yb.addItemMenuText,children:"\u0417\u0434\u043e\u0440\u043e\u0432\u044c\u0435 \u0438 \u0444\u0438\u0442\u043d\u0435\u0441"}),(0,Yw.jsx)("svg",{className:yb.addItemMenuSvg,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,Yw.jsx)("path",{className:yb.addItemMenuSvg,d:"M6 12H18M18 12L13 7M18 12L13 17",stroke:"#000000","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})})]}),(0,Yw.jsxs)("div",{className:yb.addItemMenuItem,onClick:()=>f("\u042f\u0437\u044b\u043a\u0438 \u0438 \u043a\u0443\u043b\u044c\u0442\u0443\u0440\u0430"),children:[(0,Yw.jsx)("p",{className:yb.addItemMenuText,children:"\u042f\u0437\u044b\u043a\u0438 \u0438 \u043a\u0443\u043b\u044c\u0442\u0443\u0440\u0430"}),(0,Yw.jsx)("svg",{className:yb.addItemMenuSvg,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,Yw.jsx)("path",{className:yb.addItemMenuSvg,d:"M6 12H18M18 12L13 7M18 12L13 17",stroke:"#000000","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})})]}),(0,Yw.jsxs)("div",{className:yb.addItemMenuItem,onClick:()=>f("\u0422\u0432\u043e\u0440\u0447\u0435\u0441\u0442\u0432\u043e \u0438 \u0445\u043e\u0431\u0431\u0438"),children:[(0,Yw.jsx)("p",{className:yb.addItemMenuText,children:"\u0422\u0432\u043e\u0440\u0447\u0435\u0441\u0442\u0432\u043e \u0438 \u0445\u043e\u0431\u0431\u0438"}),(0,Yw.jsx)("svg",{className:yb.addItemMenuSvg,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,Yw.jsx)("path",{className:yb.addItemMenuSvg,d:"M6 12H18M18 12L13 7M18 12L13 17",stroke:"#000000","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})})]}),(0,Yw.jsxs)("div",{className:yb.addItemMenuItem,onClick:()=>f("\u041c\u0443\u0437\u044b\u043a\u0430 \u0438 \u0430\u0443\u0434\u0438\u043e"),children:[(0,Yw.jsx)("p",{className:yb.addItemMenuText,children:"\u041c\u0443\u0437\u044b\u043a\u0430 \u0438 \u0430\u0443\u0434\u0438\u043e"}),(0,Yw.jsx)("svg",{className:yb.addItemMenuSvg,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,Yw.jsx)("path",{className:yb.addItemMenuSvg,d:"M6 12H18M18 12L13 7M18 12L13 17",stroke:"#000000","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})})]}),(0,Yw.jsxs)("div",{className:yb.addItemMenuItem,onClick:()=>f("\u0424\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u044f \u0438 \u0432\u0438\u0434\u0435\u043e\u0441\u044a\u0435\u043c\u043a\u0430"),children:[(0,Yw.jsx)("p",{className:yb.addItemMenuText,children:"\u0424\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u044f \u0438 \u0432\u0438\u0434\u0435\u043e\u0441\u044a\u0435\u043c\u043a\u0430"}),(0,Yw.jsx)("svg",{className:yb.addItemMenuSvg,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,Yw.jsx)("path",{className:yb.addItemMenuSvg,d:"M6 12H18M18 12L13 7M18 12L13 17",stroke:"#000000","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})})]}),(0,Yw.jsxs)("div",{className:yb.addItemMenuItem,onClick:()=>f("\u0414\u0440\u0443\u0433\u043e\u0435"),children:[(0,Yw.jsx)("p",{className:yb.addItemMenuText,children:"\u0414\u0440\u0443\u0433\u043e\u0435"}),(0,Yw.jsx)("svg",{className:yb.addItemMenuSvg,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,Yw.jsx)("path",{className:yb.addItemMenuSvg,d:"M6 12H18M18 12L13 7M18 12L13 17",stroke:"#000000","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})})]})]})]}),r&&(0,Yw.jsxs)("div",{className:yb.addItemForm,children:[(0,Yw.jsxs)("div",{className:yb.addItemFormTitle,children:[(0,Yw.jsx)("div",{onClick:()=>{o(null),n(!0),i(!1),l({...a,category:""})},className:yb.addItemFormSvgP,children:(0,Yw.jsx)("svg",{className:yb.addItemFormSvg,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,Yw.jsx)("path",{className:yb.addItemFormSvg,d:"M5 12H19M5 12L11 6M5 12L11 18",stroke:"#000000",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),(0,Yw.jsxs)("div",{children:[(0,Yw.jsx)("p",{className:yb.addItemFormTitleText,children:"\u041d\u043e\u0432\u044b\u0439 \u043a\u0443\u0440\u0441"}),(0,Yw.jsx)("p",{className:yb.addItemFormTitleTextS,children:s})]})]}),(0,Yw.jsx)("p",{className:yb.addItemFormDescText,children:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043a\u0443\u0440\u0441\u0430"}),(0,Yw.jsx)("input",{className:yb.addItemFormInputName,type:"text",name:"name",value:a.name,onChange:m}),a.modules.map(((e,t)=>(0,Yw.jsxs)("div",{children:[(0,Yw.jsxs)("p",{className:yb.addItemFormDescText,children:["\u041c\u043e\u0434\u0443\u043b\u044c ",t+1]}),(0,Yw.jsx)("input",{className:yb.addItemFormInputName,type:"text",name:"name",value:e.name,onChange:e=>p(e,t),placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043c\u043e\u0434\u0443\u043b\u044f"}),(0,Yw.jsx)("input",{className:yb.addItemFormInputName,type:"text",name:"videoLink",value:e.videoLink,onChange:e=>p(e,t),placeholder:"\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u0432\u0438\u0434\u0435\u043e"}),(0,Yw.jsx)("button",{onClick:()=>(e=>{const t=[...a.modules];t.splice(e,1),l({...a,modules:t});const n=[...h];n.splice(e,1),d(n)})(t),children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u043c\u043e\u0434\u0443\u043b\u044c"})]},t))),(0,Yw.jsx)("button",{onClick:()=>{l({...a,modules:[...a.modules,{name:""}]}),d([...h,""])},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043c\u043e\u0434\u0443\u043b\u044c"}),(0,Yw.jsx)("p",{className:yb.addItemFormDescText,children:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u043a\u0443\u0440\u0441\u0430"}),(0,Yw.jsx)("textarea",{className:yb.addItemFormInputDescription,name:"description",value:a.description,onChange:m}),(0,Yw.jsx)("p",{className:yb.addItemFormDescText,children:"\u0423\u0440\u043e\u0432\u0435\u043d\u044c \u0441\u043b\u043e\u0436\u043d\u043e\u0441\u0442\u0438"}),(0,Yw.jsxs)("select",{className:yb.addItemFormInputDifficulty,name:"difficulty",value:a.difficulty,onChange:m,children:[(0,Yw.jsx)("option",{value:"\u041d\u0430\u0447\u0430\u043b\u044c\u043d\u044b\u0439",children:"\u041d\u0430\u0447\u0430\u043b\u044c\u043d\u044b\u0439"}),(0,Yw.jsx)("option",{value:"\u0421\u0440\u0435\u0434\u043d\u0438\u0439",children:"\u0421\u0440\u0435\u0434\u043d\u0438\u0439"}),(0,Yw.jsx)("option",{value:"\u041f\u0440\u043e\u0434\u0432\u0438\u043d\u0443\u0442\u044b\u0439",children:"\u041f\u0440\u043e\u0434\u0432\u0438\u043d\u0443\u0442\u044b\u0439"})]}),(0,Yw.jsx)("p",{className:yb.addItemFormDescText,children:"\u0422\u0438\u043f \u043e\u0431\u0443\u0447\u0435\u043d\u0438\u044f"}),(0,Yw.jsxs)("select",{className:yb.addItemFormInputLearningType,name:"learningType",value:a.learningType,onChange:m,children:[(0,Yw.jsx)("option",{value:"\u041e\u043d\u043b\u0430\u0439\u043d-\u043a\u0443\u0440\u0441",children:"\u041e\u043d\u043b\u0430\u0439\u043d-\u043a\u0443\u0440\u0441"}),(0,Yw.jsx)("option",{value:"\u041e\u0444\u0444\u043b\u0430\u0439\u043d-\u043a\u0443\u0440\u0441",children:"\u041e\u0444\u0444\u043b\u0430\u0439\u043d-\u043a\u0443\u0440\u0441"}),(0,Yw.jsx)("option",{value:"\u0413\u0438\u0431\u0440\u0438\u0434\u043d\u044b\u0439",children:"\u0413\u0438\u0431\u0440\u0438\u0434\u043d\u044b\u0439"})]}),(0,Yw.jsx)("p",{className:yb.addItemFormDescText,children:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d"}),(0,Yw.jsx)("input",{className:yb.addItemFormInputPhone,type:"text",name:"phoneNumber",value:a.phoneNumber,onChange:m}),(0,Yw.jsx)("p",{className:yb.addItemFormDescText,children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0444\u043e\u0442\u043e"}),(0,Yw.jsx)("input",{type:"file",onChange:e=>{const t=e.target.files[0];u(t)}}),(0,Yw.jsx)("p",{className:yb.addItemFormDescText,children:"\u0426\u0435\u043d\u0430 \u043a\u0443\u0440\u0441\u0430"}),(0,Yw.jsx)("input",{className:yb.addItemFormInputPrice,type:"number",name:"price",value:a.price,onChange:m}),(0,Yw.jsx)("p",{className:yb.addItemFormDescText,children:"\u041f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u043a\u0443\u0440\u0441\u0430"}),(0,Yw.jsx)("input",{className:yb.addItemFormInputDuration,type:"text",name:"duration",value:a.duration,onChange:m}),(0,Yw.jsx)("button",{className:yb.addItemFormButton,onClick:async()=>{try{const e=Lw.currentUser;if(!e)return void console.error("No user logged in");const t=e.uid,n=bv(Ow,"users/".concat(t)),r=await ly(n),i=(r.data().courses,{...a});let s="";if(c){const e=Dw(Mw,"course_photos/".concat(c.name));await Nw(e,c),s=await xw(e)}i.photoURL=s,i.phoneNumber=a.phoneNumber;const o=bv(wv(Ow,"courses"));i.id=o.id,i.verified=!1,i.difficulty=a.difficulty,i.learningType=a.learningType,i.category=a.category,await dy(n,{courses:my(i)}),await hy(o,i),console.log("Course successfully added to the user and database");for(let l=0;l<a.modules.length;l++){const e={...a.modules[l],courseId:o.id,videoLink:h[l]};await hy(bv(Ow,"modules","".concat(o.id,"_").concat(l)),e)}l({name:"",description:"",price:"",duration:"",phoneNumber:"",difficulty:"\u041d\u0430\u0447\u0430\u043b\u044c\u043d\u044b\u0439",learningType:"\u041e\u043d\u043b\u0430\u0439\u043d-\u043a\u0443\u0440\u0441",category:"",modules:[]}),u(null),d([])}catch(e){console.error("Error adding course:",e)}},children:"\u0420\u0430\u0437\u043c\u0435\u0441\u0442\u0438\u0442\u044c"})]})]})})}function bb(){const e=Y(),[n,r]=(0,t.useState)(""),[i,s]=(0,t.useState)(""),[o,a]=(0,t.useState)(""),[l,c]=(0,t.useState)(""),[u,h]=(0,t.useState)("");(0,t.useEffect)((()=>{const t=function(e,t,n,r){return ze(e).onAuthStateChanged(t,n,r)}(Lw,(t=>{t&&e("/catalog")}));return()=>t()}),[e]);return(0,Yw.jsx)("div",{className:gb.login,children:(0,Yw.jsxs)("div",{className:gb.loginAuth,children:[(0,Yw.jsxs)("div",{className:gb.loginBlockInfo,children:[(0,Yw.jsx)("h1",{className:gb.loginBlockInfoTitle,children:"\u0414\u043e\u0431\u0440\u043e \u041f\u043e\u0436\u0430\u043b\u043e\u0432\u0430\u0442\u044c"}),(0,Yw.jsx)("p",{className:gb.loginBlockInfoDesc,children:"\u0421\u0435\u0433\u043e\u0434\u043d\u044f \u043d\u043e\u0432\u044b\u0439 \u0434\u0435\u043d\u044c. \u042d\u0442\u043e \u0432\u0430\u0448 \u0434\u0435\u043d\u044c. \u0412\u044b \u0441\u0430\u043c\u0438 \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u044f\u0435\u0442\u0435 \u0435\u0433\u043e. \u0412\u043e\u0439\u0434\u0438\u0442\u0435 \u0432 \u0441\u0438\u0441\u0442\u0435\u043c\u0443, \u0447\u0442\u043e\u0431\u044b \u043d\u0430\u0447\u0430\u0442\u044c \u0443\u043f\u0440\u0430\u0432\u043b\u044f\u0442\u044c \u0441\u0432\u043e\u0438\u043c\u0438 \u043f\u0440\u043e\u0435\u043a\u0442\u0430\u043c\u0438."}),(0,Yw.jsxs)("div",{className:gb.loginBlockInfoEmail,children:[(0,Yw.jsx)("p",{className:gb.loginBlockInfoEmailTitle,children:"\u0418\u043c\u044f"}),(0,Yw.jsx)("input",{className:gb.loginBlockInfoEmailInput,type:"text",placeholder:"\u041f\u0435\u0442\u0440",value:o,onChange:e=>a(e.target.value)})]}),(0,Yw.jsxs)("div",{className:gb.loginBlockInfoEmail,children:[(0,Yw.jsx)("p",{className:gb.loginBlockInfoEmailTitle,children:"\u0424\u0430\u043c\u0438\u043b\u0438\u044f"}),(0,Yw.jsx)("input",{className:gb.loginBlockInfoEmailInput,type:"text",placeholder:"\u041f\u0435\u0442\u0440\u043e\u0432",value:l,onChange:e=>c(e.target.value)})]}),(0,Yw.jsxs)("div",{className:gb.loginBlockInfoEmail,children:[(0,Yw.jsx)("p",{className:gb.loginBlockInfoEmailTitle,children:"\u041f\u043e\u0447\u0442\u0430"}),(0,Yw.jsx)("input",{className:gb.loginBlockInfoEmailInput,type:"text",placeholder:"petrpetrov@gmail.com",value:n,onChange:e=>r(e.target.value)})]}),(0,Yw.jsxs)("div",{className:gb.loginBlockInfoPass,children:[(0,Yw.jsx)("p",{className:gb.loginBlockInfoPassTitle,children:"\u041f\u0430\u0440\u043e\u043b\u044c"}),(0,Yw.jsx)("input",{className:gb.loginBlockInfoPassInput,type:"password",placeholder:"\u041d\u0435 \u043c\u0435\u043d\u0435\u0435 8 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432",value:i,onChange:e=>s(e.target.value)})]}),(0,Yw.jsx)("button",{className:gb.loginBlockInfoEnter,onClick:async t=>{if(t.preventDefault(),""!==o.trim()&&""!==l.trim()&&""!==n.trim()&&""!==i.trim())if(i.length<8)h("\u041f\u0430\u0440\u043e\u043b\u044c \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u043c\u0438\u043d\u0438\u043c\u0443\u043c 8 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432");else try{const t=await async function(e,t,n){if($t(e.app))return Promise.reject(Tn(e));const r=Pr(e),i=Br(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",li),s=await i.catch((t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&yi(e),t})),o=await ci._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(o.user),o}(Lw,n,i),r=t.user.uid,s=bv(wv(Ow,"users"),r);await hy(s,{firstName:o,lastName:l,role:"seller"}),e("/catalog")}catch(u){console.error(u.message),h("\u041e\u0448\u0438\u0431\u043a\u0430 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438. \u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u043f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0435 \u0440\u0430\u0437.")}else h("\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u0437\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u0432\u0441\u0435 \u043f\u043e\u043b\u044f")},children:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"}),u&&(0,Yw.jsx)("p",{children:u})," ",(0,Yw.jsxs)("div",{className:gb.loginBlockBottomReg,children:[(0,Yw.jsx)("p",{className:gb.loginBlockInfoRegDesc,children:"\u0415\u0441\u0442\u044c \u0430\u043a\u043a\u0430\u0443\u043d\u0442 \u043d\u0430 \u041a\u0443\u0440\u0441\u043e\u0411\u0430\u0437\u0430\u0440?"}),(0,Yw.jsx)(Kw,{to:"/login",className:gb.loginBlockInfoReg,children:"\u0412\u043e\u0439\u0442\u0438"}),(0,Yw.jsxs)("p",{className:gb.loginBlockInfoYs,children:["\u041f\u0440\u0438 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438 \u0438 \u0432\u0445\u043e\u0434\u0435 \u0432\u044b \u0441\u043e\u0433\u043b\u0430\u0448\u0430\u0435\u0442\u0435\u0441\u044c \u0441 ",(0,Yw.jsx)(Kw,{children:"\u0443\u0441\u043b\u043e\u0432\u0438\u044f\u043c\u0438 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044f \u041a\u0443\u0440\u0441\u043e\u0411\u0430\u0437\u0430\u0440"})," \u0438 ",(0,Yw.jsx)(Kw,{children:" \u043f\u043e\u043b\u0438\u0442\u0438\u043a\u043e\u0439 \u043a\u043e\u043d\u0444\u0438\u0434\u0435\u043d\u0446\u0438\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u0438"}),"."]})]})]}),(0,Yw.jsx)("div",{className:gb.loginBlockRight,children:(0,Yw.jsx)("img",{className:gb.loginBlockRightImg,src:"https://foto-tula.ru/files/p0135248.jpg",alt:""})})]})})}const _b={profile:"profile_profile__DK6W5",profileTitle:"profile_profileTitle__oYfNZ",profileInfoUp:"profile_profileInfoUp__eLPtk",profileInfoBottom:"profile_profileInfoBottom__aW9v7",dropdownButton:"profile_dropdownButton__+YknV",dropdownButtonSvg:"profile_dropdownButtonSvg__AWKAa",dropdownMenu:"profile_dropdownMenu__NbBZi",dropdownMenuItem:"profile_dropdownMenuItem__P+W79",profileInfoBottomAvatarLabel:"profile_profileInfoBottomAvatarLabel__3-k5p",profileInfoBottomBlockAvatar:"profile_profileInfoBottomBlockAvatar__xYKHw",profileInfoBottomAvatar:"profile_profileInfoBottomAvatar__21JU4",inputEdit:"profile_inputEdit__X7lBA",profileInfoBottomDesc:"profile_profileInfoBottomDesc__Ppjaj",profileInfoBottomDescName:"profile_profileInfoBottomDescName__Tld4Y",profileInfoBottomDescRole:"profile_profileInfoBottomDescRole__mJw-P",profileInfoBottomBtn:"profile_profileInfoBottomBtn__dr2p8",profileContent:"profile_profileContent__5ogth",profileItems:"profile_profileItems__JpUiK",profileItem:"profile_profileItem__MOTjQ",profileCarts:"profile_profileCarts__lcQaN"};function Ab(){const[e,n]=(0,t.useState)({firstName:"",lastName:"",courses:[]}),[r,i]=(0,t.useState)(!1),[s,o]=(0,t.useState)(!1);(0,t.useEffect)((()=>{const e=Lw.onAuthStateChanged((async e=>{if(e)try{const t=e.uid,r=await ly(bv(Ow,"users",t));if(r.exists()){const e=r.data();console.log("UserData:",e),n((t=>({...t,...e,courses:Array.isArray(e.courses)?e.courses:[]})))}else console.log("User document does not exist"),n({firstName:"",lastName:"",courses:[]})}catch(t){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0438 \u0434\u0430\u043d\u043d\u044b\u0445 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f:",t.message)}else console.log("User is not authenticated"),n({firstName:"",lastName:"",courses:[]})}));return e}),[]);const a=async e=>{try{const r=bv(Ow,"users",Lw.currentUser.uid),i=await ly(r);if(i.exists()){const s=i.data(),{courses:o}=s,a=Array.isArray(o)?o.findIndex((t=>t.id===e)):-1;if(-1!==a){const i=[...o.slice(0,a),...o.slice(a+1)];await dy(r,{courses:i}),await(t=bv(Ow,"courses",e),fy(fv(t.firestore,Av),[new Cf(t._key,ff.none())])),n((e=>({...e,courses:i}))),console.log("\u041a\u0430\u0440\u0442\u043e\u0447\u043a\u0430 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0443\u0434\u0430\u043b\u0435\u043d\u0430")}else console.log("\u041a\u0430\u0440\u0442\u043e\u0447\u043a\u0430 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u0430")}else console.log("\u0414\u043e\u043a\u0443\u043c\u0435\u043d\u0442 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d")}catch(r){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u044f \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0438:",r.message)}var t};return(0,Yw.jsxs)("div",{className:_b.profile,children:[(0,Yw.jsxs)("div",{className:_b.profileInfo,children:[(0,Yw.jsx)("div",{className:_b.profileInfoUp}),(0,Yw.jsxs)("div",{className:_b.profileInfoBottom,children:[(0,Yw.jsxs)("label",{className:_b.profileInfoBottomAvatarLabel,children:[(0,Yw.jsx)("div",{className:_b.profileInfoBottomBlockAvatar,children:(0,Yw.jsx)("img",{className:_b.profileInfoBottomAvatar,src:e.photoURL,alt:""})}),(0,Yw.jsx)("button",{className:_b.dropdownButton,onClick:()=>o(!s),children:(0,Yw.jsx)("svg",{className:_b.dropdownButtonSvg,fill:"#000000",width:"800px",height:"800px",viewBox:"0 0 56 56",xmlns:"http://www.w3.org/2000/svg",children:(0,Yw.jsx)("path",{className:_b.dropdownButtonSvg,d:"M 7.8086 50.3477 L 48.1914 50.3477 C 53.0663 50.3477 55.5508 47.9102 55.5508 43.0820 L 55.5508 18.5430 C 55.5508 13.7149 53.0663 11.3008 48.1914 11.3008 L 42.7069 11.3008 C 40.8789 11.3008 40.3164 10.9258 39.2617 9.7539 L 37.3633 7.6445 C 36.2149 6.3555 35.0196 5.6523 32.5820 5.6523 L 23.2539 5.6523 C 20.8398 5.6523 19.6445 6.3555 18.4727 7.6445 L 16.5742 9.7539 C 15.5430 10.9023 14.9571 11.3008 13.1289 11.3008 L 7.8086 11.3008 C 2.9336 11.3008 .4492 13.7149 .4492 18.5430 L .4492 43.0820 C .4492 47.9102 2.9336 50.3477 7.8086 50.3477 Z M 27.9883 42.8477 C 20.9102 42.8477 15.2149 37.1523 15.2149 30.0273 C 15.2149 22.9023 20.9102 17.2071 27.9883 17.2071 C 35.1133 17.2071 40.7852 22.9023 40.7852 30.0273 C 40.7852 37.1523 35.0898 42.8477 27.9883 42.8477 Z M 44.8400 24.3086 C 43.2460 24.3086 41.9336 23.0195 41.9336 21.4258 C 41.9336 19.8086 43.2460 18.5195 44.8400 18.5195 C 46.4336 18.5195 47.7460 19.8086 47.7460 21.4258 C 47.7460 23.0195 46.4336 24.3086 44.8400 24.3086 Z M 27.9883 39.2852 C 33.0977 39.2852 37.2461 35.1602 37.2461 30.0273 C 37.2461 24.8945 33.0977 20.7695 27.9883 20.7695 C 22.8789 20.7695 18.7539 24.8945 18.7539 30.0273 C 18.7539 35.1602 22.9024 39.2852 27.9883 39.2852 Z"})})}),s&&(0,Yw.jsxs)("ul",{className:_b.dropdownMenu,children:[(0,Yw.jsx)("label",{className:_b.dropdownMenuItem,htmlFor:"avatarInput",children:"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0444\u043e\u0442\u043e"}),(0,Yw.jsx)("input",{className:_b.dropdownMenuItem,id:"avatarInput",type:"file",accept:"image/",onChange:async e=>{o(!1);const t=e.target.files[0];if(t)try{const e=Dw(Mw,"avatars/".concat(Lw.currentUser.uid,"/").concat(t.name));await Nw(e,t);const r=await xw(e);console.log("Uploaded file URL:",r),await dy(bv(Ow,"users",Lw.currentUser.uid),{photoURL:r}),n((e=>({...e,photoURL:r})))}catch(r){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0444\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u0438:",r.message)}},style:{display:"none"}})]})]}),(0,Yw.jsxs)("div",{className:_b.profileInfoBottomDesc,children:[!r&&(0,Yw.jsxs)(Yw.Fragment,{children:[(0,Yw.jsxs)("p",{className:_b.profileInfoBottomDescName,children:[e.firstName," ",e.lastName]}),(0,Yw.jsx)("p",{className:_b.profileInfoBottomDescRole,children:"\u041f\u0440\u043e\u0434\u0430\u0432\u0435\u0446"})]}),r&&(0,Yw.jsxs)(Yw.Fragment,{children:[(0,Yw.jsx)("input",{className:_b.inputEdit,type:"text",value:e.firstName,onChange:e=>{const t=e.target.value;n((e=>({...e,firstName:t})))},placeholder:"\u0418\u043c\u044f"}),(0,Yw.jsx)("input",{className:_b.inputEdit,type:"text",value:e.lastName,onChange:e=>{const t=e.target.value;n((e=>({...e,lastName:t})))},placeholder:"\u0424\u0430\u043c\u0438\u043b\u0438\u044f"})]})]}),!r&&(0,Yw.jsx)("button",{className:_b.profileInfoBottomBtn,onClick:()=>{i(!0)},children:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u0440\u043e\u0444\u0438\u043b\u044c"}),r&&(0,Yw.jsx)("button",{className:_b.profileInfoBottomBtn,onClick:async()=>{try{const t=Lw.currentUser.uid;await dy(bv(Ow,"users",t),{firstName:e.firstName,lastName:e.lastName}),console.log("Profile updated successfully"),i(!1)}catch(t){console.error("Error updating profile:",t.message)}},children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f"})]})]}),(0,Yw.jsxs)("div",{className:_b.profileContent,children:[(0,Yw.jsx)("div",{className:_b.profileItems,children:(0,Yw.jsx)("p",{className:_b.profileItem,children:"\u041c\u043e\u0438 \u043a\u0443\u0440\u0441\u044b"})}),(0,Yw.jsx)("div",{className:_b.profileCarts,children:e.courses.map(((e,t)=>(0,Yw.jsx)(nb,{id:e.id,title:e.name,desc:e.description,price:e.price,date:e.duration,photo:e.photoURL,phoneNumber:e.phoneNumber,level:e.difficulty,type:e.learningType,category:e.category,onDelete:a,isOwner:!0},t)))})]})]})}const Eb={moder:"moder_moder__Jd4OL",moderTitle:"moder_moderTitle__vq5i-",moderCarts:"moder_moderCarts__3Yzbt"};function Ib(){const[e,n]=(0,t.useState)([]);(0,t.useEffect)((()=>{(async()=>{try{const e=await uy(wv(Ow,"users")),t=[];e.forEach((e=>{const n=e.data(),r=null===n||void 0===n?void 0:n.courses;Array.isArray(r)?r.forEach((e=>{e.verified||t.push(e)})):"object"!==typeof r||r.verified?console.error("Invalid user courses data:",r):t.push(r)})),n(t)}catch(e){console.error("Error fetching unverified courses:",e)}})()}),[]);const r=async e=>{try{(await uy(wv(Ow,"users"))).forEach((async t=>{const r=t.data(),i=((null===r||void 0===r?void 0:r.courses)||[]).map((t=>t.id===e?{...t,verified:!0}:t));await dy(bv(Ow,"users",t.id),{courses:i}),n((t=>t.filter((t=>t.id!==e))))}))}catch(t){console.error("Error updating course verification status:",t)}};return(0,Yw.jsxs)("div",{className:Eb.moder,children:[(0,Yw.jsx)("h1",{className:Eb.moderTitle,children:"\u041c\u043e\u0434\u0435\u0440\u0430\u0446\u0438\u044f \u043a\u0443\u0440\u0441\u043e\u0432"}),(0,Yw.jsx)("div",{className:Eb.moderCarts,children:e.map(((e,t)=>(0,Yw.jsx)(nb,{id:e.id,title:e.name,desc:e.description,price:e.price,date:e.duration,photo:e.photoURL,phoneNumber:e.phoneNumber,isModer:!0,onApprove:r},t)))})]})}const kb=function(){const[e,n]=(0,t.useState)(null);return(0,t.useEffect)((()=>{const e=Lw.onAuthStateChanged((e=>{n(e)}));return()=>e()}),[]),(0,Yw.jsxs)("div",{className:"app",children:[(0,Yw.jsx)($w,{}),(0,Yw.jsxs)("div",{className:"content",children:[(0,Yw.jsx)(mb,{}),(0,Yw.jsxs)(pe,{children:[e?(0,Yw.jsx)(de,{path:"/moder",element:(0,Yw.jsx)(Ib,{})}):(0,Yw.jsx)(de,{path:"/moder",element:(0,Yw.jsx)(he,{to:"/login",replace:!0})}),e?(0,Yw.jsx)(de,{path:"/additem",element:(0,Yw.jsx)(wb,{})}):(0,Yw.jsx)(de,{path:"/additem",element:(0,Yw.jsx)(he,{to:"/login",replace:!0})}),e?(0,Yw.jsx)(de,{path:"/profile",element:(0,Yw.jsx)(Ab,{})}):(0,Yw.jsx)(de,{path:"/profile",element:(0,Yw.jsx)(he,{to:"/login",replace:!0})}),e?(0,Yw.jsx)(de,{path:"/login",element:(0,Yw.jsx)(he,{to:"/catalog",replace:!0})}):(0,Yw.jsx)(de,{path:"/login",element:(0,Yw.jsx)(vb,{})}),e?(0,Yw.jsx)(de,{path:"/reg",element:(0,Yw.jsx)(he,{to:"/catalog",replace:!0})}):(0,Yw.jsx)(de,{path:"/reg",element:(0,Yw.jsx)(bb,{})}),(0,Yw.jsx)(de,{path:"/catalog",element:(0,Yw.jsx)(fb,{})})]})]})]})};i.createRoot(document.getElementById("root")).render((0,Yw.jsx)(t.StrictMode,{children:(0,Yw.jsx)(qw,{children:(0,Yw.jsx)(kb,{})})}))})()})();
//# sourceMappingURL=main.1a0acf80.js.map